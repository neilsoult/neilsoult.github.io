(self.webpackChunklego_inventory=self.webpackChunklego_inventory||[]).push([[179],{8255:Be=>{function fe(k){return Promise.resolve().then(()=>{var d=new Error("Cannot find module '"+k+"'");throw d.code="MODULE_NOT_FOUND",d})}fe.keys=()=>[],fe.resolve=fe,fe.id=8255,Be.exports=fe},7716:(Be,fe,k)=>{"use strict";k.d(fe,{deG:()=>Ec,tb:()=>ab,AFp:()=>ib,ip1:()=>rb,CZH:()=>ss,hGG:()=>ND,z2F:()=>xg,sBO:()=>kr,Sil:()=>Eg,_Vd:()=>Us,EJc:()=>lb,SBq:()=>io,qLn:()=>Zo,vpe:()=>No,gxx:()=>bn,tBr:()=>an,XFs:()=>xe,OlP:()=>Qt,zs3:()=>lt,ZZ4:()=>xo,aQg:()=>av,soG:()=>th,YKP:()=>Ro,v3s:()=>ak,h0i:()=>js,PXZ:()=>bb,R0b:()=>cr,FiY:()=>wi,Lbi:()=>sb,g9A:()=>ob,n_E:()=>Gu,Qsj:()=>hI,FYo:()=>Mu,JOm:()=>ei,Tiy:()=>Au,q3G:()=>ln,PiD:()=>_n,tp0:()=>Tr,EAV:()=>H1,Rgc:()=>qa,dDg:()=>_D,DyG:()=>Cl,q4F:()=>Up,GfV:()=>rS,s_b:()=>Pd,ifc:()=>Re,eFA:()=>Vi,G48:()=>mb,Gpc:()=>G,f3M:()=>Vm,X6Q:()=>Mg,_c5:()=>W1,VLi:()=>ok,c2e:()=>as,zSh:()=>Ms,wAp:()=>$e,vHH:()=>de,EiD:()=>ww,mCW:()=>kl,qzn:()=>Ol,JVY:()=>yr,pB0:()=>NM,eBb:()=>FM,L6k:()=>Fc,LAX:()=>Nc,cg1:()=>Ny,Tjo:()=>RD,kL8:()=>Py,yhl:()=>fw,dqk:()=>Ut,sIi:()=>md,CqO:()=>by,QGY:()=>lp,F4k:()=>vy,RDi:()=>ZT,AaK:()=>q,z3N:()=>vo,qOj:()=>ty,TTD:()=>mo,_Bn:()=>rs,xp6:()=>w_,uIk:()=>xs,ekj:()=>Na,Suo:()=>BS,Xpm:()=>Un,lG2:()=>um,Yz7:()=>wt,cJS:()=>Pn,oAB:()=>lm,Yjl:()=>C0,Y36:()=>uu,_UZ:()=>_y,BQk:()=>Ps,ynx:()=>yy,qZA:()=>my,TgZ:()=>ap,EpF:()=>wd,n5z:()=>zo,Ikx:()=>Td,LFG:()=>Pe,$8M:()=>Am,NdJ:()=>wy,CRH:()=>Kd,O4$:()=>pM,oxw:()=>ZC,ALo:()=>kS,lcZ:()=>Uv,Hsn:()=>QC,F$t:()=>KC,Q6J:()=>sp,VKq:()=>xS,iGM:()=>hg,MAs:()=>ay,CHM:()=>vm,LSH:()=>Vc,kYT:()=>b0,Udp:()=>fu,WFA:()=>Cy,d8E:()=>to,YNc:()=>oy,W1O:()=>u1,_uU:()=>Pa,Oqu:()=>mp,hij:()=>Dd,AsE:()=>mu,Gf:()=>VS});var d=k(9765),Q=k(5319),ce=k(7574),oe=k(6682),te=k(8819);function $(a){for(let l in a)if(a[l]===$)return l;throw Error("Could not find renamed property on target object.")}function j(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function q(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(q).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function B(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const O=$({__forward_ref__:$});function G(a){return a.__forward_ref__=G,a.toString=function(){return q(this())},a}function F(a){return z(a)?a():a}function z(a){return"function"==typeof a&&a.hasOwnProperty(O)&&a.__forward_ref__===G}class de extends Error{constructor(l,u){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,u)),this.code=l}}function be(a){return"string"==typeof a?a:null==a?"":String(a)}function Te(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():be(a)}function $t(a,l){const u=l?` in ${l}`:"";throw new de("201",`No provider for ${Te(a)} found${u}`)}function ct(a,l){null==a&&function(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function wt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Pn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Vr(a){return ll(a,yt)||ll(a,Br)}function ll(a,l){return a.hasOwnProperty(l)?a[l]:null}function fc(a){return a&&(a.hasOwnProperty(vt)||a.hasOwnProperty(hr))?a[vt]:null}const yt=$({\u0275prov:$}),vt=$({\u0275inj:$}),Br=$({ngInjectableDef:$}),hr=$({ngInjectorDef:$});var xe=(()=>((xe=xe||{})[xe.Default=0]="Default",xe[xe.Host=1]="Host",xe[xe.Self=2]="Self",xe[xe.SkipSelf=4]="SkipSelf",xe[xe.Optional=8]="Optional",xe))();let Wt;function Vn(a){const l=Wt;return Wt=a,l}function ds(a,l,u){const h=Vr(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&xe.Optional?null:void 0!==l?l:void $t(q(a),"Injector")}function jo(a){return{toString:a}.toString()}var or=(()=>((or=or||{})[or.OnPush=0]="OnPush",or[or.Default=1]="Default",or))(),Re=(()=>((Re=Re||{})[Re.Emulated=0]="Emulated",Re[Re.None=2]="None",Re[Re.ShadowDom=3]="ShadowDom",Re))();const nt="undefined"!=typeof globalThis&&globalThis,am="undefined"!=typeof window&&window,ul="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,po="undefined"!=typeof global&&global,Ut=nt||po||am||ul,L={},P=[],H=$({\u0275cmp:$}),ae=$({\u0275dir:$}),W=$({\u0275pipe:$}),Ee=$({\u0275mod:$}),We=$({\u0275loc:$}),dt=$({\u0275fac:$}),Mt=$({__NG_ELEMENT_ID__:$});let kt=0;function Un(a){return jo(()=>{const u={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===or.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||P,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Re.Emulated,id:"c",styles:a.styles||P,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,g=a.features,_=a.pipes;return h.id+=kt++,h.inputs=w0(a.inputs,u),h.outputs=w0(a.outputs),g&&g.forEach(v=>v(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Wr):null,h.pipeDefs=_?()=>("function"==typeof _?_():_).map(hs):null,h})}function Wr(a){return fr(a)||function(a){return a[ae]||null}(a)}function hs(a){return function(a){return a[W]||null}(a)}const Ah={};function lm(a){return jo(()=>{const l={type:a.type,bootstrap:a.bootstrap||P,declarations:a.declarations||P,imports:a.imports||P,exports:a.exports||P,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Ah[a.id]=a.type),l})}function b0(a,l){return jo(()=>{const u=mi(a,!0);u.declarations=l.declarations||P,u.imports=l.imports||P,u.exports=l.exports||P})}function w0(a,l){if(null==a)return L;const u={};for(const h in a)if(a.hasOwnProperty(h)){let p=a[h],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),u[p]=h,l&&(l[p]=g)}return u}const um=Un;function C0(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function fr(a){return a[H]||null}function mi(a,l){const u=a[Ee]||null;if(!u&&!0===l)throw new Error(`Type ${q(a)} does not have '\u0275mod' property.`);return u}function Go(a){return Array.isArray(a)&&"object"==typeof a[1]}function yi(a){return Array.isArray(a)&&!0===a[1]}function hm(a){return 0!=(8&a.flags)}function Ih(a){return 2==(2&a.flags)}function xh(a){return 1==(1&a.flags)}function go(a){return null!==a.template}function $i(a){return 0!=(512&a[2])}function sa(a,l){return a.hasOwnProperty(dt)?a[dt]:null}class $T{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function mo(){return pm}function pm(a){return a.type.prototype.ngOnChanges&&(a.setInput=WT),YT}function YT(){const a=A0(this),l=null==a?void 0:a.current;if(l){const u=a.previous;if(u===L)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function WT(a,l,u,h){const p=A0(a)||function(a,l){return a[M0]=l}(a,{previous:L,current:null}),g=p.current||(p.current={}),_=p.previous,v=this.declaredInputs[u],w=_[v];g[v]=new $T(w&&w.currentValue,l,_===L),a[h]=l}mo.ngInherit=!0;const M0="__ngSimpleChanges__";function A0(a){return a[M0]||null}const gm="http://www.w3.org/2000/svg";let Oh;function ZT(a){Oh=a}function on(a){return!!a.listen}const gl={createRenderer:(a,l)=>void 0!==Oh?Oh:"undefined"!=typeof document?document:void 0};function Xt(a){for(;Array.isArray(a);)a=a[0];return a}function kh(a,l){return Xt(l[a])}function vi(a,l){return Xt(l[a.index])}function _m(a,l){return a.data[l]}function ml(a,l){return a[l]}function Qr(a,l){const u=l[a];return Go(u)?u:u[0]}function eM(a){return 4==(4&a[2])}function F0(a){return 128==(128&a[2])}function aa(a,l){return null==l?null:a[l]}function N0(a){a[18]=0}function ym(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Xe={lFrame:cM(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function oM(){return Xe.bindingsEnabled}function pe(){return Xe.lFrame.lView}function gt(){return Xe.lFrame.tView}function vm(a){return Xe.lFrame.contextLView=a,a[8]}function en(){let a=bm();for(;null!==a&&64===a.type;)a=a.parent;return a}function bm(){return Xe.lFrame.currentTNode}function bi(a,l){const u=Xe.lFrame;u.currentTNode=a,u.isParent=l}function Nh(){return Xe.lFrame.isParent}function Ph(){Xe.lFrame.isParent=!1}function Lh(){return Xe.isInCheckNoChangesMode}function Vh(a){Xe.isInCheckNoChangesMode=a}function Jn(){const a=Xe.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Wi(){return Xe.lFrame.bindingIndex}function qo(){return Xe.lFrame.bindingIndex++}function Zi(a){const l=Xe.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function L0(a,l){const u=Xe.lFrame;u.bindingIndex=u.bindingRootIndex=a,wm(l)}function wm(a){Xe.lFrame.currentDirectiveIndex=a}function Cm(a){const l=Xe.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function V0(){return Xe.lFrame.currentQueryIndex}function _c(a){Xe.lFrame.currentQueryIndex=a}function B0(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function U0(a,l,u){if(u&xe.SkipSelf){let p=l,g=a;for(;!(p=p.parent,null!==p||u&xe.Host||(p=B0(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;l=p,a=g}const h=Xe.lFrame=j0();return h.currentTNode=l,h.lView=a,!0}function Bh(a){const l=j0(),u=a[1];Xe.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function j0(){const a=Xe.lFrame,l=null===a?null:a.child;return null===l?cM(a):l}function cM(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function H0(){const a=Xe.lFrame;return Xe.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const dM=H0;function yc(){const a=H0();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function pr(){return Xe.lFrame.selectedIndex}function ua(a){Xe.lFrame.selectedIndex=a}function gn(){const a=Xe.lFrame;return _m(a.tView,a.selectedIndex)}function pM(){Xe.lFrame.currentNamespace=gm}function Uh(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:w,ngAfterViewChecked:E,ngOnDestroy:S}=g;_&&(a.contentHooks||(a.contentHooks=[])).push(-u,_),v&&((a.contentHooks||(a.contentHooks=[])).push(u,v),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,v)),w&&(a.viewHooks||(a.viewHooks=[])).push(-u,w),E&&((a.viewHooks||(a.viewHooks=[])).push(u,E),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,E)),null!=S&&(a.destroyHooks||(a.destroyHooks=[])).push(u,S)}}function yl(a,l,u){G0(a,l,3,u)}function jh(a,l,u,h){(3&a[2])===u&&G0(a,l,u,h)}function Em(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function G0(a,l,u,h){const g=null!=h?h:-1,_=l.length-1;let v=0;for(let w=void 0!==h?65535&a[18]:0;w<_;w++)if("number"==typeof l[w+1]){if(v=l[w],null!=h&&v>=h)break}else l[w]<0&&(a[18]+=65536),(v<g||-1==g)&&(yM(a,u,l,w),a[18]=(4294901760&a[18])+w+2),w++}function yM(a,l,u,h){const p=u[h]<0,g=u[h+1],v=a[p?-u[h]:u[h]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(v)}finally{}}}else try{g.call(v)}finally{}}class Hh{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Tm(a,l,u){const h=on(a);let p=0;for(;p<u.length;){const g=u[p];if("number"==typeof g){if(0!==g)break;p++;const _=u[p++],v=u[p++],w=u[p++];h?a.setAttribute(l,v,w,_):l.setAttributeNS(_,v,w)}else{const _=g,v=u[++p];_o(_)?h&&a.setProperty(l,_,v):h?a.setAttribute(l,_,v):l.setAttribute(_,v),p++}}return p}function q0(a){return 3===a||4===a||6===a}function _o(a){return 64===a.charCodeAt(0)}function Gh(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const p=l[h];"number"==typeof p?u=p:0===u||z0(a,u,p,null,-1===u||2===u?l[++h]:null)}}return a}function z0(a,l,u,h,p){let g=0,_=a.length;if(-1===l)_=-1;else for(;g<a.length;){const v=a[g++];if("number"==typeof v){if(v===l){_=-1;break}if(v>l){_=g-1;break}}}for(;g<a.length;){const v=a[g];if("number"==typeof v)break;if(v===u){if(null===h)return void(null!==p&&(a[g+1]=p));if(h===a[g+1])return void(a[g+2]=p)}g++,null!==h&&g++,null!==p&&g++}-1!==_&&(a.splice(_,0,l),g=_+1),a.splice(g++,0,u),null!==h&&a.splice(g++,0,h),null!==p&&a.splice(g++,0,p)}function qh(a){return-1!==a}function ca(a){return 32767&a}function bc(a,l){let u=function(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let $0=!0;function zh(a){const l=$0;return $0=a,l}let dO=0;function wc(a,l){const u=Ne(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,W0(h.data,a),W0(l,null),W0(h.blueprint,null));const p=Vt(a,l),g=a.injectorIndex;if(qh(p)){const _=ca(p),v=bc(p,l),w=v[1].data;for(let E=0;E<8;E++)l[g+E]=v[_+E]|w[_+E]}return l[g+8]=p,g}function W0(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Ne(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Vt(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,p=l;for(;null!==p;){const g=p[1],_=g.type;if(h=2===_?g.declTNode:1===_?p[6]:null,null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function mn(a,l,u){!function(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Mt)&&(h=u[Mt]),null==h&&(h=u[Mt]=dO++);const p=255&h;l.data[a+(p>>5)]|=1<<p}(a,l,u)}function sn(a,l,u){if(u&xe.Optional)return a;$t(l,"NodeInjector")}function Ft(a,l,u,h){if(u&xe.Optional&&void 0===h&&(h=null),0==(u&(xe.Self|xe.Host))){const p=a[9],g=Vn(void 0);try{return p?p.get(l,h,u&xe.Optional):ds(l,h,u&xe.Optional)}finally{Vn(g)}}return sn(h,l,u)}function Z0(a,l,u,h=xe.Default,p){if(null!==a){const g=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Mt)?a[Mt]:void 0;return"number"==typeof l?l>=0?255&l:Le:l}(u);if("function"==typeof g){if(!U0(l,a,h))return h&xe.Host?sn(p,u,h):Ft(l,u,h,p);try{const _=g(h);if(null!=_||h&xe.Optional)return _;$t(u)}finally{dM()}}else if("number"==typeof g){let _=null,v=Ne(a,l),w=-1,E=h&xe.Host?l[16][6]:null;for((-1===v||h&xe.SkipSelf)&&(w=-1===v?Vt(a,l):l[v+8],-1!==w&&Mm(h,!1)?(_=l[1],v=ca(w),l=bc(w,l)):v=-1);-1!==v;){const S=l[1];if(J0(g,v,S.data)){const M=Q0(v,l,u,_,h,E);if(M!==K0)return M}w=l[v+8],-1!==w&&Mm(h,l[1].data[v+8]===E)&&J0(g,v,l)?(_=S,v=ca(w),l=bc(w,l)):v=-1}}}return Ft(l,u,h,p)}const K0={};function Le(){return new da(en(),pe())}function Q0(a,l,u,h,p,g){const _=l[1],v=_.data[a+8],S=Cc(v,_,u,null==h?Ih(v)&&$0:h!=_&&0!=(3&v.type),p&xe.Host&&g===v);return null!==S?jr(l,_,S,v):K0}function Cc(a,l,u,h,p){const g=a.providerIndexes,_=l.data,v=1048575&g,w=a.directiveStart,S=g>>20,I=p?v+S:a.directiveEnd;for(let N=h?v:v+S;N<I;N++){const U=_[N];if(N<w&&u===U||N>=w&&U.type===u)return N}if(p){const N=_[w];if(N&&go(N)&&N.type===u)return w}return null}function jr(a,l,u,h){let p=a[u];const g=l.data;if(function(a){return a instanceof Hh}(p)){const _=p;_.resolving&&function(a,l){throw new de("200",`Circular dependency in DI detected for ${a}`)}(Te(g[u]));const v=zh(_.canSeeViewProviders);_.resolving=!0;const w=_.injectImpl?Vn(_.injectImpl):null;U0(a,h,xe.Default);try{p=a[u]=_.factory(void 0,g,a,h),l.firstCreatePass&&u>=h.directiveStart&&function(a,l,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:g}=l.type.prototype;if(h){const _=pm(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],l)}finally{null!==w&&Vn(w),zh(v),_.resolving=!1,dM()}}return p}function J0(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Mm(a,l){return!(a&xe.Self||a&xe.Host&&l)}class da{constructor(l,u){this._tNode=l,this._lView=u}get(l,u){return Z0(this._tNode,this._lView,l,void 0,u)}}function zo(a){return jo(()=>{const l=a.prototype.constructor,u=l[dt]||X0(l),h=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==h;){const g=p[dt]||X0(p);if(g&&g!==u)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function X0(a){return z(a)?()=>{const l=X0(F(a));return l&&l()}:sa(a)}function Am(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const g=u[p];if(q0(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(g===l)return u[p+1];p+=2}}}return null}(en(),a)}const ha="__parameters__";function Ki(a,l,u){return jo(()=>{const h=function(a){return function(...u){if(a){const h=a(...u);for(const p in h)this[p]=h[p]}}}(l);function p(...g){if(this instanceof p)return h.apply(this,g),this;const _=new p(...g);return v.annotation=_,v;function v(w,E,S){const M=w.hasOwnProperty(ha)?w[ha]:Object.defineProperty(w,ha,{value:[]})[ha];for(;M.length<=S;)M.push(null);return(M[S]=M[S]||[]).push(_),w}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class Qt{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ec=new Qt("AnalyzeForEntryComponents"),Cl=Function;function Hr(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),Hr(h,l)):l!==a&&l.push(h)}return l}function yo(a,l){a.forEach(u=>Array.isArray(u)?yo(u,l):l(u))}function km(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Sl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ps(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function gr(a,l,u){let h=$o(a,l);return h>=0?a[1|h]=u:(h=~h,function(a,l,u,h){let p=a.length;if(p==l)a.push(u,h);else if(1===p)a.push(h,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Fm(a,l){const u=$o(a,l);if(u>=0)return a[1|u]}function $o(a,l){return function(a,l,u){let h=0,p=a.length>>u;for(;p!==h;){const g=h+(p-h>>1),_=a[g<<u];if(l===_)return g<<u;_>l?p=g:h=g+1}return~(p<<u)}(a,l,1)}const Jr={},Pm="__NG_DI_FLAG__",Ml="ngTempTokenPath",It=/\n/gm,Tc="__source",Zh=$({provide:String,useValue:$});let Mc;function Ae(a){const l=Mc;return Mc=a,l}function Lm(a,l=xe.Default){if(void 0===Mc)throw new Error("inject() must be called from an injection context");return null===Mc?ds(a,void 0,l):Mc.get(a,l&xe.Optional?null:void 0,l)}function Pe(a,l=xe.Default){return(Wt||Lm)(F(a),l)}const Vm=Pe;function Qi(a){const l=[];for(let u=0;u<a.length;u++){const h=F(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let p,g=xe.Default;for(let _=0;_<h.length;_++){const v=h[_],w=Bm(v);"number"==typeof w?-1===w?p=v.token:g|=w:p=v}l.push(Pe(p,g))}else l.push(Pe(h))}return l}function Ic(a,l){return a[Pm]=l,a.prototype[Pm]=l,a}function Bm(a){return a[Pm]}function rw(a,l,u,h){const p=a[Ml];throw l[Tc]&&p.unshift(l[Tc]),a.message=function(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=q(l);if(Array.isArray(l))p=l.map(q).join(" -> ");else if("object"==typeof l){let g=[];for(let _ in l)if(l.hasOwnProperty(_)){let v=l[_];g.push(_+":"+("string"==typeof v?JSON.stringify(v):q(v)))}p=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${a.replace(It,"\n  ")}`}("\n"+a.message,p,u,h),a.ngTokenPath=p,a[Ml]=null,a}const an=Ic(Ki("Inject",a=>({token:a})),-1),wi=Ic(Ki("Optional"),8),_n=Ic(Ki("Self"),2),Tr=Ic(Ki("SkipSelf"),4);let Rc;function Il(a){var l;return(null===(l=function(){if(void 0===Rc&&(Rc=null,Ut.trustedTypes))try{Rc=Ut.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Rc}())||void 0===l?void 0:l.createHTML(a))||a}class Wo{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Gm extends Wo{getTypeName(){return"HTML"}}class qm extends Wo{getTypeName(){return"Style"}}class OM extends Wo{getTypeName(){return"Script"}}class kM extends Wo{getTypeName(){return"URL"}}class zm extends Wo{getTypeName(){return"ResourceURL"}}function vo(a){return a instanceof Wo?a.changingThisBreaksApplicationSecurity:a}function Ol(a,l){const u=fw(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function fw(a){return a instanceof Wo&&a.getTypeName()||null}function yr(a){return new Gm(a)}function Fc(a){return new qm(a)}function FM(a){return new OM(a)}function Nc(a){return new kM(a)}function NM(a){return new zm(a)}class Jh{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(Il(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Xh{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Il(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Il(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let p=u.length-1;0<p;p--){const _=u.item(p).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&l.removeAttribute(_)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Ym=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function kl(a){return(a=String(a)).match(Ym)||a.match(Wm)?a:"unsafe:"+a}function bo(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function Fl(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const Km=bo("area,br,col,hr,img,wbr"),ef=bo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Qm=bo("rp,rt"),Pc=Fl(Km,Fl(ef,bo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fl(Qm,bo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fl(Qm,ef)),An=bo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qn=bo("srcset"),vw=Fl(An,qn,bo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),PM=bo("script,style,template");class bw{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Pc.hasOwnProperty(u))return this.sanitizedSomething=!0,!PM.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let p=0;p<h.length;p++){const g=h.item(p),_=g.name,v=_.toLowerCase();if(!vw.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let w=g.value;An[v]&&(w=kl(w)),qn[v]&&(a=w,w=(a=String(a)).split(",").map(l=>kl(l.trim())).join(", ")),this.buf.push(" ",_,'="',tf(w),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Pc.hasOwnProperty(u)&&!Km.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(tf(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const LM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,VM=/([^\#-~ |!])/g;function tf(a){return a.replace(/&/g,"&amp;").replace(LM,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(VM,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nl;function ww(a,l){let u=null;try{Nl=Nl||function(a){const l=new Xh(a);return function(){try{return!!(new window.DOMParser).parseFromString(Il(""),"text/html")}catch(a){return!1}}()?new Jh(l):l}(a);let h=l?String(l):"";u=Nl.getInertBodyElement(h);let p=5,g=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=g,g=u.innerHTML,u=Nl.getInertBodyElement(h)}while(h!==g);return Il((new bw).sanitizeChildren(Lc(u)||u))}finally{if(u){const h=Lc(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function Lc(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var ln=(()=>((ln=ln||{})[ln.NONE=0]="NONE",ln[ln.HTML=1]="HTML",ln[ln.STYLE=2]="STYLE",ln[ln.SCRIPT=3]="SCRIPT",ln[ln.URL=4]="URL",ln[ln.RESOURCE_URL=5]="RESOURCE_URL",ln))();function Vc(a){const l=function(){const a=pe();return a&&a[12]}();return l?l.sanitize(ln.URL,a)||"":Ol(a,"URL")?vo(a):kl(be(a))}const gs="__ngContext__";function sr(a,l){a[gs]=l}function rf(a){const l=function(a){return a[gs]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Gc(a){return a.ngOriginalError}function a_(a,...l){a.error(...l)}class Zo{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),h=this._findContext(l),p=(a=l)&&a.ngErrorLogger||a_;var a;p(this._console,"ERROR",l),u&&p(this._console,"ORIGINAL ERROR",u),h&&p(this._console,"ERROR CONTEXT",h)}_findContext(l){return l?l.ngDebugContext||this._findContext(Gc(l)):null}_findOriginalError(l){let u=l&&Gc(l);for(;u&&Gc(u);)u=Gc(u);return u||null}}const uf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ut))();function wo(a){return a instanceof Function?a():a}var ei=(()=>((ei=ei||{})[ei.Important=1]="Important",ei[ei.DashCase=2]="DashCase",ei))();function Ht(a,l){return undefined(a,l)}function Yc(a){const l=a[3];return yi(l)?l[3]:l}function d_(a){return Nw(a[13])}function hf(a){return Nw(a[4])}function Nw(a){for(;null!==a&&!yi(a);)a=a[4];return a}function Gl(a,l,u,h,p){if(null!=h){let g,_=!1;yi(h)?g=h:Go(h)&&(_=!0,h=h[0]);const v=Xt(h);0===a&&null!==u?null==p?jw(l,u,v):ya(l,u,v,p||null,!0):1===a&&null!==u?ya(l,u,v,p||null,!0):2===a?function(a,l,u){const h=bs(a,l);h&&function(a,l,u,h){on(a)?a.removeChild(l,u,h):l.removeChild(u)}(a,h,l,u)}(l,v,_):3===a&&l.destroyNode(v),null!=g&&function(a,l,u,h,p){const g=u[7];g!==Xt(u)&&Gl(l,a,h,g,p);for(let v=10;v<u.length;v++){const w=u[v];Yl(w[1],w,a,l,h,g)}}(l,a,g,u,p)}}function ff(a,l,u){return on(a)?a.createElement(l,u):null===u?a.createElement(l):a.createElementNS(u,l)}function Bw(a,l){const u=a[9],h=u.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,ym(p,-1)),u.splice(h,1)}function pf(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const p=h[17];null!==p&&p!==a&&Bw(p,h),l>0&&(a[u-1][4]=h[4]);const g=Sl(a,10+l);!function(a,l){Yl(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const _=g[19];null!==_&&_.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function f_(a,l){if(!(256&l[2])){const u=l[11];on(u)&&u.destroyNode&&Yl(a,l,u,3,null,null),function(a){let l=a[13];if(!l)return Wc(a[1],a);for(;l;){let u=null;if(Go(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)Go(l)&&Wc(l[1],l),l=l[3];null===l&&(l=a),Go(l)&&Wc(l[1],l),u=l&&l[4]}l=u}}(l)}}function Wc(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const p=l[u[h]];if(!(p instanceof Hh)){const g=u[h+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const v=p[g[_]],w=g[_+1];try{w.call(v)}finally{}}else try{g.call(p)}finally{}}}}(a,l),function(a,l){const u=a.cleanup,h=l[7];let p=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const _=u[g+1],v="function"==typeof _?_(l):Xt(l[_]),w=h[p=u[g+2]],E=u[g+3];"boolean"==typeof E?v.removeEventListener(u[g],w,E):E>=0?h[p=E]():h[p=-E].unsubscribe(),g+=2}else{const _=h[p=u[g+1]];u[g].call(_)}if(null!==h){for(let g=p+1;g<h.length;g++)h[g]();l[7]=null}}(a,l),1===l[1].type&&on(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&yi(l[3])){u!==l[3]&&Bw(u,l);const h=l[19];null!==h&&h.detachView(a)}}}function g_(a,l,u){return function(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const p=a.data[h.directiveStart].encapsulation;if(p===Re.None||p===Re.Emulated)return null}return vi(h,u)}(a,l.parent,u)}function ya(a,l,u,h,p){on(a)?a.insertBefore(l,u,h,p):l.insertBefore(u,h,p)}function jw(a,l,u){on(a)?a.appendChild(l,u):l.appendChild(u)}function Hw(a,l,u,h,p){null!==h?ya(a,l,u,h,p):jw(a,l,u)}function bs(a,l){return on(a)?a.parentNode(l):l.parentNode}function yf(a,l,u){return $l(a,l,u)}let $l=function(a,l,u){return 40&a.type?vi(a,u):null};function tn(a,l,u,h){const p=g_(a,h,l),g=l[11],v=yf(h.parent||l[6],h,l);if(null!=p)if(Array.isArray(u))for(let w=0;w<u.length;w++)Hw(g,p,u[w],v,!1);else Hw(g,p,u,v,!1)}function Zc(a,l){if(null!==l){const u=l.type;if(3&u)return vi(l,a);if(4&u)return __(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return Zc(a,h);{const p=a[l.index];return yi(p)?__(-1,p):Xt(p)}}if(32&u)return Ht(l,a)()||Xt(a[l.index]);{const h=qw(a,l);return null!==h?Array.isArray(h)?h[0]:Zc(Yc(a[16]),h):Zc(a,l.next)}}return null}function qw(a,l){return null!==l?a[16][6].projection[l.projection]:null}function __(a,l){const u=10+a+1;if(u<l.length){const h=l[u],p=h[1].firstChild;if(null!==p)return Zc(h,p)}return l[7]}function y_(a,l,u,h,p,g,_){for(;null!=u;){const v=h[u.index],w=u.type;if(_&&0===l&&(v&&sr(Xt(v),h),u.flags|=4),64!=(64&u.flags))if(8&w)y_(a,l,u.child,h,p,g,!1),Gl(l,a,p,v,g);else if(32&w){const E=Ht(u,h);let S;for(;S=E();)Gl(l,a,p,S,g);Gl(l,a,p,v,g)}else 16&w?v_(a,l,h,u,p,g):Gl(l,a,p,v,g);u=_?u.projectionNext:u.next}}function Yl(a,l,u,h,p,g){y_(u,h,a.firstChild,l,p,g,!1)}function v_(a,l,u,h,p,g){const _=u[16],w=_[6].projection[h.projection];if(Array.isArray(w))for(let E=0;E<w.length;E++)Gl(l,a,p,w[E],g);else y_(a,l,w,_[3],p,g,!0)}function Co(a,l,u){on(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function bf(a,l,u){on(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function Ww(a,l,u){let h=a.length;for(;;){const p=a.indexOf(l,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const g=l.length;if(p+g===h||a.charCodeAt(p+g)<=32)return p}u=p+1}}const Wl="ng-template";function Kw(a,l,u){let h=0;for(;h<a.length;){let p=a[h++];if(u&&"class"===p){if(p=a[h],-1!==Ww(p.toLowerCase(),l,0))return!0}else if(1===p){for(;h<a.length&&"string"==typeof(p=a[h++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function wf(a){return 4===a.type&&a.value!==Wl}function Cf(a,l,u){return l===(4!==a.type||u?a.value:Wl)}function Qw(a,l,u){let h=4;const p=a.attrs||[],g=function(a){for(let l=0;l<a.length;l++)if(q0(a[l]))return l;return a.length}(p);let _=!1;for(let v=0;v<l.length;v++){const w=l[v];if("number"!=typeof w){if(!_)if(4&h){if(h=2|1&h,""!==w&&!Cf(a,w,u)||""===w&&1===l.length){if(ti(h))return!1;_=!0}}else{const E=8&h?w:l[++v];if(8&h&&null!==a.attrs){if(!Kw(a.attrs,E,u)){if(ti(h))return!1;_=!0}continue}const M=Ef(8&h?"class":w,p,wf(a),u);if(-1===M){if(ti(h))return!1;_=!0;continue}if(""!==E){let I;I=M>g?"":p[M+1].toLowerCase();const N=8&h?I:null;if(N&&-1!==Ww(N,E,0)||2&h&&E!==I){if(ti(h))return!1;_=!0}}}}else{if(!_&&!ti(h)&&!ti(w))return!1;if(_&&ti(w))continue;_=!1,h=w|1&h}}return ti(h)||_}function ti(a){return 0==(1&a)}function Ef(a,l,u,h){if(null===l)return-1;let p=0;if(h||!u){let g=!1;for(;p<l.length;){const _=l[p];if(_===a)return p;if(3===_||6===_)g=!0;else{if(1===_||2===_){let v=l[++p];for(;"string"==typeof v;)v=l[++p];continue}if(4===_)break;if(0===_){p+=4;continue}}p+=g?1:2}return-1}return function(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function Jw(a,l,u=!1){for(let h=0;h<l.length;h++)if(Qw(a,l[h],u))return!0;return!1}function tC(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let p=0;p<a.length;p++)if(a[p]!==h[p])continue e;return!0}}return!1}function Sf(a,l){return a?":not("+l.trim()+")":l}function b_(a){let l=a[0],u=1,h=2,p="",g=!1;for(;u<a.length;){let _=a[u];if("string"==typeof _)if(2&h){const v=a[++u];p+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&h?p+="."+_:4&h&&(p+=" "+_);else""!==p&&!ti(_)&&(l+=Sf(g,p),p=""),h=_,g=g||!ti(h);u++}return""!==p&&(l+=Sf(g,p)),l}const et={};function w_(a){ws(gt(),pe(),pr()+a,Lh())}function ws(a,l,u,h){if(!h)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&yl(l,g,u)}else{const g=a.preOrderHooks;null!==g&&jh(l,g,0,u)}ua(u)}function Qc(a,l){return a<<17|l<<2}function Ci(a){return a>>17&32767}function Zl(a){return 2|a}function yn(a){return(131068&a)>>2}function Tf(a,l){return-131069&a|l<<2}function Cs(a){return 1|a}function wa(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],g=u[h+1];if(-1!==g){const _=a.data[g];_c(p),_.contentQueries(2,l[g],g)}}}function Ko(a,l,u,h,p,g,_,v,w,E){const S=l.blueprint.slice();return S[0]=p,S[2]=140|h,N0(S),S[3]=S[15]=a,S[8]=u,S[10]=_||a&&a[10],S[11]=v||a&&a[11],S[12]=w||a&&a[12]||null,S[9]=E||a&&a[9]||null,S[6]=g,S[16]=2==l.type?a[16]:S,S}function Si(a,l,u,h,p){let g=a.data[l];if(null===g)g=function(a,l,u,h,p){const g=bm(),_=Nh(),w=a.data[l]=function(a,l,u,h,p,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,u,l,h,p);return null===a.firstChild&&(a.firstChild=w),null!==g&&(_?null==g.child&&null!==w.parent&&(g.child=w):null===g.next&&(g.next=w)),w}(a,l,u,h,p),Xe.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=p;const _=function(){const a=Xe.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return bi(g,!0),g}function Ca(a,l,u,h){if(0===u)return-1;const p=l.length;for(let g=0;g<u;g++)l.push(h),a.blueprint.push(h),a.data.push(null);return p}function Ue(a,l,u){Bh(l);try{const h=a.viewQuery;null!==h&&U_(1,h,u);const p=a.template;null!==p&&Jl(a,l,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&wa(a,l),a.staticViewQueries&&U_(2,a.viewQuery,u);const g=a.components;null!==g&&function(a,l){for(let u=0;u<l.length;u++)sd(a,l[u])}(l,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,yc()}}function Di(a,l,u,h){const p=l[2];if(256==(256&p))return;Bh(l);const g=Lh();try{N0(l),function(a){Xe.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Jl(a,l,u,2,h);const _=3==(3&p);if(!g)if(_){const E=a.preOrderCheckHooks;null!==E&&yl(l,E,null)}else{const E=a.preOrderHooks;null!==E&&jh(l,E,0,null),Em(l,0)}if(function(a){for(let l=d_(a);null!==l;l=hf(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const p=u[h],g=p[3];0==(1024&p[2])&&ym(g,1),p[2]|=1024}}}(l),function(a){for(let l=d_(a);null!==l;l=hf(l))for(let u=10;u<l.length;u++){const h=l[u],p=h[1];F0(h)&&Di(p,h,p.template,h[8])}}(l),null!==a.contentQueries&&wa(a,l),!g)if(_){const E=a.contentCheckHooks;null!==E&&yl(l,E)}else{const E=a.contentHooks;null!==E&&jh(l,E,1),Em(l,1)}!function(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)ua(~p);else{const g=p,_=u[++h],v=u[++h];L0(_,g),v(2,l[g])}}}finally{ua(-1)}}(a,l);const v=a.components;null!==v&&function(a,l){for(let u=0;u<l.length;u++)Ti(a,l[u])}(l,v);const w=a.viewQuery;if(null!==w&&U_(2,w,h),!g)if(_){const E=a.viewCheckHooks;null!==E&&yl(l,E)}else{const E=a.viewHooks;null!==E&&jh(l,E,2),Em(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,ym(l[3],-1))}finally{yc()}}function Do(a,l,u,h){const p=l[10],g=!Lh(),_=eM(l);try{g&&!_&&p.begin&&p.begin(),_&&Ue(a,l,h),Di(a,l,u,h)}finally{g&&!_&&p.end&&p.end()}}function Jl(a,l,u,h,p){const g=pr(),_=2&h;try{ua(-1),_&&l.length>20&&ws(a,l,20,Lh()),u(h,p)}finally{ua(g)}}function Ea(a,l,u){if(hm(l)){const p=l.directiveEnd;for(let g=l.directiveStart;g<p;g++){const _=a.data[g];_.contentQueries&&_.contentQueries(1,u[g],g)}}}function Rf(a,l,u){!oM()||(function(a,l,u,h){const p=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||wc(u,l),sr(h,l);const _=u.initialInputs;for(let v=p;v<g;v++){const w=a.data[v],E=go(w);E&&Qo(l,u,w);const S=jr(l,a,v,u);sr(S,l),null!==_&&Ff(0,v-p,S,w,0,_),E&&(Qr(u.index,l)[8]=S)}}(a,l,u,vi(u,l)),128==(128&u.flags)&&function(a,l,u){const h=u.directiveStart,p=u.directiveEnd,_=u.index,v=Xe.lFrame.currentDirectiveIndex;try{ua(_);for(let w=h;w<p;w++){const E=a.data[w],S=l[w];wm(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&cC(E,S)}}finally{ua(-1),wm(v)}}(a,l,u))}function ed(a,l,u=vi){const h=l.localNames;if(null!==h){let p=l.index+1;for(let g=0;g<h.length;g+=2){const _=h[g+1],v=-1===_?u(l,a):a[_];a[p++]=v}}}function Of(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Sa(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Sa(a,l,u,h,p,g,_,v,w,E){const S=20+h,M=S+p,I=function(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:et);return u}(S,M),N="function"==typeof E?E():E;return I[1]={type:a,blueprint:I,template:u,queries:null,viewQuery:v,declTNode:l,data:I.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:w,consts:N,incompleteFirstPass:!1}}function td(a,l,u,h){const p=Ta(l);null===u?p.push(h):(p.push(u),a.firstCreatePass&&Ds(a).push(h,p.length-1))}function Gr(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const p=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,p):u[h]=[l,p]}return u}function ri(a,l,u,h,p,g,_,v){const w=vi(l,u);let S,E=l.inputs;!v&&null!=E&&(S=E[h])?(H_(a,u,S,h,p),Ih(l)&&function(a,l){const u=Qr(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(h=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),p=null!=_?_(p,l.value||"",h):p,on(g)?g.setProperty(w,h,p):_o(h)||(w.setProperty?w.setProperty(h,p):w[h]=p))}function k_(a,l,u,h){let p=!1;if(oM()){const g=function(a,l,u){const h=a.directiveRegistry;let p=null;if(h)for(let g=0;g<h.length;g++){const _=h[g];Jw(u,_.selectors,!1)&&(p||(p=[]),mn(wc(u,l),a,_.type),go(_)?(od(a,u),p.unshift(_)):p.push(_))}return p}(a,l,u),_=null===h?null:{"":-1};if(null!==g){p=!0,N_(u,a.data.length,g.length);for(let S=0;S<g.length;S++){const M=g[S];M.providersResolver&&M.providersResolver(M)}let v=!1,w=!1,E=Ca(a,l,g.length,null);for(let S=0;S<g.length;S++){const M=g[S];u.mergedAttrs=Gh(u.mergedAttrs,M.hostAttrs),P_(a,u,l,E,M),eA(E,M,_),null!==M.contentQueries&&(u.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(u.flags|=128);const I=M.type.prototype;!v&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),v=!0),!w&&(I.ngOnChanges||I.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),w=!0),E++}!function(a,l){const h=l.directiveEnd,p=a.data,g=l.attrs,_=[];let v=null,w=null;for(let E=l.directiveStart;E<h;E++){const S=p[E],M=S.inputs,I=null===g||wf(l)?null:Nf(M,g);_.push(I),v=Gr(M,E,v),w=Gr(S.outputs,E,w)}null!==v&&(v.hasOwnProperty("class")&&(l.flags|=16),v.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=_,l.inputs=v,l.outputs=w}(a,u)}_&&function(a,l,u){if(l){const h=a.localNames=[];for(let p=0;p<l.length;p+=2){const g=u[l[p+1]];if(null==g)throw new de("301",`Export of name '${l[p+1]}' not found!`);h.push(l[p],g)}}}(u,h,_)}return u.mergedAttrs=Gh(u.mergedAttrs,u.attrs),p}function F_(a,l,u,h,p,g){const _=g.hostBindings;if(_){let v=a.hostBindingOpCodes;null===v&&(v=a.hostBindingOpCodes=[]);const w=~l.index;(function(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(v)!=w&&v.push(w),v.push(h,p,_)}}function cC(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function od(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function eA(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;go(l)&&(u[""]=a)}}function N_(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function P_(a,l,u,h,p){a.data[h]=p;const g=p.factory||(p.factory=sa(p.type)),_=new Hh(g,go(p),null);a.blueprint[h]=_,u[h]=_,F_(a,l,0,h,Ca(a,u,p.hostVars,et),p)}function Qo(a,l,u){const h=vi(l,a),p=Of(u),g=a[10],_=tu(a,Ko(a,p,null,u.onPush?64:16,h,l,g,g.createRenderer(h,u),null,null));a[l.index]=_}function Ji(a,l,u,h,p,g){const _=vi(a,l);!function(a,l,u,h,p,g,_){if(null==g)on(a)?a.removeAttribute(l,p,u):l.removeAttribute(p);else{const v=null==_?be(g):_(g,h||"",p);on(a)?a.setAttribute(l,p,v,u):u?l.setAttributeNS(u,p,v):l.setAttribute(p,v)}}(l[11],_,g,a.value,u,h,p)}function Ff(a,l,u,h,p,g){const _=g[l];if(null!==_){const v=h.setInput;for(let w=0;w<_.length;){const E=_[w++],S=_[w++],M=_[w++];null!==v?h.setInput(u,M,E,S):u[S]=M}}}function Nf(a,l){let u=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,a[p],l[h+1])),h+=2}else h+=2;else h+=4}return u}function Pf(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function Ti(a,l){const u=Qr(l,a);if(F0(u)){const h=u[1];80&u[2]?Di(h,u,h.template,u[8]):u[5]>0&&Lf(u)}}function Lf(a){for(let h=d_(a);null!==h;h=hf(h))for(let p=10;p<h.length;p++){const g=h[p];if(1024&g[2]){const _=g[1];Di(_,g,_.template,g[8])}else g[5]>0&&Lf(g)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=Qr(u[h],a);F0(p)&&p[5]>0&&Lf(p)}}function sd(a,l){const u=Qr(l,a),h=u[1];(function(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),Ue(h,u,u[8])}function tu(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Da(a){for(;a;){a[2]|=64;const l=Yc(a);if($i(a)&&!l)return a;a=l}return null}function Vf(a,l,u){const h=l[10];h.begin&&h.begin();try{Di(a,l,a.template,u)}catch(p){throw Ts(l,p),p}finally{h.end&&h.end()}}function B_(a){!function(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=rf(u),p=h[1];Do(p,h,p.template,u)}}(a[8])}function U_(a,l,u){_c(0),l(a,u)}const gC=(()=>Promise.resolve(null))();function Ta(a){return a[7]||(a[7]=[])}function Ds(a){return a.cleanup||(a.cleanup=[])}function j_(a,l,u){return(null===a||go(a))&&(u=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function Ts(a,l){const u=a[9],h=u?u.get(Zo,null):null;h&&h.handleError(l)}function H_(a,l,u,h,p){for(let g=0;g<u.length;){const _=u[g++],v=u[g++],w=l[_],E=a.data[_];null!==E.setInput?E.setInput(w,p,h,v):w[v]=p}}function zr(a,l,u){const h=kh(l,a);!function(a,l,u){on(a)?a.setValue(l,u):l.textContent=u}(a[11],h,u)}function ad(a,l,u){let h=u?a.styles:null,p=u?a.classes:null,g=0;if(null!==l)for(let _=0;_<l.length;_++){const v=l[_];"number"==typeof v?g=v:1==g?p=B(p,v):2==g&&(h=B(h,v+": "+l[++_]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=p:a.classesWithoutHost=p}const bn=new Qt("INJECTOR",-1);class ud{get(l,u=Jr){if(u===Jr){const h=new Error(`NullInjectorError: No provider for ${q(l)}!`);throw h.name="NullInjectorError",h}return u}}const Ms=new Qt("Set Injector scope."),cd={},G_={};let q_;function z_(){return void 0===q_&&(q_=new ud),q_}function nu(a,l=null,u=null,h){return new As(a,u,l||z_(),h)}class As{constructor(l,u,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&yo(u,v=>this.processProvider(v,l,u)),yo([l],v=>this.processInjectorType(v,[],g)),this.records.set(bn,ht(void 0,this));const _=this.records.get(Ms);this.scope=null!=_?_.value:null,this.source=p||("object"==typeof l?null:q(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=Jr,h=xe.Default){this.assertNotDestroyed();const p=Ae(this),g=Vn(void 0);try{if(!(h&xe.SkipSelf)){let v=this.records.get(l);if(void 0===v){const w=("function"==typeof(a=l)||"object"==typeof a&&a instanceof Qt)&&Vr(l);v=w&&this.injectableDefInScope(w)?ht(Uf(l),cd):null,this.records.set(l,v)}if(null!=v)return this.hydrate(l,v)}return(h&xe.Self?z_():this.parent).get(l,u=h&xe.Optional&&u===Jr?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Ml]=_[Ml]||[]).unshift(q(l)),p)throw _;return rw(_,l,"R3InjectorError",this.source)}throw _}finally{Vn(g),Ae(p)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,p)=>l.push(q(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,u,h){if(!(l=F(l)))return!1;let p=fc(l);const g=null==p&&l.ngModule||void 0,_=void 0===g?l:g,v=-1!==h.indexOf(_);if(void 0!==g&&(p=fc(g)),null==p)return!1;if(null!=p.imports&&!v){let S;h.push(_);try{yo(p.imports,M=>{this.processInjectorType(M,u,h)&&(void 0===S&&(S=[]),S.push(M))})}finally{}if(void 0!==S)for(let M=0;M<S.length;M++){const{ngModule:I,providers:N}=S[M];yo(N,U=>this.processProvider(U,I,N||P))}}this.injectorDefTypes.add(_);const w=sa(_)||(()=>new _);this.records.set(_,ht(w,cd));const E=p.providers;if(null!=E&&!v){const S=l;yo(E,M=>this.processProvider(M,S,E))}return void 0!==g&&void 0!==l.providers}processProvider(l,u,h){let p=Ma(l=F(l))?l:F(l&&l.provide);const g=ru(a=l)?ht(void 0,a.useValue):ht(wn(a),cd);var a;if(Ma(l)||!0!==l.multi)this.records.get(p);else{let _=this.records.get(p);_||(_=ht(void 0,cd,!0),_.factory=()=>Qi(_.multi),this.records.set(p,_)),p=l,_.multi.push(l)}this.records.set(p,g)}hydrate(l,u){return u.value===cd&&(u.value=G_,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(a=u.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const u=F(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Uf(a){const l=Vr(a),u=null!==l?l.factory:sa(a);if(null!==u)return u;if(a instanceof Qt)throw new Error(`Token ${q(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const h=ps(l,"?");throw new Error(`Can't resolve all parameters for ${q(a)}: (${h.join(", ")}).`)}const u=function(a){const l=a&&(a[yt]||a[Br]);if(l){const u=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Error("unreachable")}function wn(a,l,u){let h;if(Ma(a)){const p=F(a);return sa(p)||Uf(p)}if(ru(a))h=()=>F(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...Qi(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))h=()=>Pe(F(a.useExisting));else{const p=F(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return sa(p)||Uf(p);h=()=>new p(...Qi(a.deps))}return h}function ht(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function ru(a){return null!==a&&"object"==typeof a&&Zh in a}function Ma(a){return"function"==typeof a}const CC=function(a,l,u){return function(a,l=null,u=null,h){const p=nu(a,l,u,h);return p._resolveInjectorDefTypes(),p}({name:u},l,a,u)};class lt{static create(l,u){return Array.isArray(l)?CC(l,u,""):CC(l.providers,l.parent,l.name||"")}}function cA(a,l){Uh(rf(a)[1],en())}function ty(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let p;if(go(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");p=l.\u0275dir}if(p){if(u){h.push(p);const _=a;_.inputs=ny(a.inputs),_.declaredInputs=ny(a.declaredInputs),_.outputs=ny(a.outputs);const v=p.hostBindings;v&&hA(a,v);const w=p.viewQuery,E=p.contentQueries;if(w&&OC(a,w),E&&Xi(a,E),j(a.inputs,p.inputs),j(a.declaredInputs,p.declaredInputs),j(a.outputs,p.outputs),go(p)&&p.data.animation){const S=a.data;S.animation=(S.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let _=0;_<g.length;_++){const v=g[_];v&&v.ngInherit&&v(a),v===ty&&(u=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const p=a[h];p.hostVars=l+=p.hostVars,p.hostAttrs=Gh(p.hostAttrs,u=Gh(u,p.hostAttrs))}}(h)}function ny(a){return a===L?{}:a===P?[]:a}function OC(a,l){const u=a.viewQuery;a.viewQuery=u?(h,p)=>{l(h,p),u(h,p)}:l}function Xi(a,l){const u=a.contentQueries;a.contentQueries=u?(h,p,g)=>{l(h,p,g),u(h,p,g)}:l}function hA(a,l){const u=a.hostBindings;a.hostBindings=u?(h,p)=>{l(h,p),u(h,p)}:l}lt.THROW_IF_NOT_FOUND=Jr,lt.NULL=new ud,lt.\u0275prov=wt({token:lt,providedIn:"any",factory:()=>Pe(bn)}),lt.__NG_ELEMENT_ID__=-1;let wr=null;function ii(){if(!wr){const a=Ut.Symbol;if(a&&a.iterator)wr=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(wr=h)}}}return wr}class qt{constructor(l){this.wrapped=l}static wrap(l){return new qt(l)}static unwrap(l){return qt.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof qt}}function md(a){return!!Ai(a)&&(Array.isArray(a)||!(a instanceof Map)&&ii()in a)}function Ai(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Pt(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function xs(a,l,u,h){const p=pe();return Pt(p,qo(),l)&&(gt(),Ji(gn(),p,a,l,u,h)),xs}function xa(a,l,u,h,p,g){const v=function(a,l,u,h){const p=Pt(a,l,u);return Pt(a,l+1,h)||p}(a,Wi(),u,p);return Zi(2),v?l+be(u)+h+be(p)+g:et}function oy(a,l,u,h,p,g,_,v){const w=pe(),E=gt(),S=a+20,M=E.firstCreatePass?function(a,l,u,h,p,g,_,v,w){const E=l.consts,S=Si(l,a,4,_||null,aa(E,v));k_(l,u,S,aa(E,w)),Uh(l,S);const M=S.tViews=Sa(2,S,h,p,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,E);return null!==l.queries&&(l.queries.template(l,S),M.queries=l.queries.embeddedTView(S)),S}(S,E,w,l,u,h,p,g,_):E.data[S];bi(M,!1);const I=w[11].createComment("");tn(E,w,I,M),sr(I,w),tu(w,w[S]=Pf(I,w,I,M)),xh(M)&&Rf(E,w,M),null!=_&&ed(w,M,v)}function ay(a){return ml(Xe.lFrame.contextLView,20+a)}function uu(a,l=xe.Default){const u=pe();return null===u?Pe(a,l):Z0(en(),u,F(a),l)}function sp(a,l,u){const h=pe();return Pt(h,qo(),l)&&ri(gt(),gn(),h,a,l,h[11],u,!1),sp}function gy(a,l,u,h,p){const _=p?"class":"style";H_(a,u,l.inputs[_],_,h)}function ap(a,l,u,h){const p=pe(),g=gt(),_=20+a,v=p[11],w=p[_]=ff(v,l,Xe.lFrame.currentNamespace),E=g.firstCreatePass?function(a,l,u,h,p,g,_){const v=l.consts,E=Si(l,a,2,p,aa(v,g));return k_(l,u,E,aa(v,_)),null!==E.attrs&&ad(E,E.attrs,!1),null!==E.mergedAttrs&&ad(E,E.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,E),E}(_,g,p,0,l,u,h):g.data[_];bi(E,!0);const S=E.mergedAttrs;null!==S&&Tm(v,w,S);const M=E.classes;null!==M&&bf(v,w,M);const I=E.styles;null!==I&&Co(v,w,I),64!=(64&E.flags)&&tn(g,p,w,E),0===Xe.lFrame.elementDepthCount&&sr(w,p),Xe.lFrame.elementDepthCount++,xh(E)&&(Rf(g,p,E),Ea(g,E,p)),null!==h&&ed(p,E)}function my(){let a=en();Nh()?Ph():(a=a.parent,bi(a,!1));const l=a;Xe.lFrame.elementDepthCount--;const u=gt();u.firstCreatePass&&(Uh(u,a),hm(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&gy(u,l,pe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&gy(u,l,pe(),l.stylesWithoutHost,!1)}function _y(a,l,u,h){ap(a,l,u,h),my()}function yy(a,l,u){const h=pe(),p=gt(),g=a+20,_=p.firstCreatePass?function(a,l,u,h,p){const g=l.consts,_=aa(g,h),v=Si(l,a,8,"ng-container",_);return null!==_&&ad(v,_,!0),k_(l,u,v,aa(g,p)),null!==l.queries&&l.queries.elementStart(l,v),v}(g,p,h,l,u):p.data[g];bi(_,!0);const v=h[g]=h[11].createComment("");tn(p,h,v,_),sr(v,h),xh(_)&&(Rf(p,h,_),Ea(p,_,h)),null!=u&&ed(h,_)}function Ps(){let a=en();const l=gt();Nh()?Ph():(a=a.parent,bi(a,!1)),l.firstCreatePass&&(Uh(l,a),hm(a)&&l.queries.elementEnd(a))}function wd(){return pe()}function lp(a){return!!a&&"function"==typeof a.then}function vy(a){return!!a&&"function"==typeof a.subscribe}const by=vy;function wy(a,l,u,h){const p=pe(),g=gt(),_=en();return up(g,p,p[11],_,a,l,!!u,h),wy}function Cy(a,l){const u=en(),h=pe(),p=gt();return up(p,h,j_(Cm(p.data),u,h),u,a,l,!1),Cy}function up(a,l,u,h,p,g,_,v){const w=xh(h),S=a.firstCreatePass&&Ds(a),M=l[8],I=Ta(l);let N=!0;if(3&h.type||v){const Y=vi(h,l),_e=v?v(Y):Y,ue=I.length,He=v?Qe=>v(Xt(Qe[h.index])):h.index;if(on(u)){let Qe=null;if(!v&&w&&(Qe=function(a,l,u,h){const p=a.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const _=p[g];if(_===u&&p[g+1]===h){const v=l[7],w=p[g+2];return v.length>w?v[w]:null}"string"==typeof _&&(g+=2)}return null}(a,l,p,h.index)),null!==Qe)(Qe.__ngLastListenerFn__||Qe).__ngNextListenerFn__=g,Qe.__ngLastListenerFn__=g,N=!1;else{g=Ey(h,l,M,g,!1);const mt=u.listen(_e,p,g);I.push(g,mt),S&&S.push(p,He,ue,ue+1)}}else g=Ey(h,l,M,g,!0),_e.addEventListener(p,g,_),I.push(g),S&&S.push(p,He,ue,_)}else g=Ey(h,l,M,g,!1);const U=h.outputs;let re;if(N&&null!==U&&(re=U[p])){const Y=re.length;if(Y)for(let _e=0;_e<Y;_e+=2){const Kn=l[re[_e]][re[_e+1]].subscribe(g),ji=I.length;I.push(g,Kn),S&&S.push(p,h.index,ji,-(ji+1))}}}function $n(a,l,u,h){try{return!1!==u(h)}catch(p){return Ts(a,p),!1}}function Ey(a,l,u,h,p){return function g(_){if(_===Function)return h;const v=2&a.flags?Qr(a.index,l):l;0==(32&l[2])&&Da(v);let w=$n(l,0,h,_),E=g.__ngNextListenerFn__;for(;E;)w=$n(l,0,E,_)&&w,E=E.__ngNextListenerFn__;return p&&!1===w&&(_.preventDefault(),_.returnValue=!1),w}}function ZC(a=1){return function(a){return(Xe.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,Xe.lFrame.contextLView))[8]}(a)}function MA(a,l){let u=null;const h=function(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let p=0;p<l.length;p++){const g=l[p];if("*"!==g){if(null===h?Jw(a,g,!0):tC(h,g))return p}else u=p}return u}function KC(a){const l=pe()[16][6];if(!l.projection){const h=l.projection=ps(a?a.length:1,null),p=h.slice();let g=l.child;for(;null!==g;){const _=a?MA(g,a):0;null!==_&&(p[_]?p[_].projectionNext=g:h[_]=g,p[_]=g),g=g.next}}}function QC(a,l=0,u){const h=pe(),p=gt(),g=Si(p,20+a,16,null,u||null);null===g.projection&&(g.projection=l),Ph(),64!=(64&g.flags)&&function(a,l,u){v_(l[11],0,l,u,g_(a,u,l),yf(u.parent||l[6],u,l))}(p,h,g)}function nE(a,l,u,h,p){const g=a[u+1],_=null===l;let v=h?Ci(g):yn(g),w=!1;for(;0!==v&&(!1===w||_);){const S=a[v+1];rE(a[v],l)&&(w=!0,a[v+1]=h?Cs(S):Zl(S)),v=h?Ci(S):yn(S)}w&&(a[u+1]=h?Zl(g):Cs(g))}function rE(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&$o(a,l)>=0}function fu(a,l,u){return nr(a,l,u,!1),fu}function Na(a,l){return nr(a,l,null,!0),Na}function nr(a,l,u,h){const p=pe(),g=gt(),_=Zi(2);g.firstUpdatePass&&function(a,l,u,h){const p=a.data;if(null===p[u+1]){const g=p[pr()],_=function(a,l){return l>=a.expandoStartIndex}(a,u);(function(a,l){return 0!=(a.flags&(l?16:32))})(g,h)&&null===l&&!_&&(l=!1),l=function(a,l,u,h){const p=Cm(a);let g=h?l.residualClasses:l.residualStyles;if(null===p)0===(h?l.classBindings:l.styleBindings)&&(u=gu(u=pp(null,a,l,u,h),l.attrs,h),g=null);else{const _=l.directiveStylingLast;if(-1===_||a[_]!==p)if(u=pp(p,a,l,u,h),null===g){let w=function(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==yn(h))return a[Ci(h)]}(a,l,h);void 0!==w&&Array.isArray(w)&&(w=pp(null,a,l,w[1],h),w=gu(w,l.attrs,h),function(a,l,u,h){a[Ci(u?l.classBindings:l.styleBindings)]=h}(a,l,h,w))}else g=function(a,l,u){let h;const p=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<p;g++)h=gu(h,a[g].hostAttrs,u);return gu(h,l.attrs,u)}(a,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(p,g,l,h),function(a,l,u,h,p,g){let _=g?l.classBindings:l.styleBindings,v=Ci(_),w=yn(_);a[h]=u;let S,E=!1;if(Array.isArray(u)){const M=u;S=M[1],(null===S||$o(M,S)>0)&&(E=!0)}else S=u;if(p)if(0!==w){const I=Ci(a[v+1]);a[h+1]=Qc(I,v),0!==I&&(a[I+1]=Tf(a[I+1],h)),a[v+1]=function(a,l){return 131071&a|l<<17}(a[v+1],h)}else a[h+1]=Qc(v,0),0!==v&&(a[v+1]=Tf(a[v+1],h)),v=h;else a[h+1]=Qc(w,0),0===v?v=h:a[w+1]=Tf(a[w+1],h),w=h;E&&(a[h+1]=Zl(a[h+1])),nE(a,S,h,!0),nE(a,S,h,!1),function(a,l,u,h,p){const g=p?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&$o(g,l)>=0&&(u[h+1]=Cs(u[h+1]))}(l,S,a,h,g),_=Qc(v,w),g?l.classBindings=_:l.styleBindings=_}(p,g,l,u,_,h)}}(g,a,_,h),l!==et&&Pt(p,_,l)&&function(a,l,u,h,p,g,_,v){if(!(3&l.type))return;const w=a.data,E=w[v+1];ts(function(a){return 1==(1&a)}(E)?gp(w,l,u,p,yn(E),_):void 0)||(ts(g)||function(a){return 2==(2&a)}(E)&&(g=gp(w,null,u,p,v,_)),function(a,l,u,h,p){const g=on(a);if(l)p?g?a.addClass(u,h):u.classList.add(h):g?a.removeClass(u,h):u.classList.remove(h);else{let _=-1===h.indexOf("-")?void 0:ei.DashCase;if(null==p)g?a.removeStyle(u,h,_):u.style.removeProperty(h);else{const v="string"==typeof p&&p.endsWith("!important");v&&(p=p.slice(0,-10),_|=ei.Important),g?a.setStyle(u,h,p,_):u.style.setProperty(h,p,v?"important":"")}}}(h,_,kh(pr(),u),p,g))}(g,g.data[pr()],p,p[11],a,p[_+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=q(vo(a)))),a}(l,u),h,_)}function pp(a,l,u,h,p){let g=null;const _=u.directiveEnd;let v=u.directiveStylingLast;for(-1===v?v=u.directiveStart:v++;v<_&&(g=l[v],h=gu(h,g.hostAttrs,p),g!==a);)v++;return null!==a&&(u.directiveStylingLast=v),h}function gu(a,l,u){const h=u?1:2;let p=-1;if(null!==l)for(let g=0;g<l.length;g++){const _=l[g];"number"==typeof _?p=_:p===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),gr(a,_,!!u||l[++g]))}return void 0===a?null:a}function gp(a,l,u,h,p,g){const _=null===l;let v;for(;p>0;){const w=a[p],E=Array.isArray(w),S=E?w[1]:w,M=null===S;let I=u[p+1];I===et&&(I=M?P:void 0);let N=M?Fm(I,h):S===h?I:void 0;if(E&&!ts(N)&&(N=Fm(w,h)),ts(N)&&(v=N,_))return v;const U=a[p+1];p=_?Ci(U):yn(U)}if(null!==l){let w=g?l.residualClasses:l.residualStyles;null!=w&&(v=Fm(w,h))}return v}function ts(a){return void 0!==a}function Pa(a,l=""){const u=pe(),h=gt(),p=a+20,g=h.firstCreatePass?Si(h,p,1,l,null):h.data[p],_=u[p]=function(a,l){return on(a)?a.createText(l):a.createTextNode(l)}(u[11],l);tn(h,u,_,g),bi(g,!1)}function mp(a){return Dd("",a,""),mp}function Dd(a,l,u){const h=pe(),p=function(a,l,u,h){return Pt(a,qo(),u)?l+be(u)+h:et}(h,a,l,u);return p!==et&&zr(h,pr(),p),Dd}function mu(a,l,u,h,p){const g=pe(),_=xa(g,a,l,u,h,p);return _!==et&&zr(g,pr(),_),mu}function Td(a,l,u){const h=pe();return Pt(h,qo(),l)&&ri(gt(),gn(),h,a,l,h[11],u,!0),Td}function to(a,l,u){const h=pe();if(Pt(h,qo(),l)){const g=gt(),_=gn();ri(g,_,h,a,l,j_(Cm(g.data),_,h),u,!0)}return to}const Va=void 0;var zA=["en",[["a","p"],["AM","PM"],Va],[["AM","PM"],Va,Va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Va,"{1} 'at' {0}",Va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),u=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let _u={};function Ny(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=IE(l);if(u)return u;const h=l.split("-")[0];if(u=IE(h),u)return u;if("en"===h)return zA;throw new Error(`Missing locale data for the locale "${a}".`)}function Py(a){return Ny(a)[$e.PluralCase]}function IE(a){return a in _u||(_u[a]=Ut.ng&&Ut.ng.common&&Ut.ng.common.locales&&Ut.ng.common.locales[a]),_u[a]}var $e=(()=>(($e=$e||{})[$e.LocaleId=0]="LocaleId",$e[$e.DayPeriodsFormat=1]="DayPeriodsFormat",$e[$e.DayPeriodsStandalone=2]="DayPeriodsStandalone",$e[$e.DaysFormat=3]="DaysFormat",$e[$e.DaysStandalone=4]="DaysStandalone",$e[$e.MonthsFormat=5]="MonthsFormat",$e[$e.MonthsStandalone=6]="MonthsStandalone",$e[$e.Eras=7]="Eras",$e[$e.FirstDayOfWeek=8]="FirstDayOfWeek",$e[$e.WeekendRange=9]="WeekendRange",$e[$e.DateFormat=10]="DateFormat",$e[$e.TimeFormat=11]="TimeFormat",$e[$e.DateTimeFormat=12]="DateTimeFormat",$e[$e.NumberSymbols=13]="NumberSymbols",$e[$e.NumberFormats=14]="NumberFormats",$e[$e.CurrencyCode=15]="CurrencyCode",$e[$e.CurrencySymbol=16]="CurrencySymbol",$e[$e.CurrencyName=17]="CurrencyName",$e[$e.Currencies=18]="Currencies",$e[$e.Directionality=19]="Directionality",$e[$e.PluralCase=20]="PluralCase",$e[$e.ExtraData=21]="ExtraData",$e))();const Md="en-US";let RE=Md;function Uy(a){ct(a,"Expected localeId to be defined"),"string"==typeof a&&(RE=a.toLowerCase().replace(/_/g,"-"))}function ns(a,l,u,h,p){if(a=F(a),Array.isArray(a))for(let g=0;g<a.length;g++)ns(a[g],l,u,h,p);else{const g=gt(),_=pe();let v=Ma(a)?a:F(a.provide),w=wn(a);const E=en(),S=1048575&E.providerIndexes,M=E.directiveStart,I=E.providerIndexes>>20;if(Ma(a)||!a.multi){const N=new Hh(w,p,uu),U=Io(v,l,p?S:S+I,M);-1===U?(mn(wc(E,_),g,v),ro(g,a,l.length),l.push(v),E.directiveStart++,E.directiveEnd++,p&&(E.providerIndexes+=1048576),u.push(N),_.push(N)):(u[U]=N,_[U]=N)}else{const N=Io(v,l,S+I,M),U=Io(v,l,S,S+I),re=N>=0&&u[N],Y=U>=0&&u[U];if(p&&!Y||!p&&!re){mn(wc(E,_),g,v);const _e=function(a,l,u,h,p){const g=new Hh(a,u,uu);return g.multi=[],g.index=l,g.componentProviders=0,Su(g,p,h&&!u),g}(p?QE:aI,u.length,p,h,w);!p&&Y&&(u[U].providerFactory=_e),ro(g,a,l.length,0),l.push(v),E.directiveStart++,E.directiveEnd++,p&&(E.providerIndexes+=1048576),u.push(_e),_.push(_e)}else ro(g,a,N>-1?N:U,Su(u[p?U:N],w,!p&&h));!p&&h&&Y&&u[U].componentProviders++}}}function ro(a,l,u,h){const p=Ma(l);if(p||function(a){return!!a.useClass}(l)){const _=(l.useClass||l).prototype.ngOnDestroy;if(_){const v=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const w=v.indexOf(u);-1===w?v.push(u,[h,_]):v[w+1].push(h,_)}else v.push(u,_)}}}function Su(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function Io(a,l,u,h){for(let p=u;p<h;p++)if(l[p]===a)return p;return-1}function aI(a,l,u,h){return Pp(this.multi,[])}function QE(a,l,u,h){const p=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,v=jr(u,u[1],this.providerFactory.index,h);g=v.slice(0,_),Pp(p,g);for(let w=_;w<v.length;w++)g.push(v[w])}else g=[],Pp(p,g);return g}function Pp(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function rs(a,l=[]){return u=>{u.providersResolver=(h,p)=>function(a,l,u){const h=gt();if(h.firstCreatePass){const p=go(a);ns(u,h.data,h.blueprint,p,!0),ns(l,h.data,h.blueprint,p,!1)}}(h,p?p(a):a,l)}}class JE{}const rv="ngComponent";class XE{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${q(a)}. Did you add it to @NgModule.entryComponents?`);return l[rv]=a,l}(l)}}class Us{}function Du(...a){}function Tu(a,l){return new io(vi(a,l))}Us.NULL=new XE;const Ga=function(){return Tu(en(),pe())};let io=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Ga,a})();function iv(a){return a instanceof io?a.nativeElement:a}class Mu{}let hI=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>tS(),a})();const tS=function(){const a=pe(),u=Qr(en().index,a);return function(a){return a[11]}(Go(u)?u:a)};let Au=(()=>{class a{}return a.\u0275prov=wt({token:a,providedIn:"root",factory:()=>null}),a})();class rS{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Up=new rS("12.2.0");class ov{constructor(){}supports(l){return md(l)}create(l){return new Or(l)}}const jp=(a,l)=>l;class Or{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||jp}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,p=0,g=null;for(;u||h;){const _=!h||u&&u.currentIndex<Ru(h,p,g)?u:h,v=Ru(_,p,g),w=_.currentIndex;if(_===h)p--,h=h._nextRemoved;else if(u=u._next,null==_.previousIndex)p++;else{g||(g=[]);const E=v-p,S=w-p;if(E!=S){for(let I=0;I<E;I++){const N=I<g.length?g[I]:g[I]=0,U=N+I;S<=U&&U<E&&(g[I]=N+1)}g[_.previousIndex]=S-E}}v!==w&&l(_,v,w)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!md(l))throw new Error(`Error trying to diff '${q(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,g,_,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let v=0;v<this.length;v++)g=l[v],_=this._trackByFn(v,g),null!==u&&Object.is(u.trackById,_)?(h&&(u=this._verifyReinsertion(u,g,_,v)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,_,v),h=!0),u=u._next}else p=0,function(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[ii()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,v=>{_=this._trackByFn(p,v),null!==u&&Object.is(u.trackById,_)?(h&&(u=this._verifyReinsertion(u,v,_,p)),Object.is(u.item,v)||this._addIdentityChange(u,v)):(u=this._mismatch(u,v,_,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,p){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,p)):l=this._addAfter(new iS(u,h),g,p),l}_verifyReinsertion(l,u,h,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,g=l._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new xu),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xu),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class iS{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oS{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class xu{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new oS,this.map.set(u,h)),h.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ru(a,l,u){const h=a.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+l+p}class Ou{constructor(){}supports(l){return l instanceof Map||Ai(l)}create(){return new gI}}class gI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Ai(l)))throw new Error(`Error trying to diff '${q(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const g=p._prev,_=p._next;return g&&(g._next=_),_&&(_._prev=g),p._next=null,p._prev=null,p}const h=new sv(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class sv{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fd(){return new xo([new ov])}let xo=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||Fd()),deps:[[a,new Tr,new wi]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(a){return a.name||typeof a}(u)}'`)}}return a.\u0275prov=wt({token:a,providedIn:"root",factory:Fd}),a})();function sS(){return new av([new Ou])}let av=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||sS()),deps:[[a,new Tr,new wi]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(h)return h;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return a.\u0275prov=wt({token:a,providedIn:"root",factory:sS}),a})();function lv(a,l,u,h,p=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(Xt(g)),yi(g))for(let v=10;v<g.length;v++){const w=g[v],E=w[1].firstChild;null!==E&&lv(w[1],w,E,h)}const _=u.type;if(8&_)lv(a,l,u.child,h);else if(32&_){const v=Ht(u,l);let w;for(;w=v();)h.push(w)}else if(16&_){const v=qw(l,u);if(Array.isArray(v))h.push(...v);else{const w=Yc(l[16]);lv(w[1],w,v,h,!0)}}u=p?u.projectionNext:u.next}return h}class Nd{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return lv(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(yi(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(pf(l,h),Sl(u,h))}this._attachedToViewContainer=!1}f_(this._lView[1],this._lView)}onDestroy(l){td(this._lView[1],this._lView,null,l)}markForCheck(){Da(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,u){Vh(!0);try{Vf(a,l,u)}finally{Vh(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,Yl(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class _I extends Nd{constructor(l){super(l),this._view=l}detectChanges(){B_(this._view)}checkNoChanges(){!function(a){Vh(!0);try{B_(a)}finally{Vh(!1)}}(this._view)}get context(){return null}}const si=function(a){return function(a,l,u){if(Ih(a)&&!u){const h=Qr(a.index,l);return new Nd(h,h)}return 47&a.type?new Nd(l[16],l):null}(en(),pe(),16==(16&a))};let kr=(()=>{class a{}return a.__NG_ELEMENT_ID__=si,a})();const bI=[new Ou],ur=new xo([new ov]),lS=new av(bI),CI=function(){return uv(en(),pe())};let qa=(()=>{class a{}return a.__NG_ELEMENT_ID__=CI,a})();const EI=qa,NO=class extends EI{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l){const u=this._declarationTContainer.tViews,h=Ko(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(h[19]=g.createEmbeddedView(u)),Ue(u,h,l),new Nd(h)}};function uv(a,l){return 4&a.type?new NO(l,a,Tu(a,l)):null}class js{}class Ro{}const SI=function(){return cS(en(),pe())};let Pd=(()=>{class a{}return a.__NG_ELEMENT_ID__=SI,a})();const TI=Pd,cv=class extends TI{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Tu(this._hostTNode,this._hostLView)}get injector(){return new da(this._hostTNode,this._hostLView)}get parentInjector(){const l=Vt(this._hostTNode,this._hostLView);if(qh(l)){const u=bc(l,this._hostLView),h=ca(l);return new da(u[1].data[h+8],u)}return new da(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=uS(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){const p=l.createEmbeddedView(u||{});return this.insert(p,h),p}createComponent(l,u,h,p,g){const _=h||this.parentInjector;if(!g&&null==l.ngModule&&_){const w=_.get(js,null);w&&(g=w)}const v=l.create(_,p,void 0,g);return this.insert(v.hostView,u),v}insert(l,u){const h=l._lView,p=h[1];if(yi(h[3])){const S=this.indexOf(l);if(-1!==S)this.detach(S);else{const M=h[3],I=new cv(M,M[6],M[3]);I.detach(I.indexOf(l))}}const g=this._adjustIndex(u),_=this._lContainer;!function(a,l,u,h){const p=10+h,g=u.length;h>0&&(u[p-1][4]=l),h<g-10?(l[4]=u[p],km(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const _=l[17];null!==_&&u!==_&&function(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(_,l);const v=l[19];null!==v&&v.insertView(a),l[2]|=128}(p,h,_,g);const v=__(g,_),w=h[11],E=bs(w,_[7]);return null!==E&&function(a,l,u,h,p,g){h[0]=p,h[6]=l,Yl(a,h,u,1,p,g)}(p,_[6],w,h,E,v),l.attachToViewContainerRef(),km(dv(_),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=uS(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=pf(this._lContainer,u);h&&(Sl(dv(this._lContainer),u),f_(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=pf(this._lContainer,u);return h&&null!=Sl(dv(this._lContainer),u)?new Nd(h):null}_adjustIndex(l,u=0){return null==l?this.length+u:l}};function uS(a){return a[8]}function dv(a){return a[8]||(a[8]=[])}function cS(a,l){let u;const h=l[a.index];if(yi(h))u=h;else{let p;if(8&a.type)p=Xt(h);else{const g=l[11];p=g.createComment("");const _=vi(a,l);ya(g,bs(g,_),p,function(a,l){return on(a)?a.nextSibling(l):l.nextSibling}(g,_),!1)}l[a.index]=u=Pf(h,l,p,a),tu(l,u)}return new cv(u,a,l)}const zs={};class kv extends Us{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=fr(l);return new AS(u,this.ngModule)}}function Fv(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}const Nv=new Qt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>uf});class AS extends JE{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=l.selectors.map(b_).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Fv(this.componentDef.inputs)}get outputs(){return Fv(this.componentDef.outputs)}create(l,u,h,p){const g=(p=p||this.ngModule)?function(a,l){return{get:(u,h,p)=>{const g=a.get(u,zs,p);return g!==zs||h===zs?g:l.get(u,h,p)}}}(l,p.injector):l,_=g.get(Mu,gl),v=g.get(Au,null),w=_.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",S=h?function(a,l,u){if(on(a))return a.selectRootElement(l,u===Re.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(w,h,this.componentDef.encapsulation):ff(_.createRenderer(null,this.componentDef),E,function(a){const l=a.toLowerCase();return"svg"===l?gm:"math"===l?"http://www.w3.org/1998/MathML/":null}(E)),M=this.componentDef.onPush?576:528,I=function(a,l){return{components:[],scheduler:a||uf,clean:gC,playerHandler:l||null,flags:0}}(),N=Sa(0,null,null,1,0,null,null,null,null,null),U=Ko(null,N,I,M,null,null,_,w,v,g);let re,Y;Bh(U);try{const _e=function(a,l,u,h,p,g){const _=u[1];u[20]=a;const w=Si(_,20,2,"#host",null),E=w.mergedAttrs=l.hostAttrs;null!==E&&(ad(w,E,!0),null!==a&&(Tm(p,a,E),null!==w.classes&&bf(p,a,w.classes),null!==w.styles&&Co(p,a,w.styles)));const S=h.createRenderer(a,l),M=Ko(u,Of(l),null,l.onPush?64:16,u[20],w,h,S,g||null,null);return _.firstCreatePass&&(mn(wc(w,u),_,l.type),od(_,w),N_(w,u.length,1)),tu(u,M),u[20]=M}(S,this.componentDef,U,_,w);if(S)if(h)Tm(w,S,["ng-version",Up.full]);else{const{attrs:ue,classes:He}=function(a){const l=[],u=[];let h=1,p=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===p?""!==g&&l.push(g,a[++h]):8===p&&u.push(g);else{if(!ti(p))break;p=g}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);ue&&Tm(w,S,ue),He&&He.length>0&&bf(w,S,He.join(" "))}if(Y=_m(N,20),void 0!==u){const ue=Y.projection=[];for(let He=0;He<this.ngContentSelectors.length;He++){const Qe=u[He];ue.push(null!=Qe?Array.from(Qe):null)}}re=function(a,l,u,h,p){const g=u[1],_=function(a,l,u){const h=en();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),P_(a,h,l,Ca(a,l,1,null),u));const p=jr(l,a,h.directiveStart,h);sr(p,l);const g=vi(h,l);return g&&sr(g,l),p}(g,u,l);if(h.components.push(_),a[8]=_,p&&p.forEach(w=>w(_,l)),l.contentQueries){const w=en();l.contentQueries(1,_,w.directiveStart)}const v=en();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(ua(v.index),F_(u[1],v,0,v.directiveStart,v.directiveEnd,l),cC(l,_)),_}(_e,this.componentDef,U,I,[cA]),Ue(N,U,null)}finally{yc()}return new zI(this.componentType,re,Tu(Y,U),U,Y)}}class zI extends class{}{constructor(l,u,h,p,g){super(),this.location=h,this._rootLView=p,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new _I(p),this.componentType=l}get injector(){return new da(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const os=new Map;class YI extends js{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kv(this);const h=mi(l),p=l[We]||null;p&&Uy(p),this._bootstrapComponents=wo(h.bootstrap),this._r3Injector=nu(l,u,[{provide:js,useValue:this},{provide:Us,useValue:this.componentFactoryResolver}],q(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=lt.THROW_IF_NOT_FOUND,h=xe.Default){return l===lt||l===js||l===bn?this:this._r3Injector.get(l,u,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Lv extends Ro{constructor(l){super(),this.moduleType=l,null!==mi(l)&&function(a){const l=new Set;!function u(h){const p=mi(h,!0),g=p.id;null!==g&&(function(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${q(l)} vs ${q(l.name)}`)}(g,os.get(g),h),os.set(g,h));const _=wo(p.imports);for(const v of _)l.has(v)||(l.add(v),u(v))}(a)}(l)}create(l){return new YI(this.moduleType,l)}}function xS(a,l,u,h){return JI(pe(),Jn(),a,l,u,h)}function JI(a,l,u,h,p,g){const _=l+u;return Pt(a,_,p)?function(a,l,u){return a[l]=u}(a,_+1,g?h.call(g,p):h(p)):function(a,l){const u=a[l];return u===et?void 0:u}(a,_+1)}function kS(a,l){const u=gt();let h;const p=a+20;u.firstCreatePass?(h=function(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}throw new de("302",`The pipe '${a}' could not be found!`)}(l,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const g=h.factory||(h.factory=sa(h.type)),_=Vn(uu);try{const v=zh(!1),w=g();return zh(v),function(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,pe(),p,w),w}finally{Vn(_)}}function Uv(a,l,u){const h=a+20,p=pe(),g=ml(p,h);return function(a,l){qt.isWrapped(l)&&(l=qt.unwrap(l),a[Wi()]=et);return l}(p,function(a,l){return a[1].data[l].pure}(p,h)?JI(p,Jn(),l,g.transform,u,g):g.transform(u))}function cg(a){return l=>{setTimeout(a,void 0,l)}}const No=class extends d.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){var p,g,_;let v=l,w=u||(()=>null),E=h;if(l&&"object"==typeof l){const M=l;v=null===(p=M.next)||void 0===p?void 0:p.bind(M),w=null===(g=M.error)||void 0===g?void 0:g.bind(M),E=null===(_=M.complete)||void 0===_?void 0:_.bind(M)}this.__isAsync&&(w=cg(w),v&&(v=cg(v)),E&&(E=cg(E)));const S=super.subscribe({next:v,error:w,complete:E});return l instanceof Q.w&&l.add(S),S}};function o1(){return this._results[ii()]()}class Gu{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ii(),h=Gu.prototype;h[u]||(h[u]=o1)}get changes(){return this._changes||(this._changes=new No)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const p=Hr(l);(this._changesDetected=!function(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let p=a[h],g=l[h];if(u&&(p=u(p),g=u(g)),g!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Hv{constructor(l){this.queryList=l,this.matches=null}clone(){return new Hv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gv{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let g=0;g<h;g++){const _=u.getByIndex(g);p.push(this.queries[_.indexInDeclarationView].clone())}return new Gv(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==Qd(l,u).matches&&this.queries[u].setDirty()}}class PS{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class dg{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,p);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new dg(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class qv{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new qv(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const g=h[p];this.matchTNodeWithReadOption(l,u,Pi(u,g)),this.matchTNodeWithReadOption(l,u,Cc(u,l,g,!1,!1))}else h===qa?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Cc(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===io||p===Pd||p===qa&&4&u.type)this.addMatch(u.index,-2);else{const g=Cc(u,l,p,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function Pi(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function Zd(a,l,u,h){return-1===u?function(a,l){return 11&a.type?Tu(a,l):4&a.type?uv(a,l):null}(l,a):-2===u?function(a,l,u){return u===io?Tu(l,a):u===qa?uv(l,a):u===Pd?cS(l,a):void 0}(a,l,h):jr(a,a[1],u,l)}function LS(a,l,u,h){const p=l[19].queries[h];if(null===p.matches){const g=a.data,_=u.matches,v=[];for(let w=0;w<_.length;w+=2){const E=_[w];v.push(E<0?null:Zd(l,g[E],_[w+1],u.metadata.read))}p.matches=v}return p.matches}function Yv(a,l,u,h){const p=a.queries.getByIndex(u),g=p.matches;if(null!==g){const _=LS(a,l,p,u);for(let v=0;v<g.length;v+=2){const w=g[v];if(w>0)h.push(_[v/2]);else{const E=g[v+1],S=l[-w];for(let M=10;M<S.length;M++){const I=S[M];I[17]===I[3]&&Yv(I[1],I,E,h)}if(null!==S[9]){const M=S[9];for(let I=0;I<M.length;I++){const N=M[I];Yv(N[1],N,E,h)}}}}}return h}function hg(a){const l=pe(),u=gt(),h=V0();_c(h+1);const p=Qd(u,h);if(a.dirty&&eM(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const g=p.crossesNgTemplate?Yv(u,l,h,[]):LS(u,l,p,h);a.reset(g,iv),a.notifyOnChanges()}return!0}return!1}function VS(a,l,u){const h=gt();h.firstCreatePass&&(Zv(h,new PS(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),Wv(h,pe(),l)}function BS(a,l,u,h){const p=gt();if(p.firstCreatePass){const g=en();Zv(p,new PS(l,u,h),g.index),function(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}Wv(p,pe(),u)}function Kd(){return a=pe(),l=V0(),a[19].queries[l].queryList;var a,l}function Wv(a,l,u){const h=new Gu(4==(4&u));td(a,l,h,h.destroy),null===l[19]&&(l[19]=new Gv),l[19].queries.push(new Hv(h))}function Zv(a,l,u){null===a.queries&&(a.queries=new dg),a.queries.track(new qv(l,u))}function Qd(a,l){return a.queries.getByIndex(l)}function u1(a,l){return uv(a,l)}const rb=new Qt("Application Initializer");let ss=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Du,this.reject=Du,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(lp(g))u.push(g);else if(by(g)){const _=new Promise((v,w)=>{g.subscribe({complete:v,error:w})});u.push(_)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Pe(rb,8))},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();const ib=new Qt("AppId"),aD={provide:ib,useFactory:function(){return`${wg()}${wg()}${wg()}`},deps:[]};function wg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ob=new Qt("Platform Initializer"),sb=new Qt("Platform ID"),ab=new Qt("appBootstrapListener");let as=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();const th=new Qt("LocaleId"),lb=new Qt("DefaultCurrencyCode");class uD{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}const Cg=function(a){return new Lv(a)},dD=Cg,fD=function(a){return Promise.resolve(Cg(a))},cb=function(a){const l=Cg(a),h=wo(mi(a).declarations).reduce((p,g)=>{const _=fr(g);return _&&p.push(new AS(_)),p},[]);return new uD(l,h)},Pr=cb,ik=function(a){return Promise.resolve(cb(a))};let Eg=(()=>{class a{constructor(){this.compileModuleSync=dD,this.compileModuleAsync=fD,this.compileModuleAndAllComponentsSync=Pr,this.compileModuleAndAllComponentsAsync=ik}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();const Li=(()=>Promise.resolve(0))();function hb(a){"undefined"==typeof Zone?Li.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class cr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new No(!1),this.onMicrotaskEmpty=new No(!1),this.onStable=new No(!1),this.onError=new No(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let a=Ut.requestAnimationFrame,l=Ut.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ut,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Qu(a),a.isCheckStableRunning=!0,Ku(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Qu(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,g,_,v)=>{try{return pD(a),u.invokeTask(p,g,_,v)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),gD(a)}},onInvoke:(u,h,p,g,_,v,w)=>{try{return pD(a),u.invoke(p,g,_,v,w)}finally{a.shouldCoalesceRunChangeDetection&&l(),gD(a)}},onHasTask:(u,h,p,g)=>{u.hasTask(p,g),h===p&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,Qu(a),Ku(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,p,g)=>(u.handleError(p,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(cr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,p){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+p,l,Dg,Du,Du);try{return g.runTask(_,u,h)}finally{g.cancelTask(_)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const Dg={};function Ku(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Qu(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function pD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function gD(a){a._nesting--,Ku(a)}class mD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new No,this.onMicrotaskEmpty=new No,this.onStable=new No,this.onError=new No}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,p){return l.apply(u,h)}}let _D=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cr.assertNotInAngularZone(),hb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hb(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(Pe(cr))},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})(),pb=(()=>{class a{constructor(){this._applications=new Map,gb.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return gb.findTestabilityInTree(this,u,h)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();class N1{addToWindow(l){}findTestabilityInTree(l,u,h){return null}}function ok(a){gb=a}let gb=new N1,Tg=!0,yD=!1;function Mg(){return yD=!0,Tg}function mb(){if(yD)throw new Error("Cannot enable prod mode after platform setup.");Tg=!1}let Yr;const vb=new Qt("AllowMultipleToken");class bb{constructor(l,u){this.name=l,this.token=u}}function Vi(a,l,u=[]){const h=`Platform: ${l}`,p=new Qt(h);return(g=[])=>{let _=bD();if(!_||_.injector.get(vb,!1))if(a)a(u.concat(g).concat({provide:p,useValue:!0}));else{const v=u.concat(g).concat({provide:p,useValue:!0},{provide:Ms,useValue:"platform"});!function(a){if(Yr&&!Yr.destroyed&&!Yr.injector.get(vb,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Yr=a.get(V1);const l=a.get(ob,null);l&&l.forEach(u=>u())}(lt.create({providers:v,name:h}))}return function(a){const l=bD();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(p)}}function bD(){return Yr&&!Yr.destroyed?Yr:null}let V1=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const v=function(a,l){let u;return u="noop"===a?new mD:("zone.js"===a?void 0:a)||new cr({enableLongStackTrace:Mg(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),w=[{provide:cr,useValue:v}];return v.run(()=>{const E=lt.create({providers:w,parent:this.injector,name:u.moduleType.name}),S=u.create(E),M=S.injector.get(Zo,null);if(!M)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const I=v.onError.subscribe({next:N=>{M.handleError(N)}});S.onDestroy(()=>{Eb(this._modules,S),I.unsubscribe()})}),function(a,l,u){try{const h=u();return lp(h)?h.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(M,v,()=>{const I=S.injector.get(ss);return I.runInitializers(),I.donePromise.then(()=>(Uy(S.injector.get(th,Md)||Md),this._moduleDoBootstrap(S),S))})})}bootstrapModule(u,h=[]){const p=Cb({},h);return function(a,l,u){const h=new Lv(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(u){const h=u.injector.get(xg);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${q(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Pe(lt))},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();function Cb(a,l){return Array.isArray(l)?l.reduce(Cb,a):Object.assign(Object.assign({},a),l)}let xg=(()=>{class a{constructor(u,h,p,g,_){this._zone=u,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new ce.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),w=new ce.y(E=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{cr.assertNotInAngularZone(),hb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{cr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,oe.T)(v,w.pipe((0,te.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=u instanceof JE?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(p.componentType);const g=function(a){return a.isBoundToModule}(p)?void 0:this._injector.get(js),v=p.create(lt.NULL,[],h||p.selector,g),w=v.location.nativeElement,E=v.injector.get(_D,null),S=E&&v.injector.get(pb);return E&&S&&S.registerApplication(w,E),v.onDestroy(()=>{this.detachView(v.hostView),Eb(this.components,v),S&&S.unregisterApplication(w)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;Eb(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(ab,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(Pe(cr),Pe(lt),Pe(Zo),Pe(Us),Pe(ss))},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();function Eb(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}class ak{}class lk{}const SD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let H1=(()=>{class a{constructor(u,h){this._compiler=u,this._config=h||SD}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[h,p]=u.split("#");return void 0===p&&(p="default"),k(8255)(h).then(g=>g[p]).then(g=>Tb(g,h,p)).then(g=>this._compiler.compileModuleAsync(g))}loadFactory(u){let[h,p]=u.split("#"),g="NgFactory";return void 0===p&&(p="default",g=""),k(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(_=>_[p+g]).then(_=>Tb(_,h,p))}}return a.\u0275fac=function(u){return new(u||a)(Pe(Eg),Pe(lk,8))},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();function Tb(a,l,u){if(!a)throw new Error(`Cannot find '${u}' in '${l}'`);return a}const RD=function(a){return null},W1=Vi(null,"core",[{provide:sb,useValue:"unknown"},{provide:V1,deps:[lt]},{provide:pb,deps:[]},{provide:as,deps:[]}]),FD=[{provide:xg,useClass:xg,deps:[cr,lt,Zo,Us,ss]},{provide:Nv,deps:[cr],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(u){l.push(u)}}},{provide:ss,useClass:ss,deps:[[new wi,rb]]},{provide:Eg,useClass:Eg,deps:[]},aD,{provide:xo,useFactory:function(){return ur},deps:[]},{provide:av,useFactory:function(){return lS},deps:[]},{provide:th,useFactory:function(a){return Uy(a=a||"undefined"!=typeof $localize&&$localize.locale||Md),a},deps:[[new an(th),new wi,new Tr]]},{provide:lb,useValue:"USD"}];let ND=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Pe(xg))},a.\u0275mod=lm({type:a}),a.\u0275inj=Pn({providers:FD}),a})()},57:(Be,fe,k)=>{"use strict";k.d(fe,{hO:()=>pi,xv:()=>De,Dh:()=>he,HU:()=>G,GT:()=>de,sI:()=>fn,on:()=>St,ss:()=>F,pX:()=>X,yq:()=>hn});var d=k(7771),Q=k(3637),ce=k(3342),oe=k(9673),te=k(9746),$=k(7716),j=k(2329);function q(){}Be=k.hmd(Be);class B{constructor(ee,ne=d.N){this.zone=ee,this.delegate=ne}now(){return this.delegate.now()}schedule(ee,ne,J){const ye=this.zone;return this.delegate.schedule(function(ze){ye.runGuarded(()=>{ee.apply(this,[ze])})},ne,J)}}class O{constructor(ee){this.zone=ee,this.task=null}call(ee,ne){const J=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",q,{},q,q)),ne.pipe((0,ce.b)({next:J,complete:J,error:J})).subscribe(ee).add(J)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class G{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new B(Zone.current)),this.insideAngular=ee.run(()=>new B(Zone.current,Q.z))}}function F(K){return function(ne){return(ne=ne.lift(new O(K.ngZone))).pipe((0,oe.R)(K.outsideAngular),(0,te.QV)(K.insideAngular))}}const z=["ngOnDestroy"],X=(K,ee,ne,J={})=>new Proxy(K,{get:(ye,ie)=>ne.runOutsideAngular(()=>{var ze;if(K[ie])return(null===(ze=null==J?void 0:J.spy)||void 0===ze?void 0:ze.get)&&J.spy.get(ie,K[ie]),K[ie];if(z.indexOf(ie)>-1)return()=>{};const Ze=ee.toPromise().then(Kt=>{const qe=Kt&&Kt[ie];return"function"==typeof qe?qe.bind(Kt):qe&&qe.then?qe.then(ct=>ne.run(()=>ct)):ne.run(()=>qe)});return new Proxy(()=>{},{get:(Kt,qe)=>Ze[qe],apply:(Kt,qe,ct)=>Ze.then(Ie=>{var ke;const st=Ie&&Ie(...ct);return(null===(ke=null==J?void 0:J.spy)||void 0===ke?void 0:ke.apply)&&J.spy.apply(ie,ct,st),st})})})}),de=(K,ee)=>{ee.forEach(ne=>{Object.getOwnPropertyNames(ne.prototype||ne).forEach(J=>{Object.defineProperty(K.prototype,J,Object.getOwnPropertyDescriptor(ne.prototype||ne,J))})})},he=new $.OlP("angularfire2.app.options"),De=new $.OlP("angularfire2.app.nameOrConfig"),Te=new $.GfV("6.1.5");function St(K,ee,ne){const ye="object"==typeof ne&&ne||{};ye.name=ye.name||"string"==typeof ne&&ne||"[DEFAULT]";const ze=j.Z.apps.filter(Ze=>Ze&&Ze.name===ye.name)[0]||ee.runOutsideAngular(()=>j.Z.initializeApp(K,ye));try{JSON.stringify(K)!==JSON.stringify(ze.options)&&ut("error",`${ze.name} Firebase App already initialized with different options${Be.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ze){}return ze}const hn=()=>{ut("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},ut=(K,...ee)=>{(0,$.X6Q)()&&"undefined"!=typeof console&&console[K](...ee)};function fn(K,ee,ne,J,ye){const[ie,...ze]=globalThis.\u0275AngularfireInstanceCache.get(K)||[];if(ie){try{ye.some((Ze,Kt)=>{const qe=ze[Kt];return Ze&&"object"==typeof Ze?JSON.stringify(Ze)!==JSON.stringify(qe):Ze!==qe})&&ut("error",`${ee} was already initialized on the ${ne.name} Firebase App instance with different settings.${Be.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Ze){}return ie}{const Ze=J();return globalThis.\u0275AngularfireInstanceCache.set(K,[Ze,...ye]),Ze}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Yt={provide:class{},useFactory:St,deps:[he,$.R0b,[new $.FiY,De]]};let pi=(()=>{class K{constructor(ne){j.Z.registerVersion("angularfire",Te.full,ne.toString()),j.Z.registerVersion("angular",$.q4F.full)}static initializeApp(ne,J){return{ngModule:K,providers:[{provide:he,useValue:ne},{provide:De,useValue:J}]}}}return K.\u0275fac=function(ne){return new(ne||K)($.LFG($.Lbi))},K.\u0275mod=$.oAB({type:K}),K.\u0275inj=$.cJS({providers:[Yt]}),K})()},9759:(Be,fe,k)=>{"use strict";k.d(fe,{Z:()=>ct});var te,ut,d=k(4762),Q=k(4685),ce=k(6034),oe=k(300),$=((te={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",te["bad-app-name"]="Illegal App name: '{$appName}",te["duplicate-app"]="Firebase App named '{$appName}' already exists",te["app-deleted"]="Firebase App named '{$appName}' already deleted",te["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",te["invalid-log-argument"]="First argument to `onLog` must be null or a function.",te),j=new Q.LL("app","Firebase",$),q="@firebase/app",$t="[DEFAULT]",fn=((ut={})[q]="fire-core",ut["@firebase/analytics"]="fire-analytics",ut["@firebase/app-check"]="fire-app-check",ut["@firebase/auth"]="fire-auth",ut["@firebase/database"]="fire-rtdb",ut["@firebase/functions"]="fire-fn",ut["@firebase/installations"]="fire-iid",ut["@firebase/messaging"]="fire-fcm",ut["@firebase/performance"]="fire-perf",ut["@firebase/remote-config"]="fire-rc",ut["@firebase/storage"]="fire-gcs",ut["@firebase/firestore"]="fire-fst",ut["fire-js"]="fire-js",ut["firebase-wrapper"]="fire-js-all",ut),Yt=new oe.Yd("@firebase/app"),pi=function(){function Ie(ke,st,Bt){var wt=this;this.firebase_=Bt,this.isDeleted_=!1,this.name_=st.name,this.automaticDataCollectionEnabled_=st.automaticDataCollectionEnabled||!1,this.options_=(0,Q.p$)(ke),this.container=new ce.H0(st.name),this._addComponent(new ce.wA("app",function(){return wt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(fo){return wt._addComponent(fo)})}return Object.defineProperty(Ie.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(ke){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=ke},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ie.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ie.prototype.delete=function(){var ke=this;return new Promise(function(st){ke.checkDestroyed_(),st()}).then(function(){return ke.firebase_.INTERNAL.removeApp(ke.name_),Promise.all(ke.container.getProviders().map(function(st){return st.delete()}))}).then(function(){ke.isDeleted_=!0})},Ie.prototype._getService=function(ke,st){var Bt;void 0===st&&(st=$t),this.checkDestroyed_();var wt=this.container.getProvider(ke);return!wt.isInitialized()&&"EXPLICIT"===(null===(Bt=wt.getComponent())||void 0===Bt?void 0:Bt.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:st})},Ie.prototype._removeServiceInstance=function(ke,st){void 0===st&&(st=$t),this.container.getProvider(ke).clearInstance(st)},Ie.prototype._addComponent=function(ke){try{this.container.addComponent(ke)}catch(st){Yt.debug("Component "+ke.name+" failed to register with FirebaseApp "+this.name,st)}},Ie.prototype._addOrOverwriteComponent=function(ke){this.container.addOrOverwriteComponent(ke)},Ie.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ie.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw j.create("app-deleted",{appName:this.name_})},Ie}();pi.prototype.name&&pi.prototype.options||pi.prototype.delete||console.log("dc");var J=function ne(){var Ie=function(Ie){var ke={},st=new Map,Bt={__esModule:!0,initializeApp:function(yt,vt){void 0===vt&&(vt={}),("object"!=typeof vt||null===vt)&&(vt={name:vt});var hr=vt;void 0===hr.name&&(hr.name=$t);var xe=hr.name;if("string"!=typeof xe||!xe)throw j.create("bad-app-name",{appName:String(xe)});if((0,Q.r3)(ke,xe))throw j.create("duplicate-app",{appName:xe});var Wt=new Ie(yt,hr,Bt);return ke[xe]=Wt,Wt},app:fo,registerVersion:function(yt,vt,Br){var hr,xe=null!==(hr=fn[yt])&&void 0!==hr?hr:yt;Br&&(xe+="-"+Br);var Wt=xe.match(/\s|\//),Ln=vt.match(/\s|\//);if(Wt||Ln){var Vn=['Unable to register library "'+xe+'" with version "'+vt+'":'];return Wt&&Vn.push('library name "'+xe+'" contains illegal characters (whitespace or "/")'),Wt&&Ln&&Vn.push("and"),Ln&&Vn.push('version name "'+vt+'" contains illegal characters (whitespace or "/")'),void Yt.warn(Vn.join(" "))}ll(new ce.wA(xe+"-version",function(){return{library:xe,version:vt}},"VERSION"))},setLogLevel:oe.Ub,onLog:function(yt,vt){if(null!==yt&&"function"!=typeof yt)throw j.create("invalid-log-argument");(0,oe.Am)(yt,vt)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:ll,removeApp:function(yt){delete ke[yt]},components:st,useAsService:function(yt,vt){return"serverAuth"===vt?null:vt}}};function fo(yt){if(!(0,Q.r3)(ke,yt=yt||$t))throw j.create("no-app",{appName:yt});return ke[yt]}function ll(yt){var vt=yt.name;if(st.has(vt))return Yt.debug("There were multiple attempts to register component "+vt+"."),"PUBLIC"===yt.type?Bt[vt]:null;if(st.set(vt,yt),"PUBLIC"===yt.type){var Br=function(Ln){if(void 0===Ln&&(Ln=fo()),"function"!=typeof Ln[vt])throw j.create("invalid-app-argument",{appName:vt});return Ln[vt]()};void 0!==yt.serviceProps&&(0,Q.ZB)(Br,yt.serviceProps),Bt[vt]=Br,Ie.prototype[vt]=function(){for(var Ln=[],Vn=0;Vn<arguments.length;Vn++)Ln[Vn]=arguments[Vn];return this._getService.bind(this,vt).apply(this,yt.multipleInstances?Ln:[])}}for(var hr=0,xe=Object.keys(ke);hr<xe.length;hr++)ke[xe[hr]]._addComponent(yt);return"PUBLIC"===yt.type?Bt[vt]:null}return Bt.default=Bt,Object.defineProperty(Bt,"apps",{get:function(){return Object.keys(ke).map(function(yt){return ke[yt]})}}),fo.App=Ie,Bt}(pi);return Ie.INTERNAL=(0,d.pi)((0,d.pi)({},Ie.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function(st){(0,Q.ZB)(Ie,st)},createSubscribe:Q.ne,ErrorFactory:Q.LL,deepExtend:Q.ZB}),Ie}(),ye=function(){function Ie(ke){this.container=ke}return Ie.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(st){if(function(Ie){var ke=Ie.getComponent();return"VERSION"===(null==ke?void 0:ke.type)}(st)){var Bt=st.getImmediate();return Bt.library+"/"+Bt.version}return null}).filter(function(st){return st}).join(" ")},Ie}();if((0,Q.jU)()&&void 0!==self.firebase){Yt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&Yt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Kt=J.initializeApp;J.initializeApp=function(){for(var Ie=[],ke=0;ke<arguments.length;ke++)Ie[ke]=arguments[ke];return(0,Q.UG)()&&Yt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Kt.apply(void 0,Ie)};var Ie,qe=J;(Ie=qe).INTERNAL.registerComponent(new ce.wA("platform-logger",function(st){return new ye(st)},"PRIVATE")),Ie.registerVersion(q,"0.6.29",undefined),Ie.registerVersion("fire-js","");const ct=qe},6034:(Be,fe,k)=>{"use strict";k.d(fe,{wA:()=>ce,H0:()=>q});var d=k(4762),Q=k(4685),ce=function(){function B(O,G,F){this.name=O,this.instanceFactory=G,this.type=F,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return B.prototype.setInstantiationMode=function(O){return this.instantiationMode=O,this},B.prototype.setMultipleInstances=function(O){return this.multipleInstances=O,this},B.prototype.setServiceProps=function(O){return this.serviceProps=O,this},B.prototype.setInstanceCreatedCallback=function(O){return this.onInstanceCreated=O,this},B}(),oe="[DEFAULT]",te=function(){function B(O,G){this.name=O,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return B.prototype.get=function(O){var G=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(G)){var F=new Q.BH;if(this.instancesDeferred.set(G,F),this.isInitialized(G)||this.shouldAutoInitialize())try{var z=this.getOrInitializeService({instanceIdentifier:G});z&&F.resolve(z)}catch(X){}}return this.instancesDeferred.get(G).promise},B.prototype.getImmediate=function(O){var G,F=this.normalizeInstanceIdentifier(null==O?void 0:O.identifier),z=null!==(G=null==O?void 0:O.optional)&&void 0!==G&&G;if(!this.isInitialized(F)&&!this.shouldAutoInitialize()){if(z)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:F})}catch(X){if(z)return null;throw X}},B.prototype.getComponent=function(){return this.component},B.prototype.setComponent=function(O){var G,F;if(O.name!==this.name)throw Error("Mismatching Component "+O.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=O,this.shouldAutoInitialize()){if(function(B){return"EAGER"===B.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(St){}try{for(var z=(0,d.XA)(this.instancesDeferred.entries()),X=z.next();!X.done;X=z.next()){var de=(0,d.CR)(X.value,2),De=de[1],be=this.normalizeInstanceIdentifier(de[0]);try{var Te=this.getOrInitializeService({instanceIdentifier:be});De.resolve(Te)}catch(St){}}}catch(St){G={error:St}}finally{try{X&&!X.done&&(F=z.return)&&F.call(z)}finally{if(G)throw G.error}}}},B.prototype.clearInstance=function(O){void 0===O&&(O=oe),this.instancesDeferred.delete(O),this.instances.delete(O)},B.prototype.delete=function(){return(0,d.mG)(this,void 0,void 0,function(){var O;return(0,d.Jh)(this,function(G){switch(G.label){case 0:return O=Array.from(this.instances.values()),[4,Promise.all((0,d.ev)((0,d.ev)([],(0,d.CR)(O.filter(function(F){return"INTERNAL"in F}).map(function(F){return F.INTERNAL.delete()}))),(0,d.CR)(O.filter(function(F){return"_delete"in F}).map(function(F){return F._delete()}))))];case 1:return G.sent(),[2]}})})},B.prototype.isComponentSet=function(){return null!=this.component},B.prototype.isInitialized=function(O){return void 0===O&&(O=oe),this.instances.has(O)},B.prototype.initialize=function(O){var G,F;void 0===O&&(O={});var z=O.options,X=void 0===z?{}:z,de=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(de))throw Error(this.name+"("+de+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var he=this.getOrInitializeService({instanceIdentifier:de,options:X});try{for(var De=(0,d.XA)(this.instancesDeferred.entries()),be=De.next();!be.done;be=De.next()){var Te=(0,d.CR)(be.value,2),hn=Te[1];de===this.normalizeInstanceIdentifier(Te[0])&&hn.resolve(he)}}catch($t){G={error:$t}}finally{try{be&&!be.done&&(F=De.return)&&F.call(De)}finally{if(G)throw G.error}}return he},B.prototype.onInit=function(O,G){var F,z=this.normalizeInstanceIdentifier(G),X=null!==(F=this.onInitCallbacks.get(z))&&void 0!==F?F:new Set;X.add(O),this.onInitCallbacks.set(z,X);var de=this.instances.get(z);return de&&O(de,z),function(){X.delete(O)}},B.prototype.invokeOnInitCallbacks=function(O,G){var F,z,X=this.onInitCallbacks.get(G);if(X)try{for(var de=(0,d.XA)(X),he=de.next();!he.done;he=de.next()){var De=he.value;try{De(O,G)}catch(be){}}}catch(be){F={error:be}}finally{try{he&&!he.done&&(z=de.return)&&z.call(de)}finally{if(F)throw F.error}}},B.prototype.getOrInitializeService=function(O){var G=O.instanceIdentifier,F=O.options,z=void 0===F?{}:F,X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:$(G),options:z}),this.instances.set(G,X),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch(de){}return X||null},B.prototype.normalizeInstanceIdentifier=function(O){return void 0===O&&(O=oe),this.component?this.component.multipleInstances?O:oe:O},B.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},B}();function $(B){return B===oe?void 0:B}var q=function(){function B(O){this.name=O,this.providers=new Map}return B.prototype.addComponent=function(O){var G=this.getProvider(O.name);if(G.isComponentSet())throw new Error("Component "+O.name+" has already been registered with "+this.name);G.setComponent(O)},B.prototype.addOrOverwriteComponent=function(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)},B.prototype.getProvider=function(O){if(this.providers.has(O))return this.providers.get(O);var G=new te(O,this);return this.providers.set(O,G),G},B.prototype.getProviders=function(){return Array.from(this.providers.values())},B}()},300:(Be,fe,k)=>{"use strict";function d(){for(var F=0,z=0,X=arguments.length;z<X;z++)F+=arguments[z].length;var de=Array(F),he=0;for(z=0;z<X;z++)for(var De=arguments[z],be=0,Te=De.length;be<Te;be++,he++)de[he]=De[be];return de}k.d(fe,{in:()=>oe,Yd:()=>B,Ub:()=>O,Am:()=>G});var Q,ce=[],oe=(()=>{return(F=oe||(oe={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",oe;var F})(),te={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},$=oe.INFO,j=((Q={})[oe.DEBUG]="log",Q[oe.VERBOSE]="log",Q[oe.INFO]="info",Q[oe.WARN]="warn",Q[oe.ERROR]="error",Q),q=function(F,z){for(var X=[],de=2;de<arguments.length;de++)X[de-2]=arguments[de];if(!(z<F.logLevel)){var he=(new Date).toISOString(),De=j[z];if(!De)throw new Error("Attempted to log a message with an invalid logType (value: "+z+")");console[De].apply(console,d(["["+he+"]  "+F.name+":"],X))}},B=function(){function F(z){this.name=z,this._logLevel=$,this._logHandler=q,this._userLogHandler=null,ce.push(this)}return Object.defineProperty(F.prototype,"logLevel",{get:function(){return this._logLevel},set:function(z){if(!(z in oe))throw new TypeError('Invalid value "'+z+'" assigned to `logLevel`');this._logLevel=z},enumerable:!1,configurable:!0}),F.prototype.setLogLevel=function(z){this._logLevel="string"==typeof z?te[z]:z},Object.defineProperty(F.prototype,"logHandler",{get:function(){return this._logHandler},set:function(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(z){this._userLogHandler=z},enumerable:!1,configurable:!0}),F.prototype.debug=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,d([this,oe.DEBUG],z)),this._logHandler.apply(this,d([this,oe.DEBUG],z))},F.prototype.log=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,d([this,oe.VERBOSE],z)),this._logHandler.apply(this,d([this,oe.VERBOSE],z))},F.prototype.info=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,d([this,oe.INFO],z)),this._logHandler.apply(this,d([this,oe.INFO],z))},F.prototype.warn=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,d([this,oe.WARN],z)),this._logHandler.apply(this,d([this,oe.WARN],z))},F.prototype.error=function(){for(var z=[],X=0;X<arguments.length;X++)z[X]=arguments[X];this._userLogHandler&&this._userLogHandler.apply(this,d([this,oe.ERROR],z)),this._logHandler.apply(this,d([this,oe.ERROR],z))},F}();function O(F){ce.forEach(function(z){z.setLogLevel(F)})}function G(F,z){for(var X=function(be){var Te=null;z&&z.level&&(Te=te[z.level]),be.userLogHandler=null===F?null:function(St,hn){for(var ut=[],$t=2;$t<arguments.length;$t++)ut[$t-2]=arguments[$t];var fn=ut.map(function(Yt){if(null==Yt)return null;if("string"==typeof Yt)return Yt;if("number"==typeof Yt||"boolean"==typeof Yt)return Yt.toString();if(Yt instanceof Error)return Yt.message;try{return JSON.stringify(Yt)}catch(pi){return null}}).filter(function(Yt){return Yt}).join(" ");hn>=(null!=Te?Te:St.logLevel)&&F({level:oe[hn].toLowerCase(),message:fn,args:ut,type:St.name})}},de=0,he=ce;de<he.length;de++)X(he[de])}},4685:(Be,fe,k)=>{"use strict";k.d(fe,{BH:()=>z,LL:()=>ie,r3:()=>wt,Sg:()=>X,ne:()=>Br,p$:()=>O,ZB:()=>G,m9:()=>v0,z$:()=>de,jU:()=>be,ru:()=>Te,d:()=>hn,w1:()=>ut,uI:()=>he,UG:()=>De,b$:()=>St,G6:()=>Yt,Mn:()=>$t});var d=k(4762),j={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(L,P){if(!Array.isArray(L))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var H=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,ae=[],W=0;W<L.length;W+=3){var Ee=L[W],We=W+1<L.length,dt=We?L[W+1]:0,Mt=W+2<L.length,kt=Mt?L[W+2]:0,Wr=(15&dt)<<2|kt>>6,hs=63&kt;Mt||(hs=64,We||(Wr=64)),ae.push(H[Ee>>2],H[(3&Ee)<<4|dt>>4],H[Wr],H[hs])}return ae.join("")},encodeString:function(L,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(L):this.encodeByteArray(function(L){for(var P=[],H=0,ae=0;ae<L.length;ae++){var W=L.charCodeAt(ae);W<128?P[H++]=W:W<2048?(P[H++]=W>>6|192,P[H++]=63&W|128):55296==(64512&W)&&ae+1<L.length&&56320==(64512&L.charCodeAt(ae+1))?(W=65536+((1023&W)<<10)+(1023&L.charCodeAt(++ae)),P[H++]=W>>18|240,P[H++]=W>>12&63|128,P[H++]=W>>6&63|128,P[H++]=63&W|128):(P[H++]=W>>12|224,P[H++]=W>>6&63|128,P[H++]=63&W|128)}return P}(L),P)},decodeString:function(L,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(L):function(L){for(var P=[],H=0,ae=0;H<L.length;){var W=L[H++];if(W<128)P[ae++]=String.fromCharCode(W);else if(W>191&&W<224){var Ee=L[H++];P[ae++]=String.fromCharCode((31&W)<<6|63&Ee)}else if(W>239&&W<365){var Mt=((7&W)<<18|(63&(Ee=L[H++]))<<12|(63&(We=L[H++]))<<6|63&L[H++])-65536;P[ae++]=String.fromCharCode(55296+(Mt>>10)),P[ae++]=String.fromCharCode(56320+(1023&Mt))}else{Ee=L[H++];var We=L[H++];P[ae++]=String.fromCharCode((15&W)<<12|(63&Ee)<<6|63&We)}}return P.join("")}(this.decodeStringToByteArray(L,P))},decodeStringToByteArray:function(L,P){this.init_();for(var H=P?this.charToByteMapWebSafe_:this.charToByteMap_,ae=[],W=0;W<L.length;){var Ee=H[L.charAt(W++)],dt=W<L.length?H[L.charAt(W)]:0,kt=++W<L.length?H[L.charAt(W)]:64,Sr=++W<L.length?H[L.charAt(W)]:64;if(++W,null==Ee||null==dt||null==kt||null==Sr)throw Error();ae.push(Ee<<2|dt>>4),64!==kt&&(ae.push(dt<<4&240|kt>>2),64!==Sr&&ae.push(kt<<6&192|Sr))}return ae},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var L=0;L<this.ENCODED_VALS.length;L++)this.byteToCharMap_[L]=this.ENCODED_VALS.charAt(L),this.charToByteMap_[this.byteToCharMap_[L]]=L,this.byteToCharMapWebSafe_[L]=this.ENCODED_VALS_WEBSAFE.charAt(L),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[L]]=L,L>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(L)]=L,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(L)]=L)}}};function O(L){return G(void 0,L)}function G(L,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===L&&(L={});break;case Array:L=[];break;default:return P}for(var ae in P)!P.hasOwnProperty(ae)||!F(ae)||(L[ae]=G(L[ae],P[ae]));return L}function F(L){return"__proto__"!==L}var z=function(){function L(){var P=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(H,ae){P.resolve=H,P.reject=ae})}return L.prototype.wrapCallback=function(P){var H=this;return function(ae,W){ae?H.reject(ae):H.resolve(W),"function"==typeof P&&(H.promise.catch(function(){}),1===P.length?P(ae):P(ae,W))}},L}();function X(L,P){if(L.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var ae=P||"demo-project",W=L.iat||0,Ee=L.sub||L.user_id;if(!Ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var We=(0,d.pi)({iss:"https://securetoken.google.com/"+ae,aud:ae,iat:W,exp:W+3600,auth_time:W,sub:Ee,user_id:Ee,firebase:{sign_in_provider:"custom",identities:{}}},L);return[j.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),j.encodeString(JSON.stringify(We),!1),""].join(".")}function de(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(de())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(L){return!1}}function be(){return"object"==typeof self&&self.self===self}function Te(){var L="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof L&&void 0!==L.id}function St(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function hn(){return de().indexOf("Electron/")>=0}function ut(){var L=de();return L.indexOf("MSIE ")>=0||L.indexOf("Trident/")>=0}function $t(){return de().indexOf("MSAppHost/")>=0}function Yt(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var ye=function(L){function P(H,ae,W){var Ee=L.call(this,ae)||this;return Ee.code=H,Ee.customData=W,Ee.name="FirebaseError",Object.setPrototypeOf(Ee,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ee,ie.prototype.create),Ee}return(0,d.ZT)(P,L),P}(Error),ie=function(){function L(P,H,ae){this.service=P,this.serviceName=H,this.errors=ae}return L.prototype.create=function(P){for(var H=[],ae=1;ae<arguments.length;ae++)H[ae-1]=arguments[ae];var W=H[0]||{},Ee=this.service+"/"+P,We=this.errors[P],dt=We?ze(We,W):"Error",Mt=this.serviceName+": "+dt+" ("+Ee+").",kt=new ye(Ee,Mt,W);return kt},L}();function ze(L,P){return L.replace(Ze,function(H,ae){var W=P[ae];return null!=W?String(W):"<"+ae+"?>"})}var Ze=/\{\$([^}]+)}/g;function wt(L,P){return Object.prototype.hasOwnProperty.call(L,P)}function Br(L,P){var H=new hr(L,P);return H.subscribe.bind(H)}!function(){function L(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var P=1;P<this.blockSize;++P)this.pad_[P]=0;this.reset()}L.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},L.prototype.compress_=function(P,H){H||(H=0);var ae=this.W_;if("string"==typeof P)for(var W=0;W<16;W++)ae[W]=P.charCodeAt(H)<<24|P.charCodeAt(H+1)<<16|P.charCodeAt(H+2)<<8|P.charCodeAt(H+3),H+=4;else for(W=0;W<16;W++)ae[W]=P[H]<<24|P[H+1]<<16|P[H+2]<<8|P[H+3],H+=4;for(W=16;W<80;W++)ae[W]=4294967295&((Ee=ae[W-3]^ae[W-8]^ae[W-14]^ae[W-16])<<1|Ee>>>31);var Sr,Wr,We=this.chain_[0],dt=this.chain_[1],Mt=this.chain_[2],kt=this.chain_[3],Un=this.chain_[4];for(W=0;W<80;W++){W<40?W<20?(Sr=kt^dt&(Mt^kt),Wr=1518500249):(Sr=dt^Mt^kt,Wr=1859775393):W<60?(Sr=dt&Mt|kt&(dt|Mt),Wr=2400959708):(Sr=dt^Mt^kt,Wr=3395469782);var Ee=(We<<5|We>>>27)+Sr+Un+Wr+ae[W]&4294967295;Un=kt,kt=Mt,Mt=4294967295&(dt<<30|dt>>>2),dt=We,We=Ee}this.chain_[0]=this.chain_[0]+We&4294967295,this.chain_[1]=this.chain_[1]+dt&4294967295,this.chain_[2]=this.chain_[2]+Mt&4294967295,this.chain_[3]=this.chain_[3]+kt&4294967295,this.chain_[4]=this.chain_[4]+Un&4294967295},L.prototype.update=function(P,H){if(null!=P){void 0===H&&(H=P.length);for(var ae=H-this.blockSize,W=0,Ee=this.buf_,We=this.inbuf_;W<H;){if(0===We)for(;W<=ae;)this.compress_(P,W),W+=this.blockSize;if("string"==typeof P){for(;W<H;)if(Ee[We]=P.charCodeAt(W),++W,++We===this.blockSize){this.compress_(Ee),We=0;break}}else for(;W<H;)if(Ee[We]=P[W],++W,++We===this.blockSize){this.compress_(Ee),We=0;break}}this.inbuf_=We,this.total_+=H}},L.prototype.digest=function(){var P=[],H=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var ae=this.blockSize-1;ae>=56;ae--)this.buf_[ae]=255&H,H/=256;this.compress_(this.buf_);var W=0;for(ae=0;ae<5;ae++)for(var Ee=24;Ee>=0;Ee-=8)P[W]=this.chain_[ae]>>Ee&255,++W;return P}}();var hr=function(){function L(P,H){var ae=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(function(){P(ae)}).catch(function(W){ae.error(W)})}return L.prototype.next=function(P){this.forEachObserver(function(H){H.next(P)})},L.prototype.error=function(P){this.forEachObserver(function(H){H.error(P)}),this.close(P)},L.prototype.complete=function(){this.forEachObserver(function(P){P.complete()}),this.close()},L.prototype.subscribe=function(P,H,ae){var Ee,W=this;if(void 0===P&&void 0===H&&void 0===ae)throw new Error("Missing Observer.");void 0===(Ee=function(L,P){if("object"!=typeof L||null===L)return!1;for(var H=0,ae=["next","error","complete"];H<ae.length;H++){var W=ae[H];if(W in L&&"function"==typeof L[W])return!0}return!1}(P)?P:{next:P,error:H,complete:ae}).next&&(Ee.next=Ln),void 0===Ee.error&&(Ee.error=Ln),void 0===Ee.complete&&(Ee.complete=Ln);var We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{W.finalError?Ee.error(W.finalError):Ee.complete()}catch(dt){}}),this.observers.push(Ee),We},L.prototype.unsubscribeOne=function(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},L.prototype.forEachObserver=function(P){if(!this.finalized)for(var H=0;H<this.observers.length;H++)this.sendOne(H,P)},L.prototype.sendOne=function(P,H){var ae=this;this.task.then(function(){if(void 0!==ae.observers&&void 0!==ae.observers[P])try{H(ae.observers[P])}catch(W){"undefined"!=typeof console&&console.error&&console.error(W)}})},L.prototype.close=function(P){var H=this;this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(function(){H.observers=void 0,H.onNoObservers=void 0}))},L}();function Ln(){}function v0(L){return L&&L._delegate?L._delegate:L}},2329:(Be,fe,k)=>{"use strict";k.d(fe,{Z:()=>d.Z});var d=k(9759);d.Z.registerVersion("firebase","8.9.0","app"),d.Z.SDK_VERSION="8.9.0"},3098:(Be,fe,k)=>{"use strict";k.d(fe,{P:()=>te});var d=k(9193),Q=k(5917),ce=k(205);class te{constructor(j,q,B){this.kind=j,this.value=q,this.error=B,this.hasValue="N"===j}observe(j){switch(this.kind){case"N":return j.next&&j.next(this.value);case"E":return j.error&&j.error(this.error);case"C":return j.complete&&j.complete()}}do(j,q,B){switch(this.kind){case"N":return j&&j(this.value);case"E":return q&&q(this.error);case"C":return B&&B()}}accept(j,q,B){return j&&"function"==typeof j.next?this.observe(j):this.do(j,q,B)}toObservable(){switch(this.kind){case"N":return(0,Q.of)(this.value);case"E":return(0,ce._)(this.error);case"C":return(0,d.c)()}throw new Error("unexpected notification kind value")}static createNext(j){return void 0!==j?new te("N",j):te.undefinedValueNotification}static createError(j){return new te("E",void 0,j)}static createComplete(){return te.completeNotification}}te.completeNotification=new te("C"),te.undefinedValueNotification=new te("N",void 0)},7574:(Be,fe,k)=>{"use strict";k.d(fe,{y:()=>G});var d=k(7393),ce=k(9181),oe=k(6490),$=k(6554),j=k(4487);var O=k(2494);let G=(()=>{class z{constructor(de){this._isScalar=!1,de&&(this._subscribe=de)}lift(de){const he=new z;return he.source=this,he.operator=de,he}subscribe(de,he,De){const{operator:be}=this,Te=function(z,X,de){if(z){if(z instanceof d.L)return z;if(z[ce.b])return z[ce.b]()}return z||X||de?new d.L(z,X,de):new d.L(oe.c)}(de,he,De);if(Te.add(be?be.call(Te,this.source):this.source||O.v.useDeprecatedSynchronousErrorHandling&&!Te.syncErrorThrowable?this._subscribe(Te):this._trySubscribe(Te)),O.v.useDeprecatedSynchronousErrorHandling&&Te.syncErrorThrowable&&(Te.syncErrorThrowable=!1,Te.syncErrorThrown))throw Te.syncErrorValue;return Te}_trySubscribe(de){try{return this._subscribe(de)}catch(he){O.v.useDeprecatedSynchronousErrorHandling&&(de.syncErrorThrown=!0,de.syncErrorValue=he),function(z){for(;z;){const{closed:X,destination:de,isStopped:he}=z;if(X||he)return!1;z=de&&de instanceof d.L?de:null}return!0}(de)?de.error(he):console.warn(he)}}forEach(de,he){return new(he=F(he))((De,be)=>{let Te;Te=this.subscribe(St=>{try{de(St)}catch(hn){be(hn),Te&&Te.unsubscribe()}},be,De)})}_subscribe(de){const{source:he}=this;return he&&he.subscribe(de)}[$.L](){return this}pipe(...de){return 0===de.length?this:function(z){return 0===z.length?j.y:1===z.length?z[0]:function(de){return z.reduce((he,De)=>De(he),de)}}(de)(this)}toPromise(de){return new(de=F(de))((he,De)=>{let be;this.subscribe(Te=>be=Te,Te=>De(Te),()=>he(be))})}}return z.create=X=>new z(X),z})();function F(z){if(z||(z=O.v.Promise||Promise),!z)throw new Error("no Promise impl found");return z}},6490:(Be,fe,k)=>{"use strict";k.d(fe,{c:()=>ce});var d=k(2494),Q=k(4449);const ce={closed:!0,next(oe){},error(oe){if(d.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,Q.z)(oe)},complete(){}}},9765:(Be,fe,k)=>{"use strict";k.d(fe,{Yc:()=>j,xQ:()=>q});var d=k(7574),Q=k(7393),ce=k(5319),oe=k(7971),te=k(8858),$=k(9181);class j extends Q.L{constructor(G){super(G),this.destination=G}}let q=(()=>{class O extends d.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[$.b](){return new j(this)}lift(F){const z=new B(this,this);return z.operator=F,z}next(F){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:z}=this,X=z.length,de=z.slice();for(let he=0;he<X;he++)de[he].next(F)}}error(F){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=F,this.isStopped=!0;const{observers:z}=this,X=z.length,de=z.slice();for(let he=0;he<X;he++)de[he].error(F);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:F}=this,z=F.length,X=F.slice();for(let de=0;de<z;de++)X[de].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(F){if(this.closed)throw new oe.N;return super._trySubscribe(F)}_subscribe(F){if(this.closed)throw new oe.N;return this.hasError?(F.error(this.thrownError),ce.w.EMPTY):this.isStopped?(F.complete(),ce.w.EMPTY):(this.observers.push(F),new te.W(this,F))}asObservable(){const F=new d.y;return F.source=this,F}}return O.create=(G,F)=>new B(G,F),O})();class B extends q{constructor(G,F){super(),this.destination=G,this.source=F}next(G){const{destination:F}=this;F&&F.next&&F.next(G)}error(G){const{destination:F}=this;F&&F.error&&this.destination.error(G)}complete(){const{destination:G}=this;G&&G.complete&&this.destination.complete()}_subscribe(G){const{source:F}=this;return F?this.source.subscribe(G):ce.w.EMPTY}}},8858:(Be,fe,k)=>{"use strict";k.d(fe,{W:()=>Q});var d=k(5319);class Q extends d.w{constructor(oe,te){super(),this.subject=oe,this.subscriber=te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,te=oe.observers;if(this.subject=null,!te||0===te.length||oe.isStopped||oe.closed)return;const $=te.indexOf(this.subscriber);-1!==$&&te.splice($,1)}}},7393:(Be,fe,k)=>{"use strict";k.d(fe,{L:()=>j});var d=k(9105),Q=k(6490),ce=k(5319),oe=k(9181),te=k(2494),$=k(4449);class j extends ce.w{constructor(O,G,F){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Q.c;break;case 1:if(!O){this.destination=Q.c;break}if("object"==typeof O){O instanceof j?(this.syncErrorThrowable=O.syncErrorThrowable,this.destination=O,O.add(this)):(this.syncErrorThrowable=!0,this.destination=new q(this,O));break}default:this.syncErrorThrowable=!0,this.destination=new q(this,O,G,F)}}[oe.b](){return this}static create(O,G,F){const z=new j(O,G,F);return z.syncErrorThrowable=!1,z}next(O){this.isStopped||this._next(O)}error(O){this.isStopped||(this.isStopped=!0,this._error(O))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(O){this.destination.next(O)}_error(O){this.destination.error(O),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:O}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=O,this}}class q extends j{constructor(O,G,F,z){super(),this._parentSubscriber=O;let X,de=this;(0,d.m)(G)?X=G:G&&(X=G.next,F=G.error,z=G.complete,G!==Q.c&&(de=Object.create(G),(0,d.m)(de.unsubscribe)&&this.add(de.unsubscribe.bind(de)),de.unsubscribe=this.unsubscribe.bind(this))),this._context=de,this._next=X,this._error=F,this._complete=z}next(O){if(!this.isStopped&&this._next){const{_parentSubscriber:G}=this;te.v.useDeprecatedSynchronousErrorHandling&&G.syncErrorThrowable?this.__tryOrSetError(G,this._next,O)&&this.unsubscribe():this.__tryOrUnsub(this._next,O)}}error(O){if(!this.isStopped){const{_parentSubscriber:G}=this,{useDeprecatedSynchronousErrorHandling:F}=te.v;if(this._error)F&&G.syncErrorThrowable?(this.__tryOrSetError(G,this._error,O),this.unsubscribe()):(this.__tryOrUnsub(this._error,O),this.unsubscribe());else if(G.syncErrorThrowable)F?(G.syncErrorValue=O,G.syncErrorThrown=!0):(0,$.z)(O),this.unsubscribe();else{if(this.unsubscribe(),F)throw O;(0,$.z)(O)}}}complete(){if(!this.isStopped){const{_parentSubscriber:O}=this;if(this._complete){const G=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&O.syncErrorThrowable?(this.__tryOrSetError(O,G),this.unsubscribe()):(this.__tryOrUnsub(G),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(O,G){try{O.call(this._context,G)}catch(F){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw F;(0,$.z)(F)}}__tryOrSetError(O,G,F){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{G.call(this._context,F)}catch(z){return te.v.useDeprecatedSynchronousErrorHandling?(O.syncErrorValue=z,O.syncErrorThrown=!0,!0):((0,$.z)(z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:O}=this;this._context=null,this._parentSubscriber=null,O.unsubscribe()}}},5319:(Be,fe,k)=>{"use strict";k.d(fe,{w:()=>$});var d=k(9796),Q=k(1555),ce=k(9105);const te=(()=>{function q(B){return Error.call(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((O,G)=>`${G+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B,this}return q.prototype=Object.create(Error.prototype),q})();class ${constructor(B){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,B&&(this._ctorUnsubscribe=!0,this._unsubscribe=B)}unsubscribe(){let B;if(this.closed)return;let{_parentOrParents:O,_ctorUnsubscribe:G,_unsubscribe:F,_subscriptions:z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,O instanceof $)O.remove(this);else if(null!==O)for(let X=0;X<O.length;++X)O[X].remove(this);if((0,ce.m)(F)){G&&(this._unsubscribe=void 0);try{F.call(this)}catch(X){B=X instanceof te?j(X.errors):[X]}}if((0,d.k)(z)){let X=-1,de=z.length;for(;++X<de;){const he=z[X];if((0,Q.K)(he))try{he.unsubscribe()}catch(De){B=B||[],De instanceof te?B=B.concat(j(De.errors)):B.push(De)}}}if(B)throw new te(B)}add(B){let O=B;if(!B)return $.EMPTY;switch(typeof B){case"function":O=new $(B);case"object":if(O===this||O.closed||"function"!=typeof O.unsubscribe)return O;if(this.closed)return O.unsubscribe(),O;if(!(O instanceof $)){const z=O;O=new $,O._subscriptions=[z]}break;default:throw new Error("unrecognized teardown "+B+" added to Subscription.")}let{_parentOrParents:G}=O;if(null===G)O._parentOrParents=this;else if(G instanceof $){if(G===this)return O;O._parentOrParents=[G,this]}else{if(-1!==G.indexOf(this))return O;G.push(this)}const F=this._subscriptions;return null===F?this._subscriptions=[O]:F.push(O),O}remove(B){const O=this._subscriptions;if(O){const G=O.indexOf(B);-1!==G&&O.splice(G,1)}}}var q;function j(q){return q.reduce((B,O)=>B.concat(O instanceof te?O.errors:O),[])}$.EMPTY=((q=new $).closed=!0,q)},2494:(Be,fe,k)=>{"use strict";k.d(fe,{v:()=>Q});let d=!1;const Q={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ce){if(ce){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=ce},get useDeprecatedSynchronousErrorHandling(){return d}}},5345:(Be,fe,k)=>{"use strict";k.d(fe,{IY:()=>oe,Ds:()=>$,ft:()=>q});var d=k(7393),Q=k(7574),ce=k(7444);class oe extends d.L{constructor(O){super(),this.parent=O}_next(O){this.parent.notifyNext(O)}_error(O){this.parent.notifyError(O),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class $ extends d.L{notifyNext(O){this.destination.next(O)}notifyError(O){this.destination.error(O)}notifyComplete(){this.destination.complete()}}function q(B,O){if(O.closed)return;if(B instanceof Q.y)return B.subscribe(O);let G;try{G=(0,ce.s)(B)(O)}catch(F){O.error(F)}return G}},2441:(Be,fe,k)=>{"use strict";k.d(fe,{c:()=>te,N:()=>$});var d=k(9765),Q=k(7574),ce=k(5319),oe=k(1307);class te extends Q.y{constructor(G,F){super(),this.source=G,this.subjectFactory=F,this._refCount=0,this._isComplete=!1}_subscribe(G){return this.getSubject().subscribe(G)}getSubject(){const G=this._subject;return(!G||G.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let G=this._connection;return G||(this._isComplete=!1,G=this._connection=new ce.w,G.add(this.source.subscribe(new j(this.getSubject(),this))),G.closed&&(this._connection=null,G=ce.w.EMPTY)),G}refCount(){return(0,oe.x)()(this)}}const $=(()=>{const O=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:O._subscribe},_isComplete:{value:O._isComplete,writable:!0},getSubject:{value:O.getSubject},connect:{value:O.connect},refCount:{value:O.refCount}}})();class j extends d.Yc{constructor(G,F){super(G),this.connectable=F}_error(G){this._unsubscribe(),super._error(G)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const G=this.connectable;if(G){this.connectable=null;const F=G._connection;G._refCount=0,G._subject=null,G._connection=null,F&&F.unsubscribe()}}}},9193:(Be,fe,k)=>{"use strict";k.d(fe,{E:()=>Q,c:()=>ce});var d=k(7574);const Q=new d.y(te=>te.complete());function ce(te){return te?function(te){return new d.y($=>te.schedule(()=>$.complete()))}(te):Q}},4402:(Be,fe,k)=>{"use strict";k.d(fe,{D:()=>de});var d=k(7574),Q=k(7444),ce=k(5319),oe=k(6554),j=k(4087),q=k(377),G=k(4072),F=k(9489);function de(he,De){return De?function(he,De){if(null!=he){if(function(he){return he&&"function"==typeof he[oe.L]}(he))return function(he,De){return new d.y(be=>{const Te=new ce.w;return Te.add(De.schedule(()=>{const St=he[oe.L]();Te.add(St.subscribe({next(hn){Te.add(De.schedule(()=>be.next(hn)))},error(hn){Te.add(De.schedule(()=>be.error(hn)))},complete(){Te.add(De.schedule(()=>be.complete()))}}))})),Te})}(he,De);if((0,G.t)(he))return function(he,De){return new d.y(be=>{const Te=new ce.w;return Te.add(De.schedule(()=>he.then(St=>{Te.add(De.schedule(()=>{be.next(St),Te.add(De.schedule(()=>be.complete()))}))},St=>{Te.add(De.schedule(()=>be.error(St)))}))),Te})}(he,De);if((0,F.z)(he))return(0,j.r)(he,De);if(function(he){return he&&"function"==typeof he[q.hZ]}(he)||"string"==typeof he)return function(he,De){if(!he)throw new Error("Iterable cannot be null");return new d.y(be=>{const Te=new ce.w;let St;return Te.add(()=>{St&&"function"==typeof St.return&&St.return()}),Te.add(De.schedule(()=>{St=he[q.hZ](),Te.add(De.schedule(function(){if(be.closed)return;let hn,ut;try{const $t=St.next();hn=$t.value,ut=$t.done}catch($t){return void be.error($t)}ut?be.complete():(be.next(hn),this.schedule())}))})),Te})}(he,De)}throw new TypeError((null!==he&&typeof he||he)+" is not observable")}(he,De):he instanceof d.y?he:new d.y((0,Q.s)(he))}},6693:(Be,fe,k)=>{"use strict";k.d(fe,{n:()=>oe});var d=k(7574),Q=k(5015),ce=k(4087);function oe(te,$){return $?(0,ce.r)(te,$):new d.y((0,Q.V)(te))}},6682:(Be,fe,k)=>{"use strict";k.d(fe,{T:()=>te});var d=k(7574),Q=k(4869),ce=k(3282),oe=k(6693);function te(...$){let j=Number.POSITIVE_INFINITY,q=null,B=$[$.length-1];return(0,Q.K)(B)?(q=$.pop(),$.length>1&&"number"==typeof $[$.length-1]&&(j=$.pop())):"number"==typeof B&&(j=$.pop()),null===q&&1===$.length&&$[0]instanceof d.y?$[0]:(0,ce.J)(j)((0,oe.n)($,q))}},5917:(Be,fe,k)=>{"use strict";k.d(fe,{of:()=>oe});var d=k(4869),Q=k(6693),ce=k(4087);function oe(...te){let $=te[te.length-1];return(0,d.K)($)?(te.pop(),(0,ce.r)(te,$)):(0,Q.n)(te)}},205:(Be,fe,k)=>{"use strict";k.d(fe,{_:()=>Q});var d=k(7574);function Q(oe,te){return new d.y(te?$=>te.schedule(ce,0,{error:oe,subscriber:$}):$=>$.error(oe))}function ce({error:oe,subscriber:te}){te.error(oe)}},8002:(Be,fe,k)=>{"use strict";k.d(fe,{U:()=>Q});var d=k(7393);function Q(te,$){return function(q){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return q.lift(new ce(te,$))}}class ce{constructor($,j){this.project=$,this.thisArg=j}call($,j){return j.subscribe(new oe($,this.project,this.thisArg))}}class oe extends d.L{constructor($,j,q){super($),this.project=j,this.count=0,this.thisArg=q||this}_next($){let j;try{j=this.project.call(this.thisArg,$,this.count++)}catch(q){return void this.destination.error(q)}this.destination.next(j)}}},3282:(Be,fe,k)=>{"use strict";k.d(fe,{J:()=>ce});var d=k(9773),Q=k(4487);function ce(oe=Number.POSITIVE_INFINITY){return(0,d.zg)(Q.y,oe)}},9773:(Be,fe,k)=>{"use strict";k.d(fe,{zg:()=>oe});var d=k(8002),Q=k(4402),ce=k(5345);function oe(q,B,O=Number.POSITIVE_INFINITY){return"function"==typeof B?G=>G.pipe(oe((F,z)=>(0,Q.D)(q(F,z)).pipe((0,d.U)((X,de)=>B(F,X,z,de))),O)):("number"==typeof B&&(O=B),G=>G.lift(new te(q,O)))}class te{constructor(B,O=Number.POSITIVE_INFINITY){this.project=B,this.concurrent=O}call(B,O){return O.subscribe(new $(B,this.project,this.concurrent))}}class $ extends ce.Ds{constructor(B,O,G=Number.POSITIVE_INFINITY){super(B),this.project=O,this.concurrent=G,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(B){this.active<this.concurrent?this._tryNext(B):this.buffer.push(B)}_tryNext(B){let O;const G=this.index++;try{O=this.project(B,G)}catch(F){return void this.destination.error(F)}this.active++,this._innerSub(O)}_innerSub(B){const O=new ce.IY(this),G=this.destination;G.add(O);const F=(0,ce.ft)(B,O);F!==O&&G.add(F)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(B){this.destination.next(B)}notifyComplete(){const B=this.buffer;this.active--,B.length>0?this._next(B.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Be,fe,k)=>{"use strict";k.d(fe,{QV:()=>ce,ht:()=>te});var d=k(7393),Q=k(3098);function ce(j,q=0){return function(O){return O.lift(new oe(j,q))}}class oe{constructor(q,B=0){this.scheduler=q,this.delay=B}call(q,B){return B.subscribe(new te(q,this.scheduler,this.delay))}}class te extends d.L{constructor(q,B,O=0){super(q),this.scheduler=B,this.delay=O}static dispatch(q){const{notification:B,destination:O}=q;B.observe(O),this.unsubscribe()}scheduleMessage(q){this.destination.add(this.scheduler.schedule(te.dispatch,this.delay,new $(q,this.destination)))}_next(q){this.scheduleMessage(Q.P.createNext(q))}_error(q){this.scheduleMessage(Q.P.createError(q)),this.unsubscribe()}_complete(){this.scheduleMessage(Q.P.createComplete()),this.unsubscribe()}}class ${constructor(q,B){this.notification=q,this.destination=B}}},1307:(Be,fe,k)=>{"use strict";k.d(fe,{x:()=>Q});var d=k(7393);function Q(){return function($){return $.lift(new ce($))}}class ce{constructor($){this.connectable=$}call($,j){const{connectable:q}=this;q._refCount++;const B=new oe($,q),O=j.subscribe(B);return B.closed||(B.connection=q.connect()),O}}class oe extends d.L{constructor($,j){super($),this.connectable=j}_unsubscribe(){const{connectable:$}=this;if(!$)return void(this.connection=null);this.connectable=null;const j=$._refCount;if(j<=0)return void(this.connection=null);if($._refCount=j-1,j>1)return void(this.connection=null);const{connection:q}=this,B=$._connection;this.connection=null,B&&(!q||B===q)&&B.unsubscribe()}}},8819:(Be,fe,k)=>{"use strict";k.d(fe,{B:()=>j});var d=k(2441);var oe=k(1307),te=k(9765);function $(){return new te.xQ}function j(){return q=>(0,oe.x)()(function(q,B){return function(G){let F;F="function"==typeof q?q:function(){return q};const z=Object.create(G,d.N);return z.source=G,z.subjectFactory=F,z}}($)(q))}},9673:(Be,fe,k)=>{"use strict";k.d(fe,{R:()=>te});var d=k(7574),Q=k(4581),ce=k(6561);class oe extends d.y{constructor(q,B=0,O=Q.e){super(),this.source=q,this.delayTime=B,this.scheduler=O,(!(0,ce.k)(B)||B<0)&&(this.delayTime=0),(!O||"function"!=typeof O.schedule)&&(this.scheduler=Q.e)}static create(q,B=0,O=Q.e){return new oe(q,B,O)}static dispatch(q){const{source:B,subscriber:O}=q;return this.add(B.subscribe(O))}_subscribe(q){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:q})}}function te(j,q=0){return function(O){return O.lift(new $(j,q))}}class ${constructor(q,B){this.scheduler=q,this.delay=B}call(q,B){return new oe(B,this.delay,this.scheduler).subscribe(q)}}},3342:(Be,fe,k)=>{"use strict";k.d(fe,{b:()=>oe});var d=k(7393);function Q(){}var ce=k(9105);function oe(j,q,B){return function(G){return G.lift(new te(j,q,B))}}class te{constructor(q,B,O){this.nextOrObserver=q,this.error=B,this.complete=O}call(q,B){return B.subscribe(new $(q,this.nextOrObserver,this.error,this.complete))}}class $ extends d.L{constructor(q,B,O,G){super(q),this._tapNext=Q,this._tapError=Q,this._tapComplete=Q,this._tapError=O||Q,this._tapComplete=G||Q,(0,ce.m)(B)?(this._context=this,this._tapNext=B):B&&(this._context=B,this._tapNext=B.next||Q,this._tapError=B.error||Q,this._tapComplete=B.complete||Q)}_next(q){try{this._tapNext.call(this._context,q)}catch(B){return void this.destination.error(B)}this.destination.next(q)}_error(q){try{this._tapError.call(this._context,q)}catch(B){return void this.destination.error(B)}this.destination.error(q)}_complete(){try{this._tapComplete.call(this._context)}catch(q){return void this.destination.error(q)}return this.destination.complete()}}},4087:(Be,fe,k)=>{"use strict";k.d(fe,{r:()=>ce});var d=k(7574),Q=k(5319);function ce(oe,te){return new d.y($=>{const j=new Q.w;let q=0;return j.add(te.schedule(function(){q!==oe.length?($.next(oe[q++]),$.closed||j.add(this.schedule())):$.complete()})),j})}},6465:(Be,fe,k)=>{"use strict";k.d(fe,{o:()=>ce});var d=k(5319);class Q extends d.w{constructor(te,$){super()}schedule(te,$=0){return this}}class ce extends Q{constructor(te,$){super(te,$),this.scheduler=te,this.work=$,this.pending=!1}schedule(te,$=0){if(this.closed)return this;this.state=te;const j=this.id,q=this.scheduler;return null!=j&&(this.id=this.recycleAsyncId(q,j,$)),this.pending=!0,this.delay=$,this.id=this.id||this.requestAsyncId(q,this.id,$),this}requestAsyncId(te,$,j=0){return setInterval(te.flush.bind(te,this),j)}recycleAsyncId(te,$,j=0){if(null!==j&&this.delay===j&&!1===this.pending)return $;clearInterval($)}execute(te,$){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const j=this._execute(te,$);if(j)return j;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,$){let q,j=!1;try{this.work(te)}catch(B){j=!0,q=!!B&&B||new Error(B)}if(j)return this.unsubscribe(),q}_unsubscribe(){const te=this.id,$=this.scheduler,j=$.actions,q=j.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==q&&j.splice(q,1),null!=te&&(this.id=this.recycleAsyncId($,te,null)),this.delay=null}}},6102:(Be,fe,k)=>{"use strict";k.d(fe,{v:()=>Q});let d=(()=>{class ce{constructor(te,$=ce.now){this.SchedulerAction=te,this.now=$}schedule(te,$=0,j){return new this.SchedulerAction(this,te).schedule(j,$)}}return ce.now=()=>Date.now(),ce})();class Q extends d{constructor(oe,te=d.now){super(oe,()=>Q.delegate&&Q.delegate!==this?Q.delegate.now():te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,te=0,$){return Q.delegate&&Q.delegate!==this?Q.delegate.schedule(oe,te,$):super.schedule(oe,te,$)}flush(oe){const{actions:te}=this;if(this.active)return void te.push(oe);let $;this.active=!0;do{if($=oe.execute(oe.state,oe.delay))break}while(oe=te.shift());if(this.active=!1,$){for(;oe=te.shift();)oe.unsubscribe();throw $}}}},4581:(Be,fe,k)=>{"use strict";k.d(fe,{e:()=>F,E:()=>G});let d=1;const Q=Promise.resolve(),ce={};function oe(z){return z in ce&&(delete ce[z],!0)}const te={setImmediate(z){const X=d++;return ce[X]=!0,Q.then(()=>oe(X)&&z()),X},clearImmediate(z){oe(z)}};var j=k(6465),B=k(6102);const G=new class extends B.v{flush(X){this.active=!0,this.scheduled=void 0;const{actions:de}=this;let he,De=-1,be=de.length;X=X||de.shift();do{if(he=X.execute(X.state,X.delay))break}while(++De<be&&(X=de.shift()));if(this.active=!1,he){for(;++De<be&&(X=de.shift());)X.unsubscribe();throw he}}}(class extends j.o{constructor(X,de){super(X,de),this.scheduler=X,this.work=de}requestAsyncId(X,de,he=0){return null!==he&&he>0?super.requestAsyncId(X,de,he):(X.actions.push(this),X.scheduled||(X.scheduled=te.setImmediate(X.flush.bind(X,null))))}recycleAsyncId(X,de,he=0){if(null!==he&&he>0||null===he&&this.delay>0)return super.recycleAsyncId(X,de,he);0===X.actions.length&&(te.clearImmediate(de),X.scheduled=void 0)}}),F=G},3637:(Be,fe,k)=>{"use strict";k.d(fe,{z:()=>ce,P:()=>oe});var d=k(6465);const ce=new(k(6102).v)(d.o),oe=ce},7771:(Be,fe,k)=>{"use strict";k.d(fe,{c:()=>$,N:()=>te});var d=k(6465),ce=k(6102);const te=new class extends ce.v{}(class extends d.o{constructor(q,B){super(q,B),this.scheduler=q,this.work=B}schedule(q,B=0){return B>0?super.schedule(q,B):(this.delay=B,this.state=q,this.scheduler.flush(this),this)}execute(q,B){return B>0||this.closed?super.execute(q,B):this._execute(q,B)}requestAsyncId(q,B,O=0){return null!==O&&O>0||null===O&&this.delay>0?super.requestAsyncId(q,B,O):q.flush(this)}}),$=te},377:(Be,fe,k)=>{"use strict";k.d(fe,{hZ:()=>Q});const Q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Be,fe,k)=>{"use strict";k.d(fe,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Be,fe,k)=>{"use strict";k.d(fe,{b:()=>d});const d="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Be,fe,k)=>{"use strict";k.d(fe,{N:()=>Q});const Q=(()=>{function ce(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ce.prototype=Object.create(Error.prototype),ce})()},4449:(Be,fe,k)=>{"use strict";function d(Q){setTimeout(()=>{throw Q},0)}k.d(fe,{z:()=>d})},4487:(Be,fe,k)=>{"use strict";function d(Q){return Q}k.d(fe,{y:()=>d})},9796:(Be,fe,k)=>{"use strict";k.d(fe,{k:()=>d});const d=Array.isArray||(Q=>Q&&"number"==typeof Q.length)},9489:(Be,fe,k)=>{"use strict";k.d(fe,{z:()=>d});const d=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},9105:(Be,fe,k)=>{"use strict";function d(Q){return"function"==typeof Q}k.d(fe,{m:()=>d})},6561:(Be,fe,k)=>{"use strict";k.d(fe,{k:()=>Q});var d=k(9796);function Q(ce){return!(0,d.k)(ce)&&ce-parseFloat(ce)+1>=0}},1555:(Be,fe,k)=>{"use strict";function d(Q){return null!==Q&&"object"==typeof Q}k.d(fe,{K:()=>d})},4072:(Be,fe,k)=>{"use strict";function d(Q){return!!Q&&"function"!=typeof Q.subscribe&&"function"==typeof Q.then}k.d(fe,{t:()=>d})},4869:(Be,fe,k)=>{"use strict";function d(Q){return Q&&"function"==typeof Q.schedule}k.d(fe,{K:()=>d})},7444:(Be,fe,k)=>{"use strict";k.d(fe,{s:()=>G});var d=k(5015),Q=k(4449),oe=k(377),$=k(6554),q=k(9489),B=k(4072),O=k(1555);const G=F=>{if(F&&"function"==typeof F[$.L])return(F=>z=>{const X=F[$.L]();if("function"!=typeof X.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return X.subscribe(z)})(F);if((0,q.z)(F))return(0,d.V)(F);if((0,B.t)(F))return(F=>z=>(F.then(X=>{z.closed||(z.next(X),z.complete())},X=>z.error(X)).then(null,Q.z),z))(F);if(F&&"function"==typeof F[oe.hZ])return(F=>z=>{const X=F[oe.hZ]();for(;;){let de;try{de=X.next()}catch(he){return z.error(he),z}if(de.done){z.complete();break}if(z.next(de.value),z.closed)break}return"function"==typeof X.return&&z.add(()=>{X.return&&X.return()}),z})(F);{const X=`You provided ${(0,O.K)(F)?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(X)}}},5015:(Be,fe,k)=>{"use strict";k.d(fe,{V:()=>d});const d=Q=>ce=>{for(let oe=0,te=Q.length;oe<te&&!ce.closed;oe++)ce.next(Q[oe]);ce.complete()}},1265:(Be,fe,k)=>{"use strict";var d=k(7716);let Q=null;function ce(){return Q}const j=new d.OlP("DocumentToken");let q=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:B,token:i,providedIn:"platform"}),i})();function B(){return(0,d.LFG)(G)}const O=new d.OlP("Location Initialized");let G=(()=>{class i extends q{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ce().getBaseHref(this._doc)}onPopState(e){const o=ce().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=ce().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,s){F()?this._history.pushState(e,o,s):this.location.hash=s}replaceState(e,o,s){F()?this._history.replaceState(e,o,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=(0,d.Yz7)({factory:z,token:i,providedIn:"platform"}),i})();function F(){return!!window.history.pushState}function z(){return new G((0,d.LFG)(j))}function X(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function de(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function he(i){return i&&"?"!==i[0]?"?"+i:i}let De=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:be,token:i,providedIn:"root"}),i})();function be(i){const t=(0,d.LFG)(j).location;return new St((0,d.LFG)(q),t&&t.origin||"")}const Te=new d.OlP("appBaseHref");let St=(()=>{class i extends De{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return X(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+he(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${o}${s}`:o}pushState(e,o,s,c){const f=this.prepareExternalUrl(s+he(c));this._platformLocation.pushState(e,o,f)}replaceState(e,o,s,c){const f=this.prepareExternalUrl(s+he(c));this._platformLocation.replaceState(e,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,s;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(q),d.LFG(Te,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),hn=(()=>{class i extends De{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=X(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,s,c){let f=this.prepareExternalUrl(s+he(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,o,f)}replaceState(e,o,s,c){let f=this.prepareExternalUrl(s+he(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,s;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(q),d.LFG(Te,8))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),ut=(()=>{class i{constructor(e,o){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=de(Yt(s)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+he(o))}normalize(e){return i.stripTrailingSlash(function(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,Yt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",s=null){this._platformStrategy.pushState(s,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+he(o)),s)}replaceState(e,o="",s=null){this._platformStrategy.replaceState(s,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+he(o)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,s;null===(s=(o=this._platformStrategy).historyGo)||void 0===s||s.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(s=>s(e,o))}subscribe(e,o,s){return this._subject.subscribe({next:e,error:o,complete:s})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(De),d.LFG(q))},i.normalizeQueryParams=he,i.joinWithSlash=X,i.stripTrailingSlash=de,i.\u0275prov=(0,d.Yz7)({factory:$t,token:i,providedIn:"root"}),i})();function $t(){return new ut((0,d.LFG)(De),(0,d.LFG)(q))}function Yt(i){return i.replace(/\/index.html$/,"")}const pi={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var K=(()=>((K=K||{})[K.Decimal=0]="Decimal",K[K.Percent=1]="Percent",K[K.Currency=2]="Currency",K[K.Scientific=3]="Scientific",K))(),ee=(()=>((ee=ee||{})[ee.Zero=0]="Zero",ee[ee.One=1]="One",ee[ee.Two=2]="Two",ee[ee.Few=3]="Few",ee[ee.Many=4]="Many",ee[ee.Other=5]="Other",ee))(),ie=(()=>((ie=ie||{})[ie.Decimal=0]="Decimal",ie[ie.Group=1]="Group",ie[ie.List=2]="List",ie[ie.PercentSign=3]="PercentSign",ie[ie.PlusSign=4]="PlusSign",ie[ie.MinusSign=5]="MinusSign",ie[ie.Exponential=6]="Exponential",ie[ie.SuperscriptingExponent=7]="SuperscriptingExponent",ie[ie.PerMille=8]="PerMille",ie[ie.Infinity=9]="Infinity",ie[ie.NaN=10]="NaN",ie[ie.TimeSeparator=11]="TimeSeparator",ie[ie.CurrencyDecimal=12]="CurrencyDecimal",ie[ie.CurrencyGroup=13]="CurrencyGroup",ie))();function Pn(i,t){const e=(0,d.cg1)(i),o=e[d.wAp.NumberSymbols][t];if(void 0===o){if(t===ie.CurrencyDecimal)return e[d.wAp.NumberSymbols][ie.Decimal];if(t===ie.CurrencyGroup)return e[d.wAp.NumberSymbols][ie.Group]}return o}const yt=d.kL8;const C0=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Zr(i,t,e,o,s){const f=function(i,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=i.split(";"),s=o[0],c=o[1],f=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],m=f[0],y=f[1]||"";e.posPre=m.substr(0,m.indexOf("#"));for(let C=0;C<y.length;C++){const D=y.charAt(C);"0"===D?e.minFrac=e.maxFrac=C+1:"#"===D?e.maxFrac=C+1:e.posSuf+=D}const b=m.split(",");if(e.gSize=b[1]?b[1].length:0,e.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,c){const C=s.length-e.posPre.length-e.posSuf.length,D=c.indexOf("#");e.negPre=c.substr(0,D).replace(/'/g,""),e.negSuf=c.substr(D+C).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function(i,t){return(0,d.cg1)(i)[d.wAp.NumberFormats][t]}(t,K.Currency),Pn(t,ie.MinusSign));return f.minFrac=function(i){let t;const e=pi[i];return e&&(t=e[2]),"number"==typeof t?t:2}(o),f.maxFrac=f.minFrac,function(i,t,e,o,s,c,f=!1){let m="",y=!1;if(isFinite(i)){let b=function(i){let o,s,c,f,m,t=Math.abs(i)+"",e=0;for((s=t.indexOf("."))>-1&&(t=t.replace(".","")),(c=t.search(/e/i))>0?(s<0&&(s=c),s+=+t.slice(c+1),t=t.substring(0,c)):s<0&&(s=t.length),c=0;"0"===t.charAt(c);c++);if(c===(m=t.length))o=[0],s=1;else{for(m--;"0"===t.charAt(m);)m--;for(s-=c,o=[],f=0;c<=m;c++,f++)o[f]=Number(t.charAt(c))}return s>22&&(o=o.splice(0,21),e=s-1,s=1),{digits:o,exponent:e,integerLen:s}}(i);f&&(b=function(i){if(0===i.digits[0])return i;const t=i.digits.length-i.integerLen;return i.exponent?i.exponent+=2:(0===t?i.digits.push(0,0):1===t&&i.digits.push(0),i.integerLen+=2),i}(b));let C=t.minInt,D=t.minFrac,T=t.maxFrac;if(c){const me=c.match(C0);if(null===me)throw new Error(`${c} is not a valid digit info`);const we=me[1],Oe=me[3],Fe=me[5];null!=we&&(C=rt(we)),null!=Oe&&(D=rt(Oe)),null!=Fe?T=rt(Fe):null!=Oe&&D>T&&(T=D)}!function(i,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let o=i.digits,s=o.length-i.integerLen;const c=Math.min(Math.max(t,s),e);let f=c+i.integerLen,m=o[f];if(f>0){o.splice(Math.max(i.integerLen,f));for(let D=f;D<o.length;D++)o[D]=0}else{s=Math.max(0,s),i.integerLen=1,o.length=Math.max(1,f=c+1),o[0]=0;for(let D=1;D<f;D++)o[D]=0}if(m>=5)if(f-1<0){for(let D=0;D>f;D--)o.unshift(0),i.integerLen++;o.unshift(1),i.integerLen++}else o[f-1]++;for(;s<Math.max(0,c);s++)o.push(0);let y=0!==c;const b=t+i.integerLen,C=o.reduceRight(function(D,T,A,R){return R[A]=(T+=D)<10?T:T-10,y&&(0===R[A]&&A>=b?R.pop():y=!1),T>=10?1:0},0);C&&(o.unshift(C),i.integerLen++)}(b,D,T);let A=b.digits,R=b.integerLen;const V=b.exponent;let Z=[];for(y=A.every(me=>!me);R<C;R++)A.unshift(0);for(;R<0;R++)A.unshift(0);R>0?Z=A.splice(R,A.length):(Z=A,A=[0]);const le=[];for(A.length>=t.lgSize&&le.unshift(A.splice(-t.lgSize,A.length).join(""));A.length>t.gSize;)le.unshift(A.splice(-t.gSize,A.length).join(""));A.length&&le.unshift(A.join("")),m=le.join(Pn(e,o)),Z.length&&(m+=Pn(e,s)+Z.join("")),V&&(m+=Pn(e,ie.Exponential)+"+"+V)}else m=Pn(e,ie.Infinity);return m=i<0&&!y?t.negPre+m+t.negSuf:t.posPre+m+t.posSuf,m}(i,f,t,ie.CurrencyGroup,ie.CurrencyDecimal,s).replace("\xa4",e).replace("\xa4","").trim()}function rt(i){const t=parseInt(i);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+i);return t}class ia{}let cm=(()=>{class i extends ia{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(yt(o||this.locale)(e)){case ee.Zero:return"zero";case ee.One:return"one";case ee.Two:return"two";case ee.Few:return"few";case ee.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.soG))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function Dr(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const o=e.indexOf("="),[s,c]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(s.trim()===t)return decodeURIComponent(c)}return null}let dl=(()=>{class i{constructor(e,o,s,c){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=s,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{o?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class zi{constructor(t,e,o,s){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lt=(()=>{class i{constructor(e,o,s){this._viewContainer=e,this._template=o,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((s,c,f)=>{if(null==s.previousIndex){const m=this._viewContainer.createEmbeddedView(this._template,new zi(null,this._ngForOf,-1,-1),null===f?void 0:f),y=new E0(s,m);o.push(y)}else if(null==f)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const m=this._viewContainer.get(c);this._viewContainer.move(m,f);const y=new E0(s,m);o.push(y)}});for(let s=0;s<o.length;s++)this._perViewChange(o[s].view,o[s].record);for(let s=0,c=this._viewContainer.length;s<c;s++){const f=this._viewContainer.get(s);f.context.index=s,f.context.count=c,f.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class E0{constructor(t,e){this.record=t,this.view=e}}let Kr=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new dm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.s_b),d.Y36(d.Rgc))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class dm{constructor(){this.$implicit=null,this.ngIf=null}}function fl(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,d.AaK)(t)}'.`)}class pl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let _i=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const o=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),jn=(()=>{class i{constructor(e,o,s){this.ngSwitch=s,s._addCase(),this._view=new pl(e,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(_i,9))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})();function $i(i,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,d.AaK)(i)}'`)}class qR{createSubscription(t,e){return t.subscribe({next:e,error:o=>{throw o}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class HT{createSubscription(t,e){return t.then(e,o=>{throw o})}dispose(t){}onDestroy(t){}}const GT=new HT,zR=new qR;let Rh=(()=>{class i{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,o=>this._updateLatestValue(e,o))}_selectStrategy(e){if((0,d.QGY)(e))return GT;if((0,d.F4k)(e))return zR;throw $i(i,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,o){e===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.sBO,16))},i.\u0275pipe=d.Yjl({name:"async",type:i,pure:!1}),i})(),zT=(()=>{class i{constructor(e,o="USD"){this._locale=e,this._defaultCurrencyCode=o}transform(e,o=this._defaultCurrencyCode,s="symbol",c,f){if(!function(i){return!(null==i||""===i||i!=i)}(e))return null;f=f||this._locale,"boolean"==typeof s&&(s=s?"symbol":"code");let m=o||this._defaultCurrencyCode;"code"!==s&&(m="symbol"===s||"symbol-narrow"===s?function(i,t,e="en"){const o=function(i){return(0,d.cg1)(i)[d.wAp.Currencies]}(e)[i]||pi[i]||[],s=o[1];return"narrow"===t&&"string"==typeof s?s:o[0]||i}(m,"symbol"===s?"wide":"narrow",f):s);try{return Zr(function(i){if("string"==typeof i&&!isNaN(Number(i)-parseFloat(i)))return Number(i);if("number"!=typeof i)throw new Error(`${i} is not a number`);return i}(e),f,m,o,c)}catch(y){throw $i(i,y.message)}}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.soG,16),d.Y36(d.EJc,16))},i.\u0275pipe=d.Yjl({name:"currency",type:i,pure:!0}),i})();let mo=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[{provide:ia,useClass:cm}]}),i})();function I0(i){return"server"===i}let gm=(()=>{class i{}return i.\u0275prov=(0,d.Yz7)({token:i,providedIn:"root",factory:()=>new R0((0,d.LFG)(j),window)}),i})();class R0{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let s=o.currentNode;for(;s;){const c=s.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}s=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(o-c[0],s-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Oh(this.window.history)||Oh(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Oh(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class KT{}class k0 extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new k0,Q||(Q=i)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(gl=gl||document.querySelector("base"),gl?gl.getAttribute("href"):null);return null==e?null:function(i){Xt=Xt||document.createElement("a"),Xt.setAttribute("href",i);const t=Xt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){gl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Dr(document.cookie,t)}}let Xt,gl=null;const XT=new d.OlP("TRANSITION_ID"),vi=[{provide:d.ip1,useFactory:function(i,t,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const o=ce();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(c=>c.getAttribute("ng-transition")===i).forEach(c=>o.remove(c))})}},deps:[XT,j,d.zs3],multi:!0}];class mm{static init(){(0,d.VLi)(new mm)}addToWindow(t){d.dqk.getAngularTestability=(o,s=!0)=>{const c=t.findTestabilityInTree(o,s);if(null==c)throw new Error("Could not find testability for element.");return c},d.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(o=>{const s=d.dqk.getAllAngularTestabilities();let c=s.length,f=!1;const m=function(y){f=f||y,c--,0==c&&o(f)};s.forEach(function(y){y.whenStable(m)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:o?ce().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let _m=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const mc=new d.OlP("EventManagerPlugins");let pe=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,s){return this._findPluginFor(o).addEventListener(e,o,s)}addGlobalEventListener(e,o,s){return this._findPluginFor(o).addGlobalEventListener(e,o,s)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const s=this._plugins;for(let c=0;c<s.length;c++){const f=s[c];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(mc),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class gt{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const s=ce().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,o)}}let vm=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),o.add(s))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),en=(()=>{class i extends vm{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,s){e.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,s.push(o.appendChild(f))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(bm),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,s)=>{this._addStylesToHost(e,s,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(bm))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function bm(i){ce().remove(i)}const la={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bi=/%COMP%/g;function Jn(i,t,e){for(let o=0;o<t.length;o++){let s=t[o];Array.isArray(s)?Jn(i,s,e):(s=s.replace(bi,i),e.push(s))}return e}function Wi(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let qo=(()=>{class i{constructor(e,o,s){this.eventManager=e,this.sharedStylesHost=o,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Zi(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case d.ifc.Emulated:{let s=this.rendererByCompId.get(o.id);return s||(s=new uM(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,s)),s.applyToHost(e),s}case 1:case d.ifc.ShadowDom:return new wm(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const s=Jn(o.id,o.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(pe),d.LFG(en),d.LFG(d.AFp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Zi{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(la[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,s){if(s){e=s+":"+e;const c=la[s];c?t.setAttributeNS(c,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const s=la[o];s?t.removeAttributeNS(s,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,s){s&(d.JOm.DashCase|d.JOm.Important)?t.style.setProperty(e,o,s&d.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&d.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Wi(o)):this.eventManager.addEventListener(t,e,Wi(o))}}class uM extends Zi{constructor(t,e,o,s){super(t),this.component=o;const c=Jn(s+"-"+o.id,o.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(bi,s+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(bi,i)}(s+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class wm extends Zi{constructor(t,e,o,s){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Jn(s.id,s.styles,[]);for(let f=0;f<c.length;f++){const m=document.createElement("style");m.textContent=c[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Cm=(()=>{class i extends gt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,s){return e.addEventListener(o,s,!1),()=>this.removeEventListener(e,o,s)}removeEventListener(e,o,s){return e.removeEventListener(o,s)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const yc=["alt","control","meta","shift"],fM={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gM={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let mM=(()=>{class i extends gt{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,s){const c=i.parseEventName(o),f=i.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ce().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const o=e.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;const c=i._normalizeKey(o.pop());let f="";if(yc.forEach(y=>{const b=o.indexOf(y);b>-1&&(o.splice(b,1),f+=y+".")}),f+=c,0!=o.length||0===c.length)return null;const m={};return m.domEventName=s,m.fullKey=f,m}static getEventFullKey(e){let o="",s=function(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&pr.hasOwnProperty(t)&&(t=pr[t]))}return fM[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),yc.forEach(c=>{c!=s&&gM[c](e)&&(o+=c+".")}),o+=s,o}static eventCallback(e,o,s){return c=>{i.getEventFullKey(c)===e&&s.runGuarded(()=>o(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),_l=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:function(){return(0,d.LFG)(yl)},token:i,providedIn:"root"}),i})(),yl=(()=>{class i extends _l{constructor(e){super(),this._doc=e}sanitize(e,o){if(null==o)return null;switch(e){case d.q3G.NONE:return o;case d.q3G.HTML:return(0,d.qzn)(o,"HTML")?(0,d.z3N)(o):(0,d.EiD)(this._doc,String(o)).toString();case d.q3G.STYLE:return(0,d.qzn)(o,"Style")?(0,d.z3N)(o):o;case d.q3G.SCRIPT:if((0,d.qzn)(o,"Script"))return(0,d.z3N)(o);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.yhl)(o),(0,d.qzn)(o,"URL")?(0,d.z3N)(o):(0,d.mCW)(String(o));case d.q3G.RESOURCE_URL:if((0,d.qzn)(o,"ResourceURL"))return(0,d.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,d.JVY)(e)}bypassSecurityTrustStyle(e){return(0,d.L6k)(e)}bypassSecurityTrustScript(e){return(0,d.eBb)(e)}bypassSecurityTrustUrl(e){return(0,d.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,d.pB0)(e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=(0,d.Yz7)({factory:function(){return function(i){return new yl(i.get(j))}((0,d.LFG)(d.gxx))},token:i,providedIn:"root"}),i})();const vc=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function(){k0.makeCurrent(),mm.init()},multi:!0},{provide:j,useFactory:function(){return(0,d.RDi)(document),document},deps:[]}]),Sm=[[],{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function(){return new d.qLn},deps:[]},{provide:mc,useClass:Cm,multi:!0,deps:[j,d.R0b,d.Lbi]},{provide:mc,useClass:mM,multi:!0,deps:[j]},[],{provide:qo,useClass:qo,deps:[pe,en,d.AFp]},{provide:d.FYo,useExisting:qo},{provide:vm,useExisting:en},{provide:en,useClass:en,deps:[j]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:pe,useClass:pe,deps:[mc,d.R0b]},{provide:KT,useClass:_m,deps:[]},[]];let Dm=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:d.AFp,useValue:e.appId},{provide:XT,useExisting:d.AFp},vi]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(i,12))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:Sm,imports:[mo,d.hGG]}),i})();"undefined"!=typeof window&&window;var Ne=k(5917),Vt=k(7574),mn=k(9773);function vl(i,t){return(0,mn.zg)(i,t,1)}var sn=k(7393);function Ft(i,t){return function(o){return o.lift(new Z0(i,t))}}class Z0{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new K0(t,this.predicate,this.thisArg))}}class K0 extends sn.L{constructor(t,e,o){super(t),this.predicate=e,this.thisArg=o,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(t)}}var Le=k(8002);class Q0{}class Cc{}class jr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const s=e.slice(0,o),c=s.toLowerCase(),f=e.slice(o+1).trim();this.maybeSetNormalizedName(s,c),this.headers.has(c)?this.headers.get(c).push(f):this.headers.set(c,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const s=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(s,o),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof jr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new jr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof jr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...o),this.headers.set(e,s);break;case"d":const c=t.value;if(c){let f=this.headers.get(e);if(!f)return;f=f.filter(m=>-1===c.indexOf(m)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class wM{encodeKey(t){return Mm(t)}encodeValue(t){return Mm(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Mm(i){return encodeURIComponent(i).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function da(i){return`${i}`}class zo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new wM,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(s=>{const c=s.indexOf("="),[f,m]=-1==c?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,c)),t.decodeValue(s.slice(c+1))],y=e.get(f)||[];y.push(m),e.set(f,y)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const s=t[o];Array.isArray(s)?s.forEach(c=>{e.push({param:o,value:c,op:"a"})}):e.push({param:o,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new zo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(da(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const s=o.indexOf(da(t.value));-1!==s&&o.splice(s,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Am{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function ha(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function fa(i){return"undefined"!=typeof Blob&&i instanceof Blob}function wl(i){return"undefined"!=typeof FormData&&i instanceof FormData}class Ki{constructor(t,e,o,s){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==o?o:null,c=s):c=o,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new jr),this.context||(this.context=new Am),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const m=e.indexOf("?");this.urlWithParams=e+(-1===m?"?":m<e.length-1?"&":"")+f}}else this.params=new zo,this.urlWithParams=e}serializeBody(){return null===this.body?null:ha(this.body)||fa(this.body)||wl(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof zo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wl(this.body)?null:fa(this.body)?this.body.type||null:ha(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const o=t.method||this.method,s=t.url||this.url,c=t.responseType||this.responseType,f=void 0!==t.body?t.body:this.body,m=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,y=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,C=t.params||this.params;const D=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((T,A)=>T.set(A,t.setHeaders[A]),b)),t.setParams&&(C=Object.keys(t.setParams).reduce((T,A)=>T.set(A,t.setParams[A]),C)),new Ki(o,s,f,{params:C,headers:b,context:D,reportProgress:y,responseType:c,withCredentials:m})}}var Hn=(()=>((Hn=Hn||{})[Hn.Sent=0]="Sent",Hn[Hn.UploadProgress=1]="UploadProgress",Hn[Hn.ResponseHeader=2]="ResponseHeader",Hn[Hn.DownloadProgress=3]="DownloadProgress",Hn[Hn.Response=4]="Response",Hn[Hn.User=5]="User",Hn))();class ew{constructor(t,e=200,o="OK"){this.headers=t.headers||new jr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class xm extends ew{constructor(t={}){super(t),this.type=Hn.ResponseHeader}clone(t={}){return new xm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Rm extends ew{constructor(t={}){super(t),this.type=Hn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Rm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class tw extends ew{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Qt(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Ec=(()=>{class i{constructor(e){this.handler=e}request(e,o,s={}){let c;if(e instanceof Ki)c=e;else{let y,b;y=s.headers instanceof jr?s.headers:new jr(s.headers),s.params&&(b=s.params instanceof zo?s.params:new zo({fromObject:s.params})),c=new Ki(e,o,void 0!==s.body?s.body:null,{headers:y,context:s.context,params:b,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const f=(0,Ne.of)(c).pipe(vl(y=>this.handler.handle(y)));if(e instanceof Ki||"events"===s.observe)return f;const m=f.pipe(Ft(y=>y instanceof Rm));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return m.pipe((0,Le.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return m.pipe((0,Le.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return m.pipe((0,Le.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));case"json":default:return m.pipe((0,Le.U)(y=>y.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new zo).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,s={}){return this.request("PATCH",e,Qt(s,o))}post(e,o,s={}){return this.request("POST",e,Qt(s,o))}put(e,o,s={}){return this.request("PUT",e,Qt(s,o))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Q0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Om{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const CM=new d.OlP("HTTP_INTERCEPTORS");let fO=(()=>{class i{intercept(e,o){return o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Sc=/^\)\]\}',?\n/;let Mn=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vt.y(o=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((A,R)=>s.setRequestHeader(A,R.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const A=e.detectContentTypeHeader();null!==A&&s.setRequestHeader("Content-Type",A)}if(e.responseType){const A=e.responseType.toLowerCase();s.responseType="json"!==A?A:"text"}const c=e.serializeBody();let f=null;const m=()=>{if(null!==f)return f;const A=1223===s.status?204:s.status,R=s.statusText||"OK",V=new jr(s.getAllResponseHeaders()),Z=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(s)||e.url;return f=new xm({headers:V,status:A,statusText:R,url:Z}),f},y=()=>{let{headers:A,status:R,statusText:V,url:Z}=m(),le=null;204!==R&&(le=void 0===s.response?s.responseText:s.response),0===R&&(R=le?200:0);let me=R>=200&&R<300;if("json"===e.responseType&&"string"==typeof le){const we=le;le=le.replace(Sc,"");try{le=""!==le?JSON.parse(le):null}catch(Oe){le=we,me&&(me=!1,le={error:Oe,text:le})}}me?(o.next(new Rm({body:le,headers:A,status:R,statusText:V,url:Z||void 0})),o.complete()):o.error(new tw({error:le,headers:A,status:R,statusText:V,url:Z||void 0}))},b=A=>{const{url:R}=m(),V=new tw({error:A,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(V)};let C=!1;const D=A=>{C||(o.next(m()),C=!0);let R={type:Hn.DownloadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),"text"===e.responseType&&!!s.responseText&&(R.partialText=s.responseText),o.next(R)},T=A=>{let R={type:Hn.UploadProgress,loaded:A.loaded};A.lengthComputable&&(R.total=A.total),o.next(R)};return s.addEventListener("load",y),s.addEventListener("error",b),s.addEventListener("timeout",b),s.addEventListener("abort",b),e.reportProgress&&(s.addEventListener("progress",D),null!==c&&s.upload&&s.upload.addEventListener("progress",T)),s.send(c),o.next({type:Hn.Sent}),()=>{s.removeEventListener("error",b),s.removeEventListener("abort",b),s.removeEventListener("load",y),s.removeEventListener("timeout",b),e.reportProgress&&(s.removeEventListener("progress",D),null!==c&&s.upload&&s.upload.removeEventListener("progress",T)),s.readyState!==s.DONE&&s.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(KT))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Cl=new d.OlP("XSRF_COOKIE_NAME"),El=new d.OlP("XSRF_HEADER_NAME");class EM{}let SM=(()=>{class i{constructor(e,o,s){this.doc=e,this.platform=o,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Dr(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j),d.LFG(d.Lbi),d.LFG(Cl))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),Hr=(()=>{class i{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return o.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(EM),d.LFG(El))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),yo=(()=>{class i{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(CM,[]);this.chain=o.reduceRight((s,c)=>new Om(s,c),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Cc),d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),ps=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:Hr,useClass:fO}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:Cl,useValue:e.cookieName}:[],e.headerName?{provide:El,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[Hr,{provide:CM,useExisting:Hr,multi:!0},{provide:EM,useClass:SM},{provide:Cl,useValue:"XSRF-TOKEN"},{provide:El,useValue:"X-XSRF-TOKEN"}]}),i})(),nw=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[Ec,{provide:Q0,useClass:yo},Mn,{provide:Cc,useExisting:Mn}],imports:[[ps.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})();var Gn=k(57),$h=k(3637),Jt=k(4402),gr=k(3282);function $o(...i){return(0,gr.J)(1)((0,Ne.of)(...i))}var Nm=k(4869);function mr(...i){const t=i[i.length-1];return(0,Nm.K)(t)?(i.pop(),e=>$o(i,e,t)):e=>$o(i,e)}function Yh(){return i=>i.lift(new DM)}class DM{call(t,e){return e.subscribe(new TM(t))}}class TM extends sn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Dl(i,t){let e=!1;return arguments.length>=2&&(e=!0),function(s){return s.lift(new MM(i,t,e))}}class MM{constructor(t,e,o=!1){this.accumulator=t,this.seed=e,this.hasSeed=o}call(t,e){return e.subscribe(new Dc(t,this.accumulator,this.seed,this.hasSeed))}}class Dc extends sn.L{constructor(t,e,o,s){super(t),this.accumulator=e,this._seed=o,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let o;try{o=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=o,this.destination.next(o)}}function Tl(i,t){return e=>e.lift(new Wh(i,t))}class Wh{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new _O(t,this.compare,this.keySelector))}}class _O extends sn.L{constructor(t,e,o){super(t),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(s){return this.destination.error(s)}let o=!1;if(this.hasKey)try{const{compare:s}=this;o=s(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;o||(this.key=e,this.destination.next(t))}}var Jr=k(9746),Pm=k(2329),Ml=k(9759),x=k(4762),It=k(4685),pa=k(300),Tc=function(i,t){return(Tc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])})(i,t)};function Zh(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],o=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ae,Mc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Lm=Lm||{},Pe=Mc||self;function Ac(){}function Vm(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function Qi(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var Bm="closure_uid_"+(1e9*Math.random()>>>0),rw=0;function iw(i,t,e){return i.call.apply(i.bind,arguments)}function vO(i,t,e){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,o),i.apply(t,s)}}return function(){return i.apply(t,arguments)}}function an(i,t,e){return(an=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iw:vO).apply(null,arguments)}function wi(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var o=e.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function _n(i,t){function e(){}e.prototype=t.prototype,i.Z=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.Vb=function(o,s,c){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return t.prototype[s].apply(o,f)}}function Tr(){this.s=this.s,this.o=this.o}var ow={};Tr.prototype.s=!1,Tr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Bm)&&i[Bm]||(i[Bm]=++rw)}(this);delete ow[i]}},Tr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Kh=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(var e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1},xc=Array.prototype.forEach?function(i,t,e){Array.prototype.forEach.call(i,t,e)}:function(i,t,e){for(var o=i.length,s="string"==typeof i?i.split(""):i,c=0;c<o;c++)c in s&&t.call(e,s[c],c,i)};function aw(i){return Array.prototype.concat.apply([],arguments)}function Um(i){var t=i.length;if(0<t){for(var e=Array(t),o=0;o<t;o++)e[o]=i[o];return e}return[]}function Yo(i){return/^[\s\xa0]*$/.test(i)}var _r,Al=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Mr(i,t){return-1!=i.indexOf(t)}function lw(i,t){return i<t?-1:i>t?1:0}e:{var uw=Pe.navigator;if(uw){var IM=uw.userAgent;if(IM){_r=IM;break e}}_r=""}function jm(i,t,e){for(var o in i)t.call(e,i[o],o,i)}function cw(i){var t={};for(var e in i)t[e]=i[e];return t}var dw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rc(i,t){for(var e,o,s=1;s<arguments.length;s++){for(e in o=arguments[s])i[e]=o[e];for(var c=0;c<dw.length;c++)e=dw[c],Object.prototype.hasOwnProperty.call(o,e)&&(i[e]=o[e])}}function Oc(i){return Oc[" "](i),i}Oc[" "]=Ac;var kc,i,xM=Mr(_r,"Opera"),xl=Mr(_r,"Trident")||Mr(_r,"MSIE"),RM=Mr(_r,"Edge"),Rl=RM||xl,Qh=Mr(_r,"Gecko")&&!(Mr(_r.toLowerCase(),"webkit")&&!Mr(_r,"Edge"))&&!(Mr(_r,"Trident")||Mr(_r,"MSIE"))&&!Mr(_r,"Edge"),hw=Mr(_r.toLowerCase(),"webkit")&&!Mr(_r,"Edge");function Hm(){var i=Pe.document;return i?i.documentMode:void 0}e:{var Wo="",Gm=(i=_r,Qh?/rv:([^\);]+)(\)|;)/.exec(i):RM?/Edge\/([\d\.]+)/.exec(i):xl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):hw?/WebKit\/(\S+)/.exec(i):xM?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Gm&&(Wo=Gm?Gm[1]:""),xl){var qm=Hm();if(null!=qm&&qm>parseFloat(Wo)){kc=String(qm);break e}}kc=Wo}var OM={};function kM(){return t=OM,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var i=0,t=Al(String(kc)).split("."),e=Al("9").split("."),o=Math.max(t.length,e.length),s=0;0==i&&s<o;s++){var c=t[s]||"",f=e[s]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==c[0].length&&0==f[0].length)break;i=lw(0==c[1].length?0:parseInt(c[1],10),0==f[1].length?0:parseInt(f[1],10))||lw(0==c[2].length,0==f[2].length)||lw(c[2],f[2]),c=c[3],f=f[3]}while(0==i)}return 0<=i}();var t}var Ol=Pe.document&&xl&&(Hm()||parseInt(kc,10))||void 0,fw=function(){if(!Pe.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Pe.addEventListener("test",Ac,t),Pe.removeEventListener("test",Ac,t)}catch(e){}return i}();function yr(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}function Fc(i,t){if(yr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(Qh){e:{try{Oc(t.nodeName);var s=!0;break e}catch(c){}s=!1}s||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:FM[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Fc.Z.h.call(this)}}yr.prototype.h=function(){this.defaultPrevented=!0},_n(Fc,yr);var FM={2:"touch",3:"pen",4:"mouse"};Fc.prototype.h=function(){Fc.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Nc="closure_listenable_"+(1e6*Math.random()|0),NM=0;function pw(i,t,e,o,s){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!o,this.ia=s,this.key=++NM,this.ca=this.fa=!1}function Jh(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Xh(i){this.src=i,this.g={},this.h=0}function $m(i,t){var e=t.type;if(e in i.g){var c,o=i.g[e],s=Kh(o,t);(c=0<=s)&&Array.prototype.splice.call(o,s,1),c&&(Jh(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function Ym(i,t,e,o){for(var s=0;s<i.length;++s){var c=i[s];if(!c.ca&&c.listener==t&&c.capture==!!e&&c.ia==o)return s}return-1}Xh.prototype.add=function(i,t,e,o,s){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=Ym(i,t,o,s);return-1<f?(t=i[f],e||(t.fa=!1)):((t=new pw(t,this.src,c,!!o,s)).fa=e,i.push(t)),t};var gw="closure_lm_"+(1e6*Math.random()|0),Wm={};function kl(i,t,e,o,s){if(o&&o.once)return Fl(i,t,e,o,s);if(Array.isArray(t)){for(var c=0;c<t.length;c++)kl(i,t[c],e,o,s);return null}return e=Pc(e),i&&i[Nc]?i.N(t,e,Qi(o)?!!o.capture:!!o,s):Zm(i,t,e,!1,o,s)}function Zm(i,t,e,o,s,c){if(!t)throw Error("Invalid event type");var f=Qi(s)?!!s.capture:!!s,m=mw(i);if(m||(i[gw]=m=new Xh(i)),(e=m.add(t,e,o,f,c)).proxy)return e;if(o=function(){var t=bO;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=o,o.src=i,o.listener=e,i.addEventListener)fw||(s=f),void 0===s&&(s=!1),i.addEventListener(t.toString(),o,s);else if(i.attachEvent)i.attachEvent(Qm(t.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return e}function Fl(i,t,e,o,s){if(Array.isArray(t)){for(var c=0;c<t.length;c++)Fl(i,t[c],e,o,s);return null}return e=Pc(e),i&&i[Nc]?i.O(t,e,Qi(o)?!!o.capture:!!o,s):Zm(i,t,e,!0,o,s)}function Km(i,t,e,o,s){if(Array.isArray(t))for(var c=0;c<t.length;c++)Km(i,t[c],e,o,s);else o=Qi(o)?!!o.capture:!!o,e=Pc(e),i&&i[Nc]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=Ym(c=i.g[t],e,o,s))&&(Jh(c[e]),Array.prototype.splice.call(c,e,1),0==c.length&&(delete i.g[t],i.h--))):i&&(i=mw(i))&&(t=i.g[t.toString()],i=-1,t&&(i=Ym(t,e,o,s)),(e=-1<i?t[i]:null)&&ef(e))}function ef(i){if("number"!=typeof i&&i&&!i.ca){var t=i.src;if(t&&t[Nc])$m(t.i,i);else{var e=i.type,o=i.proxy;t.removeEventListener?t.removeEventListener(e,o,i.capture):t.detachEvent?t.detachEvent(Qm(e),o):t.addListener&&t.removeListener&&t.removeListener(o),(e=mw(t))?($m(e,i),0==e.h&&(e.src=null,t[gw]=null)):Jh(i)}}}function Qm(i){return i in Wm?Wm[i]:Wm[i]="on"+i}function bO(i,t){if(i.ca)i=!0;else{t=new Fc(t,this);var e=i.listener,o=i.ia||i.src;i.fa&&ef(i),i=e.call(o,t)}return i}function mw(i){return(i=i[gw])instanceof Xh?i:null}var _w="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pc(i){return"function"==typeof i?i:(i[_w]||(i[_w]=function(t){return i.handleEvent(t)}),i[_w])}function An(){Tr.call(this),this.i=new Xh(this),this.P=this,this.I=null}function qn(i,t){var e,o=i.I;if(o)for(e=[];o;o=o.I)e.push(o);if(i=i.P,o=t.type||t,"string"==typeof t)t=new yr(t,i);else if(t instanceof yr)t.target=t.target||i;else{var s=t;Rc(t=new yr(o,i),s)}if(s=!0,e)for(var c=e.length-1;0<=c;c--){var f=t.g=e[c];s=Jm(f,o,!0,t)&&s}if(s=Jm(f=t.g=i,o,!0,t)&&s,s=Jm(f,o,!1,t)&&s,e)for(c=0;c<e.length;c++)s=Jm(f=t.g=e[c],o,!1,t)&&s}function Jm(i,t,e,o){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,c=0;c<t.length;++c){var f=t[c];if(f&&!f.ca&&f.capture==e){var m=f.listener,y=f.ia||f.src;f.fa&&$m(i.i,f),s=!1!==m.call(y,o)&&s}}return s&&!o.defaultPrevented}_n(An,Tr),An.prototype[Nc]=!0,An.prototype.removeEventListener=function(i,t,e,o){Km(this,i,t,e,o)},An.prototype.M=function(){if(An.Z.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],o=0;o<e.length;o++)Jh(e[o]);delete i.g[t],i.h--}}this.I=null},An.prototype.N=function(i,t,e,o){return this.i.add(String(i),t,!1,e,o)},An.prototype.O=function(i,t,e,o){return this.i.add(String(i),t,!0,e,o)};var yw=Pe.JSON.stringify;function vw(){var i=Cw,t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var Nl,PM=function(){function i(){this.h=this.g=null}return i.prototype.add=function(t,e){var o=bw.get();o.set(t,e),this.h?this.h.next=o:this.g=o,this.h=o},i}(),bw=new(function(){function i(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return i.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},i}())(function(){return new LM},function(i){return i.reset()}),LM=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function VM(i){Pe.setTimeout(function(){throw i},0)}function tf(i,t){Nl||function(){var i=Pe.Promise.resolve(void 0);Nl=function(){i.then(ln)}}(),Lc||(Nl(),Lc=!0),Cw.add(i,t)}var Lc=!1,Cw=new PM;function ln(){for(var i;i=vw();){try{i.h.call(i.g)}catch(e){VM(e)}var t=bw;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}Lc=!1}function nf(i,t){An.call(this),this.h=i||1,this.g=t||Pe,this.j=an(this.kb,this),this.l=Date.now()}function Xm(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Vc(i,t,e){if("function"==typeof i)e&&(i=an(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=an(i.handleEvent,i)}return 2147483647<Number(t)?-1:Pe.setTimeout(i,t||0)}function e_(i){i.g=Vc(function(){i.g=null,i.i&&(i.i=!1,e_(i))},i.j);var t=i.h;i.h=null,i.m.apply(null,t)}_n(nf,An),(Ae=nf.prototype).da=!1,Ae.S=null,Ae.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qn(this,"tick"),this.da&&(Xm(this),this.start()))}},Ae.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ae.M=function(){nf.Z.M.call(this),Xm(this),delete this.g};var BM=function(i){function t(e,o){var s=i.call(this)||this;return s.m=e,s.j=o,s.h=null,s.i=!1,s.g=null,s}return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}Tc(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,i),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:e_(this)},t.prototype.M=function(){i.prototype.M.call(this),this.g&&(Pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Tr);function Bc(i){Tr.call(this),this.h=i,this.g={}}_n(Bc,Tr);var Ew=[];function Sw(i,t,e,o){Array.isArray(e)||(e&&(Ew[0]=e.toString()),e=Ew);for(var s=0;s<e.length;s++){var c=kl(t,e[s],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function Dw(i){jm(i.g,function(t,e){this.g.hasOwnProperty(e)&&ef(t)},i),i.g={}}function t_(){this.g=!0}function In(i,t,e,o){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var o=e[i];if(!(2>o.length)){var s=o[1];if(Array.isArray(s)&&!(1>s.length)){var c=s[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<s.length;f++)s[f]=""}}}return yw(e)}catch(m){return t}}(i,e)+(o?" "+o:"")})}Bc.prototype.M=function(){Bc.Z.M.call(this),Dw(this)},Bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},t_.prototype.Aa=function(){this.g=!1},t_.prototype.info=function(){};var gs={},sr=null;function ms(){return sr=sr||new An}function rf(i){yr.call(this,gs.Ma,i)}function jc(i){var t=ms();qn(t,new rf(t,i))}function Mw(i,t){yr.call(this,gs.STAT_EVENT,i),this.stat=t}function vr(i){var t=ms();qn(t,new Mw(t,i))}function Aw(i,t){yr.call(this,gs.Na,i),this.size=t}function Pl(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Pe.setTimeout(function(){i()},t)}gs.Ma="serverreachability",_n(rf,yr),gs.STAT_EVENT="statevent",_n(Mw,yr),gs.Na="timingevent",_n(Aw,yr);var sf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},r_={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function i_(){}function xw(){}i_.prototype.h=null;var o_,Ll={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Hc(){yr.call(this,"d")}function af(){yr.call(this,"c")}function s_(){}function Vl(i,t,e,o){this.l=i,this.j=t,this.m=e,this.X=o||1,this.V=new Bc(this),this.P=UM,this.W=new nf(i=Rl?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Gc}function Gc(){this.i=null,this.g="",this.h=!1}_n(Hc,yr),_n(af,yr),_n(s_,i_),s_.prototype.g=function(){return new XMLHttpRequest},s_.prototype.i=function(){return{}},o_=new s_;var UM=45e3,a_={},Zo={};function l_(i,t,e){i.K=1,i.v=df(ys(t)),i.s=e,i.U=!0,Rw(i,null)}function Rw(i,t){i.F=Date.now(),_s(i),i.A=ys(i.v);var e=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),Lw(e.h,"t",o),i.C=0,e=i.l.H,i.h=new Gc,i.g=C_(i.l,e?t:null,!i.s),0<i.O&&(i.L=new BM(an(i.Ia,i,i.g),i.O)),Sw(i.V,i.g,"readystatechange",i.gb),t=i.H?cw(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,t)):(i.u="GET",i.g.ea(i.A,i.u,null,t)),jc(1),function(i,t,e,o,s,c){i.info(function(){if(i.g)if(c)for(var f="",m=c.split("&"),y=0;y<m.length;y++){var b=m[y].split("=");if(1<b.length){var C=b[0];b=b[1];var D=C.split("_");f=2<=D.length&&"type"==D[1]?f+(C+"=")+b+"&":f+(C+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+t+"\n"+e+"\n"+f})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Ow(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function kw(i,t,e){for(var s,o=!0;!i.I&&i.C<e.length;){if((s=jM(i,e))==Zo){4==t&&(i.o=4,vr(14),o=!1),In(i.j,i.m,null,"[Incomplete Response]");break}if(s==a_){i.o=4,vr(15),In(i.j,i.m,e,"[Invalid Chunk]"),o=!1;break}In(i.j,i.m,s,null),lf(i,s)}Ow(i)&&s!=Zo&&s!=a_&&(i.h.g="",i.C=0),4!=t||0!=e.length||i.h.h||(i.o=1,vr(16),o=!1),i.i=i.i&&o,o?0<e.length&&!i.aa&&(i.aa=!0,(t=i.l).g==i&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),b_(t),t.L=!0,vr(11))):(In(i.j,i.m,e,"[Invalid Chunked Response]"),ga(i),zc(i))}function jM(i,t){var e=i.C,o=t.indexOf("\n",e);return-1==o?Zo:(e=Number(t.substring(e,o)),isNaN(e)?a_:(o+=1)+e>t.length?Zo:(t=t.substr(o,e),i.C=o+e,t))}function _s(i){i.Y=Date.now()+i.P,Xr(i,i.P)}function Xr(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Pl(an(i.eb,i),t)}function qc(i){i.B&&(Pe.clearTimeout(i.B),i.B=null)}function zc(i){0==i.l.G||i.I||et(i.l,i)}function ga(i){qc(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,Xm(i.W),Dw(i.V),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function lf(i,t){try{var e=i.l;if(0!=e.G&&(e.g==i||Wc(e.i,i)))if(e.I=i.N,!i.J&&Wc(e.i,i)&&3==e.G){try{var o=e.Ca.g.parse(t)}catch(Z){o=null}if(Array.isArray(o)&&3==o.length){var s=o;if(0==s[0])e:if(e.u)e.ta=s[1],0<e.ta-e.U&&37500>s[2]&&e.N&&0==e.A&&!e.v&&(e.v=Pl(an(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<i.F))break e;Df(e),Cf(e)}Sf(e),vr(18)}if(1>=f_(e.i)&&e.ka){try{e.ka()}catch(Z){}e.ka=void 0}}else ws(e,11)}else if((i.J||e.g==i)&&Df(e),!Yo(t))for(s=e.Ca.g.parse(t),t=0;t<s.length;t++){var c=s[t];if(e.U=c[0],c=c[1],2==e.G)if("c"==c[0]){e.J=c[1],e.la=c[2];var f=c[3];null!=f&&(e.ma=f,e.h.info("VER="+e.ma));var m=c[4];null!=m&&(e.za=m,e.h.info("SVER="+e.za));var y=c[5];null!=y&&"number"==typeof y&&0<y&&(e.K=o=1.5*y,e.h.info("backChannelRequestTimeoutMs_="+o)),o=e;var b=i.g;if(b){var C=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var D=o.i;!D.g&&(Mr(C,"spdy")||Mr(C,"quic")||Mr(C,"h2"))&&(D.j=D.l,D.g=new Set,D.h&&(p_(D,D.h),D.h=null))}if(o.D){var T=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;T&&(o.sa=T,Ht(o.F,o.D,T))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-i.F,e.h.info("Handshake RTT: "+e.O+"ms"));var A=i;if((o=e).oa=Ci(o,o.H?o.la:null,o.W),A.J){Uw(o.i,A);var R=A,V=o.K;V&&R.setTimeout(V),R.B&&(qc(R),_s(R)),o.g=A}else tC(o);0<e.l.length&&Ef(e)}else"stop"!=c[0]&&"close"!=c[0]||ws(e,7);else 3==e.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ws(e,7):wf(e):"noop"!=c[0]&&e.j&&e.j.wa(c),e.A=0)}jc(4)}catch(Z){}}function uf(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(Vm(i)||"string"==typeof i)xc(i,t,void 0);else{if(i.T&&"function"==typeof i.T)var e=i.T();else if(i.R&&"function"==typeof i.R)e=void 0;else if(Vm(i)||"string"==typeof i){e=[];for(var o=i.length,s=0;s<o;s++)e.push(s)}else for(s in e=[],o=0,i)e[o++]=s;s=(o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Vm(i)){for(var t=[],e=i.length,o=0;o<e;o++)t.push(i[o]);return t}for(o in t=[],e=0,i)t[e++]=i[o];return t}(i)).length;for(var c=0;c<s;c++)t.call(void 0,o[c],e&&e[c],i)}}function Bl(i,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var o=0;o<e;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Bl)for(e=i.T(),o=0;o<e.length;o++)this.set(e[o],i.get(e[o]));else for(o in i)this.set(o,i[o])}function u_(i){if(i.i!=i.g.length){for(var t=0,e=0;t<i.g.length;){var o=i.g[t];ma(i.h,o)&&(i.g[e++]=o),t++}i.g.length=e}if(i.i!=i.g.length){var s={};for(e=t=0;t<i.g.length;)ma(s,o=i.g[t])||(i.g[e++]=o,s[o]=1),t++;i.g.length=e}}function ma(i,t){return Object.prototype.hasOwnProperty.call(i,t)}(Ae=Vl.prototype).setTimeout=function(i){this.P=i},Ae.gb=function(i){i=i.target;var t=this.L;t&&3==Co(i)?t.l():this.Ia(i)},Ae.Ia=function(i){try{if(i==this.g)e:{var t=Co(this.g),e=this.g.Da(),o=this.g.ba();if(!(3>t)&&(3!=t||Rl||this.g&&(this.h.h||this.g.ga()||bf(this.g)))){this.I||4!=t||7==e||jc(8==e||0>=o?3:2),qc(this);var s=this.g.ba();this.N=s;t:if(Ow(this)){var c=bf(this.g);i="";var f=c.length,m=4==Co(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ga(this),zc(this);var y="";break t}this.h.i=new Pe.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,i+=this.h.i.decode(c[e],{stream:m&&e==f-1});c.splice(0,f),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ga();if(this.i=200==s,function(i,t,e,o,s,c,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+s+"]: "+t+"\n"+e+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,t,s),this.i){if(this.$&&!this.J){t:{if(this.g){var b,C=this.g;if((b=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yo(b)){var D=b;break t}}D=null}if(!(s=D)){this.i=!1,this.o=3,vr(12),ga(this),zc(this);break e}In(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,lf(this,s)}this.U?(kw(this,t,y),Rl&&this.i&&3==t&&(Sw(this.V,this.W,"tick",this.fb),this.W.start())):(In(this.j,this.m,y,null),lf(this,y)),4==t&&ga(this),this.i&&!this.I&&(4==t?et(this.l,this):(this.i=!1,_s(this)))}else 400==s&&0<y.indexOf("Unknown SID")?(this.o=3,vr(12)):(this.o=0,vr(13)),ga(this),zc(this)}}}catch(T){}},Ae.fb=function(){if(this.g){var i=Co(this.g),t=this.g.ga();this.C<t.length&&(qc(this),kw(this,i,t),this.i&&4!=i&&_s(this))}},Ae.cancel=function(){this.I=!0,ga(this)},Ae.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(jc(3),vr(17)),ga(this),this.o=2,zc(this)):Xr(this,this.Y-i)},(Ae=Bl.prototype).R=function(){u_(this);for(var i=[],t=0;t<this.g.length;t++)i.push(this.h[this.g[t]]);return i},Ae.T=function(){return u_(this),this.g.concat()},Ae.get=function(i,t){return ma(this.h,i)?this.h[i]:t},Ae.set=function(i,t){ma(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=t},Ae.forEach=function(i,t){for(var e=this.T(),o=0;o<e.length;o++){var s=e[o],c=this.get(s);i.call(t,c,s,this)}};var _a=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ul(i,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Ul){this.g=void 0!==t?t:i.g,$c(this,i.j),this.s=i.s,c_(this,i.i),ei(this,i.m),this.l=i.l,t=i.h;var e=new ql;e.i=t.i,t.g&&(e.g=new Bl(t.g),e.h=t.h),cf(this,e),this.o=i.o}else i&&(e=String(i).match(_a))?(this.g=!!t,$c(this,e[1]||"",!0),this.s=jl(e[2]||""),c_(this,e[3]||"",!0),ei(this,e[4]),this.l=jl(e[5]||"",!0),cf(this,e[6]||"",!0),this.o=jl(e[7]||"")):(this.g=!!t,this.h=new ql(null,this.g))}function ys(i){return new Ul(i)}function $c(i,t,e){i.j=e?jl(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function c_(i,t,e){i.i=e?jl(t,!0):t}function ei(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function cf(i,t,e){t instanceof ql?(i.h=t,function(i,t){t&&!i.j&&(vs(i),i.i=null,i.g.forEach(function(e,o){var s=o.toLowerCase();o!=s&&(ff(this,o),Lw(this,s,e))},i)),i.j=t}(i.h,i.g)):(e||(t=Hl(t,Gl)),i.h=new ql(t,i.g))}function Ht(i,t,e){i.h.set(t,e)}function df(i){return Ht(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function jl(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Hl(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,d_),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function d_(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Ul.prototype.toString=function(){var i=[],t=this.j;t&&i.push(Hl(t,hf,!0),":");var e=this.i;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(Hl(t,hf,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&i.push("/"),i.push(Hl(e,"/"==e.charAt(0)?EO:Nw,!0))),(e=this.h.toString())&&i.push("?",e),(e=this.o)&&i.push("#",Hl(e,h_)),i.join("")};var hf=/[#\/\?@]/g,Nw=/[#\?:]/g,EO=/[#\?]/g,Gl=/[#\?@]/g,h_=/#/g;function ql(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function vs(i){i.g||(i.g=new Bl,i.h=0,i.i&&function(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var o=i[e].indexOf("="),s=null;if(0<=o){var c=i[e].substring(0,o);s=i[e].substring(o+1)}else c=i[e];t(c,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function ff(i,t){vs(i),t=zl(i,t),ma(i.g.h,t)&&(i.i=null,i.h-=i.g.get(t).length,ma((i=i.g).h,t)&&(delete i.h[t],i.i--,i.g.length>2*i.i&&u_(i)))}function Pw(i,t){return vs(i),t=zl(i,t),ma(i.g.h,t)}function Lw(i,t,e){ff(i,t),0<e.length&&(i.i=null,i.g.set(zl(i,t),Um(e)),i.h+=e.length)}function zl(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}(Ae=ql.prototype).add=function(i,t){vs(this),this.i=null,i=zl(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},Ae.forEach=function(i,t){vs(this),this.g.forEach(function(e,o){xc(e,function(s){i.call(t,s,o,this)},this)},this)},Ae.T=function(){vs(this);for(var i=this.g.R(),t=this.g.T(),e=[],o=0;o<t.length;o++)for(var s=i[o],c=0;c<s.length;c++)e.push(t[o]);return e},Ae.R=function(i){vs(this);var t=[];if("string"==typeof i)Pw(this,i)&&(t=aw(t,this.g.get(zl(this,i))));else{i=this.g.R();for(var e=0;e<i.length;e++)t=aw(t,i[e])}return t},Ae.set=function(i,t){return vs(this),this.i=null,Pw(this,i=zl(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},Ae.get=function(i,t){return i&&0<(i=this.R(i)).length?String(i[0]):t},Ae.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],t=this.g.T(),e=0;e<t.length;e++){var o=t[e],s=encodeURIComponent(String(o));o=this.R(o);for(var c=0;c<o.length;c++){var f=s;""!==o[c]&&(f+="="+encodeURIComponent(String(o[c]))),i.push(f)}}return this.i=i.join("&")};var GM=function(t,e){this.h=t,this.g=e};function Vw(i){this.l=i||Bw,i=Pe.PerformanceNavigationTiming?0<(i=Pe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Pe.g&&Pe.g.Ea&&Pe.g.Ea()&&Pe.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Bw=10;function pf(i){return!!i.h||!!i.g&&i.g.size>=i.j}function f_(i){return i.h?1:i.g?i.g.size:0}function Wc(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function p_(i,t){i.g?i.g.add(t):i.h=t}function Uw(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function g_(i){var t,e;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var o=i.i;try{for(var s=Zh(i.g.values()),c=s.next();!c.done;c=s.next())o=o.concat(c.value.D)}catch(m){t={error:m}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return o}return Um(i.i)}function gf(){}function ya(){this.g=new gf}function jw(i,t,e){var o=e||"";try{uf(i,function(s,c){var f=s;Qi(s)&&(f=yw(s)),t.push(o+c+"="+encodeURIComponent(f))})}catch(s){throw t.push(o+"type="+encodeURIComponent("_badmap")),s}}function mf(i,t,e,o,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(o)}catch(c){}}function bs(i){this.l=i.$b||null,this.j=i.ib||!1}function _f(i,t){An.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=yf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vw.prototype.cancel=function(){var i,t;if(this.i=g_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=Zh(this.g.values()),o=e.next();!o.done;o=e.next())o.value.cancel()}catch(c){i={error:c}}finally{try{o&&!o.done&&(t=e.return)&&t.call(e)}finally{if(i)throw i.error}}this.g.clear()}},gf.prototype.stringify=function(i){return Pe.JSON.stringify(i,void 0)},gf.prototype.parse=function(i){return Pe.JSON.parse(i,void 0)},_n(bs,i_),bs.prototype.g=function(){return new _f(this.l,this.j)},bs.prototype.i=function(i){return function(){return i}}({}),_n(_f,An);var yf=0;function m_(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function $l(i){i.readyState=4,i.l=null,i.j=null,i.A=null,va(i)}function va(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ae=_f.prototype).open=function(i,t){if(this.readyState!=yf)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,va(this)},Ae.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||Pe).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Ae.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$l(this)),this.readyState=yf},Ae.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,va(this)),this.g&&(this.readyState=3,va(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Pe.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m_(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ae.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?$l(this):va(this),3==this.readyState&&m_(this)}},Ae.Ua=function(i){this.g&&(this.response=this.responseText=i,$l(this))},Ae.Ta=function(i){this.g&&(this.response=i,$l(this))},Ae.ha=function(){this.g&&$l(this)},Ae.setRequestHeader=function(i,t){this.v.append(i,t)},Ae.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ae.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],t=this.h.entries(),e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(_f.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Gw=Pe.JSON.parse;function tn(i){An.call(this),this.headers=new Bl,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zc,this.K=this.L=!1}_n(tn,An);var Zc="",qw=/^https?$/i,__=["POST","PUT"];function y_(i){return"content-type"==i.toLowerCase()}function Yl(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,$w(i),vf(i)}function $w(i){i.D||(i.D=!0,qn(i,"complete"),qn(i,"error"))}function v_(i){if(i.h&&void 0!==Lm&&(!i.C[1]||4!=Co(i)||2!=i.ba()))if(i.v&&4==Co(i))Vc(i.Fa,0,i);else if(qn(i,"readystatechange"),4==Co(i)){i.h=!1;try{var o,t=i.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(o=e)){var s;if(s=0===t){var c=String(i.H).match(_a)[1]||null;if(!c&&Pe.self&&Pe.self.location){var f=Pe.self.location.protocol;c=f.substr(0,f.length-1)}s=!qw.test(c?c.toLowerCase():"")}o=s}if(o)qn(i,"complete"),qn(i,"success");else{i.m=6;try{var m=2<Co(i)?i.g.statusText:""}catch(y){m=""}i.j=m+" ["+i.ba()+"]",$w(i)}}finally{vf(i)}}}function vf(i,t){if(i.g){Yw(i);var e=i.g,o=i.C[0]?Ac:null;i.g=null,i.C=null,t||qn(i,"ready");try{e.onreadystatechange=o}catch(s){}}}function Yw(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Pe.clearTimeout(i.A),i.A=null)}function Co(i){return i.g?i.g.readyState:0}function bf(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Zc:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Zw(i,t,e){e:{for(o in e){var o=!1;break e}o=!0}o||(e=function(i){var t="";return jm(i,function(e,o){t+=o,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):Ht(i,t,e))}function Wl(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function Kw(i){this.za=0,this.l=[],this.h=new t_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wl("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wl("baseRetryDelayMs",5e3,i),this.$a=Wl("retryDelaySeedMs",1e4,i),this.Ya=Wl("forwardChannelMaxRetries",2,i),this.ra=Wl("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Vw(i&&i.concurrentRequestLimit),this.Ca=new ya,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function wf(i){if(Qw(i),3==i.G){var t=i.V++,e=ys(i.F);Ht(e,"SID",i.J),Ht(e,"RID",t),Ht(e,"TYPE","terminate"),Kc(i,e),(t=new Vl(i,i.h,t,void 0)).K=2,t.v=df(ys(e)),e=!1,Pe.navigator&&Pe.navigator.sendBeacon&&(e=Pe.navigator.sendBeacon(t.v.toString(),"")),!e&&Pe.Image&&((new Image).src=t.v,e=!0),e||(t.g=C_(t.l,null),t.g.ea(t.v)),t.F=Date.now(),_s(t)}Qc(i)}function Cf(i){i.g&&(b_(i),i.g.cancel(),i.g=null)}function Qw(i){Cf(i),i.u&&(Pe.clearTimeout(i.u),i.u=null),Df(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Pe.clearTimeout(i.m),i.m=null)}function ti(i,t){i.l.push(new GM(i.Za++,t)),3==i.G&&Ef(i)}function Ef(i){pf(i.i)||i.m||(i.m=!0,tf(i.Ha,i),i.C=0)}function Xw(i,t){var e;e=t?t.m:i.V++;var o=ys(i.F);Ht(o,"SID",i.J),Ht(o,"RID",e),Ht(o,"AID",i.U),Kc(i,o),i.o&&i.s&&Zw(o,i.o,i.s),e=new Vl(i,i.h,e,i.C+1),null===i.o&&(e.H=i.s),t&&(i.l=t.D.concat(i.l)),t=eC(i,e,1e3),e.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),p_(i.i,e),l_(e,o,t)}function Kc(i,t){i.j&&uf({},function(e,o){Ht(t,o,e)})}function eC(i,t,e){e=Math.min(i.l.length,e);var o=i.j?an(i.j.Oa,i.j,i):null;e:for(var s=i.l,c=-1;;){var f=["count="+e];-1==c?0<e?f.push("ofs="+(c=s[0].h)):c=0:f.push("ofs="+c);for(var m=!0,y=0;y<e;y++){var b=s[y].h,C=s[y].g;if(0>(b-=c))c=Math.max(0,s[y].h-100),m=!1;else try{jw(C,f,"req"+b+"_")}catch(D){o&&o(C)}}if(m){o=f.join("&");break e}}return i=i.l.splice(0,e),t.D=i,o}function tC(i){i.g||i.u||(i.Y=1,tf(i.Ga,i),i.A=0)}function Sf(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Pl(an(i.Ga,i),w_(i,i.A)),i.A++,0))}function b_(i){null!=i.B&&(Pe.clearTimeout(i.B),i.B=null)}function nC(i){i.g=new Vl(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var t=ys(i.oa);Ht(t,"RID","rpc"),Ht(t,"SID",i.J),Ht(t,"CI",i.N?"0":"1"),Ht(t,"AID",i.U),Kc(i,t),Ht(t,"TYPE","xmlhttp"),i.o&&i.s&&Zw(t,i.o,i.s),i.K&&i.g.setTimeout(i.K);var e=i.g;i=i.la,e.K=1,e.v=df(ys(t)),e.s=null,e.U=!0,Rw(e,i)}function Df(i){null!=i.v&&(Pe.clearTimeout(i.v),i.v=null)}function et(i,t){var e=null;if(i.g==t){Df(i),b_(i),i.g=null;var o=2}else{if(!Wc(i.i,t))return;e=t.D,Uw(i.i,t),o=1}if(i.I=t.N,0!=i.G)if(t.i)if(1==o){e=t.s?t.s.length:0,t=Date.now()-t.F;var s=i.C;qn(o=ms(),new Aw(o,e,t,s)),Ef(i)}else tC(i);else if(3==(s=t.o)||0==s&&0<i.I||!(1==o&&function(i,t){return!(f_(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=t.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Pl(an(i.Ha,i,t),w_(i,i.C)),i.C++,0)))}(i,t)||2==o&&Sf(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),s){case 1:ws(i,5);break;case 4:ws(i,10);break;case 3:ws(i,6);break;default:ws(i,2)}}function w_(i,t){var e=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(e*=2),e*t}function ws(i,t){if(i.h.info("Error code "+t),2==t){var e=null;i.j&&(e=null);var o=an(i.jb,i);e||(e=new Ul("//www.google.com/images/cleardot.gif"),Pe.location&&"http"==Pe.location.protocol||$c(e,"https"),df(e)),function(i,t){var e=new t_;if(Pe.Image){var o=new Image;o.onload=wi(mf,e,o,"TestLoadImage: loaded",!0,t),o.onerror=wi(mf,e,o,"TestLoadImage: error",!1,t),o.onabort=wi(mf,e,o,"TestLoadImage: abort",!1,t),o.ontimeout=wi(mf,e,o,"TestLoadImage: timeout",!1,t),Pe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else t(!1)}(e.toString(),o)}else vr(2);i.G=0,i.j&&i.j.va(t),Qc(i),Qw(i)}function Qc(i){i.G=0,i.I=-1,i.j&&((0!=g_(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Um(i.l),i.l.length=0),i.j.ua())}function Ci(i,t,e){var o=function(i){return i instanceof Ul?ys(i):new Ul(i,void 0)}(e);if(""!=o.i)t&&c_(o,t+"."+o.i),ei(o,o.m);else{var s=Pe.location;o=function(i,t,e,o){var s=new Ul(null,void 0);return i&&$c(s,i),t&&c_(s,t),e&&ei(s,e),o&&(s.l=o),s}(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,e)}return i.aa&&jm(i.aa,function(c,f){Ht(o,f,c)}),e=i.sa,(t=i.D)&&e&&Ht(o,t,e),Ht(o,"VER",i.ma),Kc(i,o),o}function C_(i,t,e){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tn(e&&i.Ba&&!i.qa?new bs({ib:!0}):i.qa)).L=i.H,t}function rC(){}function Zl(){if(xl&&!(10<=Number(Ol)))throw Error("Environmental error: no available transport.")}function yn(i,t){An.call(this),this.g=new Kw(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.P=i,(i=t&&t.httpHeadersOverwriteParam)&&!Yo(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Yo(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new Cs(this)}function Tf(i){Hc.call(this);var t=i.__sm__;if(t){e:{for(var e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function E_(){af.call(this),this.status=1}function Cs(i){this.g=i}(Ae=tn.prototype).ea=function(i,t,e,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():o_.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:o_),this.g.onreadystatechange=an(this.Fa,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(c){return void Yl(this,c)}i=e||"";var s=new Bl(this.headers);o&&uf(o,function(c,f){s.set(f,c)}),o=function(i){e:{for(var t=y_,e=i.length,o="string"==typeof i?i.split(""):i,s=0;s<e;s++)if(s in o&&t.call(void 0,o[s],s,i)){t=s;break e}t=-1}return 0>t?null:"string"==typeof i?i.charAt(t):i[t]}(s.T()),e=Pe.FormData&&i instanceof Pe.FormData,!(0<=Kh(__,t))||o||e||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yw(this),0<this.B&&((this.K=function(i){return xl&&kM()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.pa,this)):this.A=Vc(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){Yl(this,c)}},Ae.pa=function(){void 0!==Lm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qn(this,"timeout"),this.abort(8))},Ae.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,qn(this,"complete"),qn(this,"abort"),vf(this))},Ae.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vf(this,!0)),tn.Z.M.call(this)},Ae.Fa=function(){this.s||(this.F||this.v||this.l?v_(this):this.cb())},Ae.cb=function(){v_(this)},Ae.ba=function(){try{return 2<Co(this)?this.g.status:-1}catch(i){return-1}},Ae.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Ae.Qa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),Gw(t)}},Ae.Da=function(){return this.m},Ae.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ae=Kw.prototype).ma=8,Ae.G=1,Ae.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(t){}},Ae.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var t=new Vl(this,this.h,i,void 0),e=this.s;if(this.P&&(e?Rc(e=cw(e),this.P):e=this.P),null===this.o&&(t.H=e),this.ja)e:{for(var o=0,s=0;s<this.l.length;s++){var c=this.l[s];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(o+=c)){o=s;break e}if(4096===o||s===this.l.length-1){o=s+1;break e}}o=1e3}else o=1e3;o=eC(this,t,o),Ht(s=ys(this.F),"RID",i),Ht(s,"CVER",22),this.D&&Ht(s,"X-HTTP-Session-Id",this.D),Kc(this,s),this.o&&e&&Zw(s,this.o,e),p_(this.i,t),this.Ra&&Ht(s,"TYPE","init"),this.ja?(Ht(s,"$req",o),Ht(s,"SID","null"),t.$=!0,l_(t,s,null)):l_(t,s,o),this.G=2}}else 3==this.G&&(i?Xw(this,i):0==this.l.length||pf(this.i)||Xw(this))},Ae.Ga=function(){if(this.u=null,nC(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Pl(an(this.bb,this),i)}},Ae.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,vr(10),Cf(this),nC(this))},Ae.ab=function(){null!=this.v&&(this.v=null,Cf(this),Sf(this),vr(19))},Ae.jb=function(i){i?(this.h.info("Successfully pinged google.com"),vr(2)):(this.h.info("Failed to ping google.com"),vr(1))},(Ae=rC.prototype).xa=function(){},Ae.wa=function(){},Ae.va=function(){},Ae.ua=function(){},Ae.Oa=function(){},Zl.prototype.g=function(i,t){return new yn(i,t)},_n(yn,An),yn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,e=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),tf(an(i.hb,i,t))),vr(0),i.W=t,i.aa=e||{},i.N=i.X,i.F=Ci(i,null,i.W),Ef(i)},yn.prototype.close=function(){wf(this.g)},yn.prototype.u=function(i){if("string"==typeof i){var t={};t.__data__=i,ti(this.g,t)}else this.v?((t={}).__data__=yw(i),ti(this.g,t)):ti(this.g,i)},yn.prototype.M=function(){this.g.j=null,delete this.j,wf(this.g),delete this.g,yn.Z.M.call(this)},_n(Tf,Hc),_n(E_,af),_n(Cs,rC),Cs.prototype.xa=function(){qn(this.g,"a")},Cs.prototype.wa=function(i){qn(this.g,new Tf(i))},Cs.prototype.va=function(i){qn(this.g,new E_(i))},Cs.prototype.ua=function(){qn(this.g,"b")},Zl.prototype.createWebChannel=Zl.prototype.g,yn.prototype.send=yn.prototype.u,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,sf.NO_ERROR=0,sf.TIMEOUT=8,sf.HTTP_ERROR=6,r_.COMPLETE="complete",xw.EventType=Ll,Ll.OPEN="a",Ll.CLOSE="b",Ll.ERROR="c",Ll.MESSAGE="d",An.prototype.listen=An.prototype.N,tn.prototype.listenOnce=tn.prototype.O,tn.prototype.getLastError=tn.prototype.La,tn.prototype.getLastErrorCode=tn.prototype.Da,tn.prototype.getStatus=tn.prototype.ba,tn.prototype.getResponseJson=tn.prototype.Qa,tn.prototype.getResponseText=tn.prototype.ga,tn.prototype.send=tn.prototype.ea;var D_=sf,Eo=r_,Jc=gs,Kl_PROXY=10,Kl_NOPROXY=11,Mf=bs,Af=xw,iC=tn,ni=function(){function i(t,e){var o=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(s){return o.t(s)},this.i=function(s){return e.writeSequenceNumber(s)})}return i.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},i.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},i}();ni.o=-1;var se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ge=function(i){function t(e,o){var s=this;return(s=i.call(this,o)||this).code=e,s.message=o,s.name="FirebaseError",s.toString=function(){return s.name+": [code="+s.code+"]: "+s.message},s}return(0,x.ZT)(t,i),t}(Error),Ei=new pa.Yd("@firebase/firestore");function T_(){return Ei.logLevel}function Ce(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Ei.logLevel<=pa.in.DEBUG){var o=t.map(oC);Ei.debug.apply(Ei,(0,x.ev)(["Firestore (8.8.1): "+i],o))}}function zn(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Ei.logLevel<=pa.in.ERROR){var o=t.map(oC);Ei.error.apply(Ei,(0,x.ev)(["Firestore (8.8.1): "+i],o))}}function If(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Ei.logLevel<=pa.in.WARN){var o=t.map(oC);Ei.warn.apply(Ei,(0,x.ev)(["Firestore (8.8.1): "+i],o))}}function oC(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(e){return i}}function Ge(i){void 0===i&&(i="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+i;throw zn(t),new Error(t)}function Je(i,t){i||Ge()}function Se(i,t){return i}function SO(i){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(var o=0;o<i;o++)e[o]=Math.floor(256*Math.random());return e}var $M=function(){function i(){}return i.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,o="";o.length<20;)for(var s=SO(40),c=0;c<s.length;++c)o.length<20&&s[c]<e&&(o+=t.charAt(s[c]%t.length));return o},i}();function bt(i,t){return i<t?-1:i>t?1:0}function Xc(i,t,e){return i.length===t.length&&i.every(function(o,s){return e(o,t[s])})}function YM(i){return i+"\0"}var vn=function(){function i(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ge(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ge(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(t){return i.fromMillis(t.getTime())},i.fromMillis=function(t){var e=Math.floor(t/1e3);return new i(e,Math.floor(1e6*(t-1e3*e)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)},i.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),at=function(){function i(t){this.timestamp=t}return i.fromTimestamp=function(t){return new i(t)},i.min=function(){return new i(new vn(0,0))},i.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},i.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function sC(i){var t=0;for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Es(i,t){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function xf(i){for(var t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}var M_=function(){function i(t,e,o){void 0===e?e=0:e>t.length&&Ge(),void 0===o?o=t.length-e:o>t.length-e&&Ge(),this.segments=t,this.offset=e,this.len=o}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return 0===i.comparator(this,t)},i.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(function(o){e.push(o)}):e.push(t),this.construct(e)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(t){return this.segments[this.offset+t]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.forEach=function(t){for(var e=this.offset,o=this.limit();e<o;e++)t(this.segments[e])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(t,e){for(var o=Math.min(t.length,e.length),s=0;s<o;s++){var c=t.get(s),f=e.get(s);if(c<f)return-1;if(c>f)return 1}return t.length<e.length?-1:t.length>e.length?1:0},i}(),Ct=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype.construct=function(e,o,s){return new t(e,o,s)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];for(var s=[],c=0,f=e;c<f.length;c++){var m=f[c];if(m.indexOf("//")>=0)throw new ge(se.INVALID_ARGUMENT,"Invalid segment ("+m+"). Paths must not contain // in them.");s.push.apply(s,m.split("/").filter(function(y){return y.length>0}))}return new t(s)},t.emptyPath=function(){return new t([])},t}(M_),WM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xn=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype.construct=function(e,o,s){return new t(e,o,s)},t.isValidIdentifier=function(e){return WM.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var o=[],s="",c=0,f=function(){if(0===s.length)throw new ge(se.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(s),s=""},m=!1;c<e.length;){var y=e[c];if("\\"===y){if(c+1===e.length)throw new ge(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var b=e[c+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new ge(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=b,c+=2}else"`"===y?(m=!m,c++):"."!==y||m?(s+=y,c++):(f(),c++)}if(f(),m)throw new ge(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(o)},t.emptyPath=function(){return new t([])},t}(M_),ba=function(){function i(t){this.fields=t,t.sort(Xn.comparator)}return i.prototype.covers=function(t){for(var e=0,o=this.fields;e<o.length;e++)if(o[e].isPrefixOf(t))return!0;return!1},i.prototype.isEqual=function(t){return Xc(this.fields,t.fields,function(e,o){return e.isEqual(o)})},i}(),Ar=function(){function i(t){this.binaryString=t}return i.fromBase64String=function(t){return new i(atob(t))},i.fromUint8Array=function(t){return new i(function(e){for(var o="",s=0;s<e.length;++s)o+=String.fromCharCode(e[s]);return o}(t))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),o=0;o<t.length;o++)e[o]=t.charCodeAt(o);return e}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(t){return bt(this.binaryString,t.binaryString)},i.prototype.isEqual=function(t){return this.binaryString===t.binaryString},i}();Ar.EMPTY_BYTE_STRING=new Ar("");var DO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(i){if(Je(!!i),"string"==typeof i){var t=0,e=DO.exec(i);if(Je(!!e),e[1]){var o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}var s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:xn(i.seconds),nanos:xn(i.nanos)}}function xn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function wa(i){return"string"==typeof i?Ar.fromBase64String(i):Ar.fromUint8Array(i)}function A_(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==i?void 0:i.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function aC(i){var t=i.mapValue.fields.__previous_value__;return A_(t)?aC(t):t}function Ko(i){var t=So(i.mapValue.fields.__local_write_time__.timestampValue);return new vn(t.seconds,t.nanos)}function Si(i){return null==i}function Ql(i){return 0===i&&1/i==-1/0}function Ca(i){return"number"==typeof i&&Number.isInteger(i)&&!Ql(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var Ue=function(){function i(t){this.path=t}return i.fromPath=function(t){return new i(Ct.fromString(t))},i.fromName=function(t){return new i(Ct.fromString(t).popFirst(5))},i.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},i.prototype.isEqual=function(t){return null!==t&&0===Ct.comparator(this.path,t.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(t,e){return Ct.comparator(t.path,e.path)},i.isDocumentKey=function(t){return t.length%2==0},i.fromSegments=function(t){return new i(new Ct(t.slice()))},i}();function Di(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?A_(i)?4:10:Ge()}function Do(i,t){var s,e=Di(i);if(e!==Di(t))return!1;switch(e){case 0:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Ko(i).isEqual(Ko(t));case 3:return function(o,s){if("string"==typeof o.timestampValue&&"string"==typeof s.timestampValue&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;var c=So(o.timestampValue),f=So(s.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return s=t,wa(i.bytesValue).isEqual(wa(s.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,s){return xn(o.geoPointValue.latitude)===xn(s.geoPointValue.latitude)&&xn(o.geoPointValue.longitude)===xn(s.geoPointValue.longitude)}(i,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return xn(o.integerValue)===xn(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){var c=xn(o.doubleValue),f=xn(s.doubleValue);return c===f?Ql(c)===Ql(f):isNaN(c)&&isNaN(f)}return!1}(i,t);case 9:return Xc(i.arrayValue.values||[],t.arrayValue.values||[],Do);case 10:return function(o,s){var c=o.mapValue.fields||{},f=s.mapValue.fields||{};if(sC(c)!==sC(f))return!1;for(var m in c)if(c.hasOwnProperty(m)&&(void 0===f[m]||!Do(c[m],f[m])))return!1;return!0}(i,t);default:return Ge()}}function Jl(i,t){return void 0!==(i.values||[]).find(function(e){return Do(e,t)})}function Ea(i,t){var s,c,f,m,e=Di(i),o=Di(t);if(e!==o)return bt(e,o);switch(e){case 0:return 0;case 1:return bt(i.booleanValue,t.booleanValue);case 2:return c=t,(f=xn((s=i).integerValue||s.doubleValue))<(m=xn(c.integerValue||c.doubleValue))?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1;case 3:return Rf(i.timestampValue,t.timestampValue);case 4:return Rf(Ko(i),Ko(t));case 5:return bt(i.stringValue,t.stringValue);case 6:return function(s,c){var f=wa(s),m=wa(c);return f.compareTo(m)}(i.bytesValue,t.bytesValue);case 7:return function(s,c){for(var f=s.split("/"),m=c.split("/"),y=0;y<f.length&&y<m.length;y++){var b=bt(f[y],m[y]);if(0!==b)return b}return bt(f.length,m.length)}(i.referenceValue,t.referenceValue);case 8:return function(s,c){var f=bt(xn(s.latitude),xn(c.latitude));return 0!==f?f:bt(xn(s.longitude),xn(c.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(s,c){for(var f=s.values||[],m=c.values||[],y=0;y<f.length&&y<m.length;++y){var b=Ea(f[y],m[y]);if(b)return b}return bt(f.length,m.length)}(i.arrayValue,t.arrayValue);case 10:return function(s,c){var f=s.fields||{},m=Object.keys(f),y=c.fields||{},b=Object.keys(y);m.sort(),b.sort();for(var C=0;C<m.length&&C<b.length;++C){var D=bt(m[C],b[C]);if(0!==D)return D;var T=Ea(f[m[C]],y[b[C]]);if(0!==T)return T}return bt(m.length,b.length)}(i.mapValue,t.mapValue);default:throw Ge()}}function Rf(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return bt(i,t);var e=So(i),o=So(t),s=bt(e.seconds,o.seconds);return 0!==s?s:bt(e.nanos,o.nanos)}function ed(i){return Of(i)}function Of(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(s=So(i.timestampValue)).seconds+","+s.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?wa(i.bytesValue).toBase64():"referenceValue"in i?Ue.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(t=i.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in i?function(o){for(var s="[",c=!0,f=0,m=o.values||[];f<m.length;f++)c?c=!1:s+=",",s+=Of(m[f]);return s+"]"}(i.arrayValue):"mapValue"in i?function(o){for(var s="{",c=!0,f=0,m=Object.keys(o.fields||{}).sort();f<m.length;f++){var y=m[f];c?c=!1:s+=",",s+=y+":"+Of(o.fields[y])}return s+"}"}(i.mapValue):Ge();var s,t}function Sa(i,t){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+t.path.canonicalString()}}function I_(i){return!!i&&"integerValue"in i}function kf(i){return!!i&&"arrayValue"in i}function ZM(i){return!!i&&"nullValue"in i}function x_(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function td(i){return!!i&&"mapValue"in i}function nd(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var t={mapValue:{fields:{}}};return Es(i.mapValue.fields,function(s,c){return t.mapValue.fields[s]=nd(c)}),t}if(i.arrayValue){for(var e={arrayValue:{values:[]}},o=0;o<(i.arrayValue.values||[]).length;++o)e.arrayValue.values[o]=nd(i.arrayValue.values[o]);return e}return Object.assign({},i)}var Gr=function(){function i(t){this.value=t}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,o=0;o<t.length-1;++o)if(!td(e=(e.mapValue.fields||{})[t.get(o)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},i.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nd(e)},i.prototype.setAll=function(t){var e=this,o=Xn.emptyPath(),s={},c=[];t.forEach(function(m,y){if(!o.isImmediateParentOf(y)){var b=e.getFieldsMap(o);e.applyChanges(b,s,c),s={},c=[],o=y.popLast()}m?s[y.lastSegment()]=nd(m):c.push(y.lastSegment())});var f=this.getFieldsMap(o);this.applyChanges(f,s,c)},i.prototype.delete=function(t){var e=this.field(t.popLast());td(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},i.prototype.isEqual=function(t){return Do(this.value,t.value)},i.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var o=0;o<t.length;++o){var s=e.mapValue.fields[t.get(o)];td(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(o)]=s),e=s}return e.mapValue.fields},i.prototype.applyChanges=function(t,e,o){Es(e,function(m,y){return t[m]=y});for(var s=0,c=o;s<c.length;s++)delete t[c[s]]},i.prototype.clone=function(){return new i(nd(this.value))},i}();function lC(i){var t=[];return Es(i.fields,function(e,o){var s=new Xn([e]);if(td(o)){var c=lC(o.mapValue).fields;if(0===c.length)t.push(s);else for(var f=0,m=c;f<m.length;f++)t.push(s.child(m[f]))}else t.push(s)}),new ba(t)}var ar=function(){function i(t,e,o,s,c){this.key=t,this.documentType=e,this.version=o,this.data=s,this.documentState=c}return i.newInvalidDocument=function(t){return new i(t,0,at.min(),Gr.empty(),0)},i.newFoundDocument=function(t,e,o){return new i(t,1,e,o,0)},i.newNoDocument=function(t,e){return new i(t,2,e,Gr.empty(),0)},i.newUnknownDocument=function(t,e){return new i(t,3,e,Gr.empty(),2)},i.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},i.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),ri=function(i,t,e,o,s,c,f){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===c&&(c=null),void 0===f&&(f=null),this.path=i,this.collectionGroup=t,this.orderBy=e,this.filters=o,this.limit=s,this.startAt=c,this.endAt=f,this.h=null};function uC(i,t,e,o,s,c,f){return void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===c&&(c=null),void 0===f&&(f=null),new ri(i,t,e,o,s,c,f)}function rd(i){var t=Se(i);if(null===t.h){var e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(function(o){return(s=o).field.canonicalString()+s.op.toString()+ed(s.value);var s}).join(","),e+="|ob:",e+=t.orderBy.map(function(o){return(s=o).field.canonicalString()+s.dir;var s}).join(","),Si(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=od(t.startAt)),t.endAt&&(e+="|ub:",e+=od(t.endAt)),t.h=e}return t.h}function R_(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<i.orderBy.length;e++)if(!eA(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(var o=0;o<i.filters.length;o++)if((s=i.filters[o]).op!==(c=t.filters[o]).op||!s.field.isEqual(c.field)||!Do(s.value,c.value))return!1;var s,c;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!P_(i.startAt,t.startAt)&&P_(i.endAt,t.endAt)}function O_(i){return Ue.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var qr=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).field=e,c.op=o,c.value=s,c}return(0,x.ZT)(t,i),t.create=function(e,o,s){return e.isKeyField()?"in"===o||"not-in"===o?this.l(e,o,s):new TO(e,o,s):"array-contains"===o?new QM(e,s):"in"===o?new JM(e,s):"not-in"===o?new XM(e,s):"array-contains-any"===o?new cC(e,s):new t(e,o,s)},t.l=function(e,o,s){return"in"===o?new KM(e,s):new k_(e,s)},t.prototype.matches=function(e){var o=e.data.field(this.field);return"!="===this.op?null!==o&&this.m(Ea(o,this.value)):null!==o&&Di(this.value)===Di(o)&&this.m(Ea(o,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ge()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),TO=function(i){function t(e,o,s){var c=this;return(c=i.call(this,e,o,s)||this).key=Ue.fromName(s.referenceValue),c}return(0,x.ZT)(t,i),t.prototype.matches=function(e){var o=Ue.comparator(e.key,this.key);return this.m(o)},t}(qr),KM=function(i){function t(e,o){var s=this;return(s=i.call(this,e,"in",o)||this).keys=F_(0,o),s}return(0,x.ZT)(t,i),t.prototype.matches=function(e){return this.keys.some(function(o){return o.isEqual(e.key)})},t}(qr),k_=function(i){function t(e,o){var s=this;return(s=i.call(this,e,"not-in",o)||this).keys=F_(0,o),s}return(0,x.ZT)(t,i),t.prototype.matches=function(e){return!this.keys.some(function(o){return o.isEqual(e.key)})},t}(qr);function F_(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(o){return Ue.fromName(o.referenceValue)})}var QM=function(i){function t(e,o){return i.call(this,e,"array-contains",o)||this}return(0,x.ZT)(t,i),t.prototype.matches=function(e){var o=e.data.field(this.field);return kf(o)&&Jl(o.arrayValue,this.value)},t}(qr),JM=function(i){function t(e,o){return i.call(this,e,"in",o)||this}return(0,x.ZT)(t,i),t.prototype.matches=function(e){var o=e.data.field(this.field);return null!==o&&Jl(this.value.arrayValue,o)},t}(qr),XM=function(i){function t(e,o){return i.call(this,e,"not-in",o)||this}return(0,x.ZT)(t,i),t.prototype.matches=function(e){if(Jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=e.data.field(this.field);return null!==o&&!Jl(this.value.arrayValue,o)},t}(qr),cC=function(i){function t(e,o){return i.call(this,e,"array-contains-any",o)||this}return(0,x.ZT)(t,i),t.prototype.matches=function(e){var o=this,s=e.data.field(this.field);return!(!kf(s)||!s.arrayValue.values)&&s.arrayValue.values.some(function(c){return Jl(o.value.arrayValue,c)})},t}(qr),id=function(i,t){this.position=i,this.before=t};function od(i){return(i.before?"b":"a")+":"+i.position.map(function(t){return ed(t)}).join(",")}var Xl=function(i,t){void 0===t&&(t="asc"),this.field=i,this.dir=t};function eA(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}function N_(i,t,e){for(var o=0,s=0;s<i.position.length;s++){var c=t[s],f=i.position[s];if(o=c.field.isKeyField()?Ue.comparator(Ue.fromName(f.referenceValue),e.key):Ea(f,e.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function P_(i,t){if(null===i)return null===t;if(null===t||i.before!==t.before||i.position.length!==t.position.length)return!1;for(var e=0;e<i.position.length;e++)if(!Do(i.position[e],t.position[e]))return!1;return!0}var Qo=function(i,t,e,o,s,c,f,m){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===c&&(c="F"),void 0===f&&(f=null),void 0===m&&(m=null),this.path=i,this.collectionGroup=t,this.explicitOrderBy=e,this.filters=o,this.limit=s,this.limitType=c,this.startAt=f,this.endAt=m,this.p=null,this.T=null};function Ji(i,t,e,o,s,c,f,m){return new Qo(i,t,e,o,s,c,f,m)}function Ss(i){return new Qo(i)}function Ff(i){return!Si(i.limit)&&"F"===i.limitType}function Nf(i){return!Si(i.limit)&&"L"===i.limitType}function dC(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Pf(i){for(var t=0,e=i.filters;t<e.length;t++){var o=e[t];if(o.g())return o.field}return null}function L_(i){return null!==i.collectionGroup}function eu(i){var t=Se(i);if(null===t.p){t.p=[];var e=Pf(t),o=dC(t);if(null!==e&&null===o)e.isKeyField()||t.p.push(new Xl(e)),t.p.push(new Xl(Xn.keyField(),"asc"));else{for(var s=!1,c=0,f=t.explicitOrderBy;c<f.length;c++){var m=f[c];t.p.push(m),m.field.isKeyField()&&(s=!0)}if(!s){var y=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Xl(Xn.keyField(),y))}}}return t.p}function Ti(i){var t=Se(i);if(!t.T)if("F"===t.limitType)t.T=uC(t.path,t.collectionGroup,eu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],o=0,s=eu(t);o<s.length;o++){var c=s[o];e.push(new Xl(c.field,"desc"===c.dir?"asc":"desc"))}var m=t.endAt?new id(t.endAt.position,!t.endAt.before):null,y=t.startAt?new id(t.startAt.position,!t.startAt.before):null;t.T=uC(t.path,t.collectionGroup,e,t.filters,t.limit,m,y)}return t.T}function Lf(i,t,e){return new Qo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function sd(i,t){return R_(Ti(i),Ti(t))&&i.limitType===t.limitType}function hC(i){return rd(Ti(i))+"|lt:"+i.limitType}function tu(i){return"Query(target="+(e=(t=Ti(i)).path.canonicalString(),null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(o){return(s=o).field.canonicalString()+" "+s.op+" "+ed(s.value);var s}).join(", ")+"]"),Si(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(o){return(s=o).field.canonicalString()+" ("+s.dir+")";var s}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+od(t.startAt)),t.endAt&&(e+=", endAt: "+od(t.endAt)),"Target("+e+"); limitType=")+i.limitType+")";var t,e}function Da(i,t){return t.isFoundDocument()&&(s=(o=t).key.path,null!==(e=i).collectionGroup?o.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):Ue.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s))&&function(e,o){for(var s=0,c=e.explicitOrderBy;s<c.length;s++){var f=c[s];if(!f.field.isKeyField()&&null===o.data.field(f.field))return!1}return!0}(i,t)&&function(e,o){for(var s=0,c=e.filters;s<c.length;s++)if(!c[s].matches(o))return!1;return!0}(i,t)&&function(e,o){return!(e.startAt&&!N_(e.startAt,eu(e),o)||e.endAt&&N_(e.endAt,eu(e),o))}(i,t);var e,o,s}function fC(i){return function(t,e){for(var o=!1,s=0,c=eu(i);s<c.length;s++){var f=c[s],m=V_(f,t,e);if(0!==m)return m;o=o||f.field.isKeyField()}return 0}}function V_(i,t,e){var s,f,m,y,o=i.field.isKeyField()?Ue.comparator(t.key,e.key):(f=e,m=t.data.field(s=i.field),y=f.data.field(s),null!==m&&null!==y?Ea(m,y):Ge());switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Ge()}}function Vf(i,t){if(i.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ql(t)?"-0":t}}function B_(i){return{integerValue:""+i}}function pC(i,t){return Ca(t)?B_(t):Vf(i,t)}var Bf=function(){this._=void 0};function U_(i,t,e){return i instanceof Ta?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=e).seconds,nanos:o.nanoseconds}}}},(s=t)&&(c.fields.__previous_value__=s),{mapValue:c}):i instanceof Ds?j_(i,t):i instanceof Ts?H_(i,t):function(o,s){var c=gC(o,s),f=ad(c)+ad(o.A);return I_(c)&&I_(o.A)?B_(f):Vf(o.R,f)}(i,t);var o,s,c}function MO(i,t,e){return i instanceof Ds?j_(i,t):i instanceof Ts?H_(i,t):e}function gC(i,t){return i instanceof zr?I_(e=t)||(o=e)&&"doubleValue"in o?t:{integerValue:0}:null;var o,e}var Ta=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t}(Bf),Ds=function(i){function t(e){var o=this;return(o=i.call(this)||this).elements=e,o}return(0,x.ZT)(t,i),t}(Bf);function j_(i,t){for(var e=mC(t),o=function(f){e.some(function(m){return Do(m,f)})||e.push(f)},s=0,c=i.elements;s<c.length;s++)o(c[s]);return{arrayValue:{values:e}}}var Ts=function(i){function t(e){var o=this;return(o=i.call(this)||this).elements=e,o}return(0,x.ZT)(t,i),t}(Bf);function H_(i,t){for(var e=mC(t),o=function(f){e=e.filter(function(m){return!Do(m,f)})},s=0,c=i.elements;s<c.length;s++)o(c[s]);return{arrayValue:{values:e}}}var zr=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).R=e,s.A=o,s}return(0,x.ZT)(t,i),t}(Bf);function ad(i){return xn(i.integerValue||i.doubleValue)}function mC(i){return kf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var ld=function(i,t){this.field=i,this.transform=t},AO=function(i,t){this.version=i,this.transformResults=t},bn=function(){function i(t,e){this.updateTime=t,this.exists=e}return i.none=function(){return new i},i.exists=function(t){return new i(void 0,t)},i.updateTime=function(t){return new i(t)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},i}();function ud(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}var Ms=function(){};function cd(i,t,e){var o,s,c,f,m;i instanceof nu?(s=t,c=e,f=(o=i).value.clone(),m=yC(o.fieldTransforms,s,c.transformResults),f.setAll(m),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()):i instanceof As?function(o,s,c){if(ud(o.precondition,s)){var f=yC(o.fieldTransforms,s,c.transformResults),m=s.data;m.setAll(Uf(o)),m.setAll(f),s.convertToFoundDocument(c.version,m).setHasCommittedMutations()}else s.convertToUnknownDocument(c.version)}(i,t,e):function(o,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function G_(i,t,e){var s;i instanceof nu?function(o,s,c){if(ud(o.precondition,s)){var f=o.value.clone(),m=vC(o.fieldTransforms,c,s);f.setAll(m),s.convertToFoundDocument(_C(s),f).setHasLocalMutations()}}(i,t,e):i instanceof As?function(o,s,c){if(ud(o.precondition,s)){var f=vC(o.fieldTransforms,c,s),m=s.data;m.setAll(Uf(o)),m.setAll(f),s.convertToFoundDocument(_C(s),m).setHasLocalMutations()}}(i,t,e):ud(i.precondition,s=t)&&s.convertToNoDocument(at.min())}function q_(i,t){for(var e=null,o=0,s=i.fieldTransforms;o<s.length;o++){var c=s[o],f=t.data.field(c.field),m=gC(c.transform,f||null);null!=m&&(null==e&&(e=Gr.empty()),e.set(c.field,m))}return e||null}function z_(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(o=t.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===o||e&&o&&Xc(e,o,function(s,c){return(f=s).field.isEqual((m=c).field)&&(b=m.transform,(y=f.transform)instanceof Ds&&b instanceof Ds||y instanceof Ts&&b instanceof Ts?Xc(y.elements,b.elements,Do):y instanceof zr&&b instanceof zr?Do(y.A,b.A):y instanceof Ta&&b instanceof Ta);var f,m,y,b})))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var e,o}function _C(i){return i.isFoundDocument()?i.version:at.min()}var nu=function(i){function t(e,o,s,c){void 0===c&&(c=[]);var f=this;return(f=i.call(this)||this).key=e,f.value=o,f.precondition=s,f.fieldTransforms=c,f.type=0,f}return(0,x.ZT)(t,i),t}(Ms),As=function(i){function t(e,o,s,c,f){void 0===f&&(f=[]);var m=this;return(m=i.call(this)||this).key=e,m.data=o,m.fieldMask=s,m.precondition=c,m.fieldTransforms=f,m.type=1,m}return(0,x.ZT)(t,i),t}(Ms);function Uf(i){var t=new Map;return i.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var o=i.data.field(e);t.set(e,o)}}),t}function yC(i,t,e){var o=new Map;Je(i.length===e.length);for(var s=0;s<e.length;s++){var c=i[s],f=c.transform,m=t.data.field(c.field);o.set(c.field,MO(f,m,e[s]))}return o}function vC(i,t,e){for(var o=new Map,s=0,c=i;s<c.length;s++){var f=c[s],m=f.transform,y=e.data.field(f.field);o.set(f.field,U_(m,y,t))}return o}var wn,ht,ru=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).key=e,s.precondition=o,s.type=2,s.fieldTransforms=[],s}return(0,x.ZT)(t,i),t}(Ms),$_=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).key=e,s.precondition=o,s.type=3,s.fieldTransforms=[],s}return(0,x.ZT)(t,i),t}(Ms),tA=function(i){this.count=i};function Ma(i){switch(i){case se.OK:return Ge();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ge()}}function bC(i){if(void 0===i)return zn("GRPC error has no .code"),se.UNKNOWN;switch(i){case wn.OK:return se.OK;case wn.CANCELLED:return se.CANCELLED;case wn.UNKNOWN:return se.UNKNOWN;case wn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case wn.INTERNAL:return se.INTERNAL;case wn.UNAVAILABLE:return se.UNAVAILABLE;case wn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case wn.NOT_FOUND:return se.NOT_FOUND;case wn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case wn.ABORTED:return se.ABORTED;case wn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case wn.DATA_LOSS:return se.DATA_LOSS;default:return Ge()}}(ht=wn||(wn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";var br=function(){function i(t,e){this.comparator=t,this.root=e||Is.EMPTY}return i.prototype.insert=function(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Is.BLACK,null,null))},i.prototype.remove=function(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Is.BLACK,null,null))},i.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var o=this.comparator(t,e.key);if(0===o)return e.value;o<0?e=e.left:o>0&&(e=e.right)}return null},i.prototype.indexOf=function(t){for(var e=0,o=this.root;!o.isEmpty();){var s=this.comparator(t,o.key);if(0===s)return e+o.left.size;s<0?o=o.left:(e+=o.left.size+1,o=o.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},i.prototype.forEach=function(t){this.inorderTraversal(function(e,o){return t(e,o),!1})},i.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,o){return t.push(e+":"+o),!1}),"{"+t.join(", ")+"}"},i.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},i.prototype.getIterator=function(){return new jf(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(t){return new jf(this.root,t,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new jf(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(t){return new jf(this.root,t,this.comparator,!0)},i}(),jf=function(){function i(t,e,o,s){this.isReverse=s,this.nodeStack=[];for(var c=1;!t.isEmpty();)if(c=e?o(t.key,e):1,s&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return i.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},i}(),Is=function(){function i(t,e,o,s,c){this.key=t,this.value=e,this.color=null!=o?o:i.RED,this.left=null!=s?s:i.EMPTY,this.right=null!=c?c:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(t,e,o,s,c){return new i(null!=t?t:this.key,null!=e?e:this.value,null!=o?o:this.color,null!=s?s:this.left,null!=c?c:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},i.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(t,e,o){var s=this,c=o(t,s.key);return(s=c<0?s.copy(null,null,null,s.left.insert(t,e,o),null):0===c?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,o))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},i.prototype.remove=function(t,e){var o,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return i.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},i.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},i.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},i.prototype.rotateLeft=function(){var t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},i.prototype.rotateRight=function(){var t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},i.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},i.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();var t=this.left.check();if(t!==this.right.check())throw Ge();return t+(this.isRed()?0:1)},i}();Is.EMPTY=null,Is.RED=!0,Is.BLACK=!1,Is.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw Ge()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw Ge()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw Ge()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw Ge()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw Ge()},enumerable:!1,configurable:!0}),i.prototype.copy=function(t,e,o,s,c){return this},i.prototype.insert=function(t,e,o){return new Is(t,e)},i.prototype.remove=function(t,e){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(t){return!1},i.prototype.reverseTraversal=function(t){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var er=function(){function i(t){this.comparator=t,this.data=new br(this.comparator)}return i.prototype.has=function(t){return null!==this.data.get(t)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(t){return this.data.indexOf(t)},i.prototype.forEach=function(t){this.data.inorderTraversal(function(e,o){return t(e),!1})},i.prototype.forEachInRange=function(t,e){for(var o=this.data.getIteratorFrom(t[0]);o.hasNext();){var s=o.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}},i.prototype.forEachWhile=function(t,e){var o;for(o=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return},i.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},i.prototype.getIterator=function(){return new wC(this.data.getIterator())},i.prototype.getIteratorFrom=function(t){return new wC(this.data.getIteratorFrom(t))},i.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},i.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(o){e=e.add(o)}),e},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.data.getIterator(),o=t.data.getIterator();e.hasNext();){var s=e.getNext().key,c=o.getNext().key;if(0!==this.comparator(s,c))return!1}return!0},i.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},i.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},i.prototype.copy=function(t){var e=new i(this.comparator);return e.data=t,e},i}(),wC=function(){function i(t){this.iter=t}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),CC=new br(Ue.comparator);function lt(){return CC}var Y_=new br(Ue.comparator);function EC(){return Y_}var Jo=new br(Ue.comparator);function Hf(){return Jo}var W_=new er(Ue.comparator);function Nt(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=W_,o=0,s=i;o<s.length;o++){var c=s[o];e=e.add(c)}return e}var nA=new er(bt);function Gf(){return nA}var qf=function(){function i(t,e,o,s,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=c}return i.createSynthesizedRemoteEventForCurrentChange=function(t,e){var o=new Map;return o.set(t,zf.createSynthesizedTargetChangeForCurrentChange(t,e)),new i(at.min(),o,Gf(),lt(),Nt())},i}(),zf=function(){function i(t,e,o,s,c){this.resumeToken=t,this.current=e,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=c}return i.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new i(Ar.EMPTY_BYTE_STRING,e,Nt(),Nt(),Nt())},i}(),dd=function(i,t,e,o){this.v=i,this.removedTargetIds=t,this.key=e,this.P=o},Z_=function(i,t){this.targetId=i,this.V=t},SC=function(i,t,e,o){void 0===e&&(e=Ar.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=i,this.targetIds=t,this.resumeToken=e,this.cause=o},DC=function(){function i(){this.S=0,this.D=K_(),this.C=Ar.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),i.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},i.prototype.M=function(){var t=Nt(),e=Nt(),o=Nt();return this.D.forEach(function(s,c){switch(c){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:o=o.add(s);break;default:Ge()}}),new zf(this.C,this.N,t,e,o)},i.prototype.L=function(){this.F=!1,this.D=K_()},i.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},i.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.F=!0,this.N=!0},i}(),hd=function(){function i(t){this.W=t,this.G=new Map,this.H=lt(),this.J=$f(),this.Y=new er(bt)}return i.prototype.X=function(t){for(var e=0,o=t.v;e<o.length;e++){var s=o[e];t.P&&t.P.isFoundDocument()?this.Z(s,t.P):this.tt(s,t.key,t.P)}for(var c=0,f=t.removedTargetIds;c<f.length;c++)this.tt(s=f[c],t.key,t.P)},i.prototype.et=function(t){var e=this;this.forEachTarget(t,function(o){var s=e.nt(o);switch(t.state){case 0:e.st(o)&&s.O(t.resumeToken);break;case 1:s.K(),s.k||s.L(),s.O(t.resumeToken);break;case 2:s.K(),s.k||e.removeTarget(o);break;case 3:e.st(o)&&(s.j(),s.O(t.resumeToken));break;case 4:e.st(o)&&(e.it(o),s.O(t.resumeToken));break;default:Ge()}})},i.prototype.forEachTarget=function(t,e){var o=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(s,c){o.st(c)&&e(c)})},i.prototype.rt=function(t){var e=t.targetId,o=t.V.count,s=this.ot(e);if(s){var c=s.target;if(O_(c))if(0===o){var f=new Ue(c.path);this.tt(e,f,ar.newNoDocument(f,at.min()))}else Je(1===o);else this.ct(e)!==o&&(this.it(e),this.Y=this.Y.add(e))}},i.prototype.ut=function(t){var e=this,o=new Map;this.G.forEach(function(f,m){var y=e.ot(m);if(y){if(f.current&&O_(y.target)){var b=new Ue(y.target.path);null!==e.H.get(b)||e.at(m,b)||e.tt(m,b,ar.newNoDocument(b,t))}f.$&&(o.set(m,f.M()),f.L())}});var s=Nt();this.J.forEach(function(f,m){var y=!0;m.forEachWhile(function(b){var C=e.ot(b);return!C||2===C.purpose||(y=!1,!1)}),y&&(s=s.add(f))});var c=new qf(t,o,this.Y,this.H,s);return this.H=lt(),this.J=$f(),this.Y=new er(bt),c},i.prototype.Z=function(t,e){if(this.st(t)){var o=this.at(t,e.key)?2:0;this.nt(t).B(e.key,o),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},i.prototype.tt=function(t,e,o){if(this.st(t)){var s=this.nt(t);this.at(t,e)?s.B(e,1):s.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),o&&(this.H=this.H.insert(e,o))}},i.prototype.removeTarget=function(t){this.G.delete(t)},i.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},i.prototype.U=function(t){this.nt(t).U()},i.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new DC,this.G.set(t,e)),e},i.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new er(bt),this.J=this.J.insert(t,e)),e},i.prototype.st=function(t){var e=null!==this.ot(t);return e||Ce("WatchChangeAggregator","Detected inactive target",t),e},i.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},i.prototype.it=function(t){var e=this;this.G.set(t,new DC),this.W.getRemoteKeysForTarget(t).forEach(function(o){e.tt(t,o,null)})},i.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},i}();function $f(){return new br(Ue.comparator)}function K_(){return new br(Ue.comparator)}var TC={asc:"ASCENDING",desc:"DESCENDING"},MC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC=function(i,t){this.databaseId=i,this.I=t};function fd(i,t){return i.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function IC(i,t){return i.I?t.toBase64():t.toUint8Array()}function rA(i,t){return fd(i,t.toTimestamp())}function tr(i){return Je(!!i),at.fromTimestamp((e=So(i),new vn(e.seconds,e.nanos)));var e}function Yf(i,t){return(e=i,new Ct(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function iA(i){var t=Ct.fromString(i);return Je(OC(t)),t}function iu(i,t){return Yf(i.databaseId,t.path)}function To(i,t){var e=iA(t);if(e.get(1)!==i.databaseId.projectId)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new ge(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Ue(Zf(e))}function Q_(i,t){return Yf(i.databaseId,t)}function oA(i){var t=iA(i);return 4===t.length?Ct.emptyPath():Zf(t)}function Wf(i){return new Ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Zf(i){return Je(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function xC(i,t,e){return{name:iu(i,t),fields:e.value.mapValue.fields}}function J_(i,t,e){var o=To(i,t.name),s=tr(t.updateTime),c=new Gr({mapValue:{fields:t.fields}}),f=ar.newFoundDocument(o,s,c);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function pd(i,t){var e,s;if(t instanceof nu)e={update:xC(i,t.key,t.value)};else if(t instanceof ru)e={delete:iu(i,t.key)};else if(t instanceof As)e={update:xC(i,t.key,t.data),updateMask:ny(t.fieldMask)};else{if(!(t instanceof $_))return Ge();e={verify:iu(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(function(o){return function(s,c){var f=c.transform;if(f instanceof Ta)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ds)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ts)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zr)return{fieldPath:c.field.canonicalString(),increment:f.A};throw Ge()}(0,o)})),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:rA(i,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ge()),e}function sA(i,t){var b,e=t.currentDocument?void 0!==(b=t.currentDocument).updateTime?bn.updateTime(tr(b.updateTime)):void 0!==b.exists?bn.exists(b.exists):bn.none():bn.none(),o=t.updateTransforms?t.updateTransforms.map(function(b){return function(C,D){var T=null;"setToServerValue"in D?(Je("REQUEST_TIME"===D.setToServerValue),T=new Ta):"appendMissingElements"in D?T=new Ds(D.appendMissingElements.values||[]):"removeAllFromArray"in D?T=new Ts(D.removeAllFromArray.values||[]):"increment"in D?T=new zr(C,D.increment):Ge();var V=Xn.fromServerFormat(D.fieldPath);return new ld(V,T)}(i,b)}):[];if(t.update){var s=To(i,t.update.name),c=new Gr({mapValue:{fields:t.update.fields}});if(t.updateMask){var f=function(b){return new ba((b.fieldPaths||[]).map(function(D){return Xn.fromServerFormat(D)}))}(t.updateMask);return new As(s,c,f,e,o)}return new nu(s,c,e,o)}if(t.delete){var m=To(i,t.delete);return new ru(m,e)}if(t.verify){var y=To(i,t.verify);return new $_(y,e)}return Ge()}function Mi(i,t){return{documents:[Q_(i,t.path)]}}function aA(i,t){var e={structuredQuery:{}},o=t.path;null!==t.collectionGroup?(e.parent=Q_(i,o),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Q_(i,o.popLast()),e.structuredQuery.from=[{collectionId:o.lastSegment()}]);var s=function(m){if(0!==m.length){var y=m.map(function(b){return function(C){if("=="===C.op){if(x_(C.value))return{unaryFilter:{field:gd(C.field),op:"IS_NAN"}};if(ZM(C.value))return{unaryFilter:{field:gd(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(x_(C.value))return{unaryFilter:{field:gd(C.field),op:"IS_NOT_NAN"}};if(ZM(C.value))return{unaryFilter:{field:gd(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gd(C.field),op:cA(C.op),value:C.value}}}(b)});return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}}(t.filters);s&&(e.structuredQuery.where=s);var c=function(m){if(0!==m.length)return m.map(function(y){return{field:gd((b=y).field),direction:RC(b.dir)};var b})}(t.orderBy);c&&(e.structuredQuery.orderBy=c);var y,f=(y=t.limit,i.I||Si(y)?y:{value:y});return null!==f&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=X_(t.startAt)),t.endAt&&(e.structuredQuery.endAt=X_(t.endAt)),e}function lA(i){var t=oA(i.parent),e=i.structuredQuery,o=e.from?e.from.length:0,s=null;if(o>0){Je(1===o);var c=e.from[0];c.allDescendants?s=c.collectionId:t=t.child(c.collectionId)}var f=[];e.where&&(f=uA(e.where));var m=[];e.orderBy&&(m=e.orderBy.map(function(D){return new Xl(Aa((T=D).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));var D,T,y=null;e.limit&&(y=Si(T="object"==typeof(D=e.limit)?D.value:D)?null:T);var b=null;e.startAt&&(b=ey(e.startAt));var C=null;return e.endAt&&(C=ey(e.endAt)),Ji(t,s,m,f,y,"F",b,C)}function uA(i){return i?void 0!==i.unaryFilter?[dA(i)]:void 0!==i.fieldFilter?[ty(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(t){return uA(t)}).reduce(function(t,e){return t.concat(e)}):Ge():[]}function X_(i){return{before:i.before,values:i.position}}function ey(i){return new id(i.values||[],!!i.before)}function RC(i){return TC[i]}function cA(i){return MC[i]}function gd(i){return{fieldPath:i.canonicalString()}}function Aa(i){return Xn.fromServerFormat(i.fieldPath)}function ty(i){return qr.create(Aa(i.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ge()}}(i.fieldFilter.op),i.fieldFilter.value)}function dA(i){switch(i.unaryFilter.op){case"IS_NAN":var t=Aa(i.unaryFilter.field);return qr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var e=Aa(i.unaryFilter.field);return qr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=Aa(i.unaryFilter.field);return qr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var s=Aa(i.unaryFilter.field);return qr.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ge()}}function ny(i){var t=[];return i.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function OC(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Xi(i){for(var t="",e=0;e<i.length;e++)t.length>0&&(t=kC(t)),t=hA(i.get(e),t);return kC(t)}function hA(i,t){for(var e=t,o=i.length,s=0;s<o;s++){var c=i.charAt(s);switch(c){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=c}}return e}function kC(i){return i+"\x01\x01"}function Xo(i){var t=i.length;if(Je(t>=2),2===t)return Je("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ct.emptyPath();for(var e=t-2,o=[],s="",c=0;c<t;){var f=i.indexOf("\x01",c);switch((f<0||f>e)&&Ge(),i.charAt(f+1)){case"\x01":var m=i.substring(c,f),y=void 0;0===s.length?y=m:(y=s+=m,s=""),o.push(y);break;case"\x10":s+=i.substring(c,f),s+="\0";break;case"\x11":s+=i.substring(c,f+1);break;default:Ge()}c=f+2}return new Ct(o)}var fA=function(i,t){this.seconds=i,this.nanoseconds=t},wr=function(i,t,e){this.ownerId=i,this.allowTabSynchronization=t,this.leaseTimestampMs=e};wr.store="owner",wr.key="owner";var ii=function(i,t,e){this.userId=i,this.lastAcknowledgedBatchId=t,this.lastStreamToken=e};ii.store="mutationQueues",ii.keyPath="userId";var Gt=function(i,t,e,o,s){this.userId=i,this.batchId=t,this.localWriteTimeMs=e,this.baseMutations=o,this.mutations=s};Gt.store="mutations",Gt.keyPath="batchId",Gt.userMutationsIndex="userMutationsIndex",Gt.userMutationsKeyPath=["userId","batchId"];var qt=function(){function i(){}return i.prefixForUser=function(t){return[t]},i.prefixForPath=function(t,e){return[t,Xi(e)]},i.key=function(t,e,o){return[t,Xi(e),o]},i}();qt.store="documentMutations",qt.PLACEHOLDER=new qt;var md=function(i,t){this.path=i,this.readTime=t},pA=function(i,t){this.path=i,this.version=t},un=function(i,t,e,o,s,c){this.unknownDocument=i,this.noDocument=t,this.document=e,this.hasCommittedMutations=o,this.readTime=s,this.parentPath=c};un.store="remoteDocuments",un.readTimeIndex="readTimeIndex",un.readTimeIndexPath="readTime",un.collectionReadTimeIndex="collectionReadTimeIndex",un.collectionReadTimeIndexPath=["parentPath","readTime"];var Ai=function(i){this.byteSize=i};Ai.store="remoteDocumentGlobal",Ai.key="remoteDocumentGlobalKey";var nn=function(i,t,e,o,s,c,f){this.targetId=i,this.canonicalId=t,this.readTime=e,this.resumeToken=o,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=c,this.query=f};nn.store="targets",nn.keyPath="targetId",nn.queryTargetsIndexName="queryTargetsIndex",nn.queryTargetsKeyPath=["canonicalId","targetId"];var Cn=function(i,t,e){this.targetId=i,this.path=t,this.sequenceNumber=e};Cn.store="targetDocuments",Cn.keyPath=["targetId","path"],Cn.documentTargetsIndex="documentTargetsIndex",Cn.documentTargetsKeyPath=["path","targetId"];var Pt=function(i,t,e,o){this.highestTargetId=i,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=e,this.targetCount=o};Pt.key="targetGlobalKey",Pt.store="targetGlobal";var oi=function(i,t){this.collectionId=i,this.parent=t};oi.store="collectionParents",oi.keyPath=["collectionId","parent"];var Ii=function(i,t,e,o){this.clientId=i,this.updateTimeMs=t,this.networkEnabled=e,this.inForeground=o};Ii.store="clientMetadata",Ii.keyPath="clientId";var lr=function(i,t,e){this.bundleId=i,this.createTime=t,this.version=e};lr.store="bundles",lr.keyPath="bundleId";var xs=function(i,t,e){this.name=i,this.readTime=t,this.bundledQuery=e};xs.store="namedQueries",xs.keyPath="name";var ou=(0,x.ev)((0,x.ev)([],(0,x.ev)((0,x.ev)([],(0,x.ev)((0,x.ev)([],(0,x.ev)((0,x.ev)([],[ii.store,Gt.store,qt.store,un.store,nn.store,wr.store,Pt.store,Cn.store]),[Ii.store])),[Ai.store])),[oi.store])),[lr.store,xs.store]),Ia="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xa=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},i}(),En=function(){var i=this;this.promise=new Promise(function(t,e){i.resolve=t,i.reject=e})},ve=function(){function i(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(o){e.isDone=!0,e.result=o,e.nextCallback&&e.nextCallback(o)},function(o){e.isDone=!0,e.error=o,e.catchCallback&&e.catchCallback(o)})}return i.prototype.catch=function(t){return this.next(void 0,t)},i.prototype.next=function(t,e){var o=this;return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new i(function(s,c){o.nextCallback=function(f){o.wrapSuccess(t,f).next(s,c)},o.catchCallback=function(f){o.wrapFailure(e,f).next(s,c)}})},i.prototype.toPromise=function(){var t=this;return new Promise(function(e,o){t.next(e,o)})},i.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof i?e:i.resolve(e)}catch(o){return i.reject(o)}},i.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.resolve(e)},i.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.reject(e)},i.resolve=function(t){return new i(function(e,o){e(t)})},i.reject=function(t){return new i(function(e,o){o(t)})},i.waitFor=function(t){return new i(function(e,o){var s=0,c=0,f=!1;t.forEach(function(m){++s,m.next(function(){++c,f&&c===s&&e()},function(y){return o(y)})}),f=!0,c===s&&e()})},i.or=function(t){for(var e=i.resolve(!1),o=function(f){e=e.next(function(m){return m?i.resolve(m):f()})},s=0,c=t;s<c.length;s++)o(c[s]);return e},i.forEach=function(t,e){var o=this,s=[];return t.forEach(function(c,f){s.push(e.call(o,c,f))}),this.waitFor(s)},i}(),Ra=function(){function i(t,e){var o=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new En,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){e.error?o.ft.reject(new Mo(t,e.error)):o.ft.resolve()},this.transaction.onerror=function(s){var c=Kf(s.target.error);o.ft.reject(new Mo(t,c))}}return i.open=function(t,e,o,s){try{return new i(e,t.transaction(s,o))}catch(c){throw new Mo(e,c)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ce("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(t){var e=this.transaction.objectStore(t);return new FC(e)},i}(),eo=function(){function i(t,e,o){this.name=t,this.version=e,this.wt=o,12.2===i._t((0,It.z$)())&&zn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(t){return Ce("SimpleDb","Removing database:",t),Os(window.indexedDB.deleteDatabase(t)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var t=(0,It.z$)(),e=i._t(t),o=0<e&&e<10,s=i.Et(t),c=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||o||c)},i.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},i.It=function(t,e){return t.store(e)},i._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(o)},i.Et=function(t){var e=t.match(/Android ([\d.]+)/i),o=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(o)},i.prototype.At=function(t){return(0,x.mG)(this,void 0,void 0,function(){var e,o=this;return(0,x.Jh)(this,function(s){switch(s.label){case 0:return this.db?[3,2]:(Ce("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(c,f){var m=indexedDB.open(o.name,o.version);m.onsuccess=function(y){c(y.target.result)},m.onblocked=function(){f(new Mo(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=function(y){var b=y.target.error;f("VersionError"===b.name?new ge(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Mo(t,b))},m.onupgradeneeded=function(y){Ce("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',y.oldVersion),o.wt.Rt(y.target.result,m.transaction,y.oldVersion,o.version).next(function(){Ce("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:e.db=s.sent(),s.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(c){return o.bt(c)}),this.db)]}})})},i.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},i.prototype.runTransaction=function(t,e,o,s){return(0,x.mG)(this,void 0,void 0,function(){var c,f,m,y,b;return(0,x.Jh)(this,function(C){switch(C.label){case 0:c="readonly"===e,f=0,m=function(){var D,T,A,R,V;return(0,x.Jh)(this,function(Z){switch(Z.label){case 0:++f,Z.label=1;case 1:return Z.trys.push([1,4,,5]),[4,y.At(t)];case 2:return y.db=Z.sent(),D=Ra.open(y.db,t,c?"readonly":"readwrite",o),T=s(D).catch(function(le){return D.abort(le),ve.reject(le)}).toPromise(),A={},T.catch(function(){}),[4,D.dt];case 3:return[2,(A.value=(Z.sent(),T),A)];case 4:return Ce("SimpleDb","Transaction failed with error:",(R=Z.sent()).message,"Retrying:",V="FirebaseError"!==R.name&&f<3),y.close(),V?[3,5]:[2,{value:Promise.reject(R)}];case 5:return[2]}})},y=this,C.label=1;case 1:return[5,m()];case 2:if("object"==typeof(b=C.sent()))return[2,b.value];C.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),su=function(){function i(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(t){this.St=t},i.prototype.delete=function(){return Os(this.Pt.delete())},i}(),Mo=function(i){function t(e,o){var s=this;return(s=i.call(this,se.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+o)||this).name="IndexedDbTransactionError",s}return(0,x.ZT)(t,i),t}(ge);function Rs(i){return"IndexedDbTransactionError"===i.name}var FC=function(){function i(t){this.store=t}return i.prototype.put=function(t,e){var o;return void 0!==e?(Ce("SimpleDb","PUT",this.store.name,t,e),o=this.store.put(e,t)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",t),o=this.store.put(t)),Os(o)},i.prototype.add=function(t){return Ce("SimpleDb","ADD",this.store.name,t,t),Os(this.store.add(t))},i.prototype.get=function(t){var e=this;return Os(this.store.get(t)).next(function(o){return void 0===o&&(o=null),Ce("SimpleDb","GET",e.store.name,t,o),o})},i.prototype.delete=function(t){return Ce("SimpleDb","DELETE",this.store.name,t),Os(this.store.delete(t))},i.prototype.count=function(){return Ce("SimpleDb","COUNT",this.store.name),Os(this.store.count())},i.prototype.Nt=function(t,e){var o=this.cursor(this.options(t,e)),s=[];return this.xt(o,function(c,f){s.push(f)}).next(function(){return s})},i.prototype.Ft=function(t,e){Ce("SimpleDb","DELETE ALL",this.store.name);var o=this.options(t,e);o.kt=!1;var s=this.cursor(o);return this.xt(s,function(c,f,m){return m.delete()})},i.prototype.$t=function(t,e){var o;e?o=t:(o={},e=t);var s=this.cursor(o);return this.xt(s,e)},i.prototype.Ot=function(t){var e=this.cursor({});return new ve(function(o,s){e.onerror=function(c){var f=Kf(c.target.error);s(f)},e.onsuccess=function(c){var f=c.target.result;f?t(f.primaryKey,f.value).next(function(m){m?f.continue():o()}):o()}})},i.prototype.xt=function(t,e){var o=[];return new ve(function(s,c){t.onerror=function(f){c(f.target.error)},t.onsuccess=function(f){var m=f.target.result;if(m){var y=new su(m),b=e(m.primaryKey,m.value,y);if(b instanceof ve){var C=b.catch(function(D){return y.done(),ve.reject(D)});o.push(C)}y.isDone?s():null===y.Dt?m.continue():m.continue(y.Dt)}else s()}}).next(function(){return ve.waitFor(o)})},i.prototype.options=function(t,e){var o;return void 0!==t&&("string"==typeof t?o=t:e=t),{index:o,range:e}},i.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var o=this.store.index(t.index);return t.kt?o.openKeyCursor(t.range,e):o.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},i}();function Os(i){return new ve(function(t,e){i.onsuccess=function(o){t(o.target.result)},i.onerror=function(o){var s=Kf(o.target.error);e(s)}})}var ry=!1;function Kf(i){var t=eo._t((0,It.z$)());if(t>=12.2&&t<13){var e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){var o=new ge("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ry||(ry=!0,setTimeout(function(){throw o},0)),o}}return i}var iy=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).Mt=e,s.currentSequenceNumber=o,s}return(0,x.ZT)(t,i),t}(xa);function Ir(i,t){var e=Se(i);return eo.It(e.Mt,t)}var Qf=function(){function i(t,e,o,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=o,this.mutations=s}return i.prototype.applyToRemoteDocument=function(t,e){for(var o=e.mutationResults,s=0;s<this.mutations.length;s++){var c=this.mutations[s];c.key.isEqual(t.key)&&cd(c,t,o[s])}},i.prototype.applyToLocalView=function(t){for(var e=0,o=this.baseMutations;e<o.length;e++)(f=o[e]).key.isEqual(t.key)&&G_(f,t,this.localWriteTime);for(var s=0,c=this.mutations;s<c.length;s++){var f;(f=c[s]).key.isEqual(t.key)&&G_(f,t,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(o){var s=t.get(o.key),c=s;e.applyToLocalView(c),s.isValidDocument()||c.convertToNoDocument(at.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Nt())},i.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xc(this.mutations,t.mutations,function(e,o){return z_(e,o)})&&Xc(this.baseMutations,t.baseMutations,function(e,o){return z_(e,o)})},i}(),NC=function(){function i(t,e,o,s){this.batch=t,this.commitVersion=e,this.mutationResults=o,this.docVersions=s}return i.from=function(t,e,o){Je(t.mutations.length===o.length);for(var s=Hf(),c=t.mutations,f=0;f<c.length;f++)s=s.insert(c[f].key,o[f].version);return new i(t,e,o,s)},i}(),Jf=function(){function i(t,e,o,s,c,f,m){void 0===c&&(c=at.min()),void 0===f&&(f=at.min()),void 0===m&&(m=Ar.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m}return i.prototype.withSequenceNumber=function(t){return new i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(t,e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},i.prototype.withLastLimboFreeSnapshotVersion=function(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},i}(),oy=function(i){this.Lt=i};function sy(i,t){if(t.document)return J_(i.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=Ue.fromSegments(t.noDocument.path),o=au(t.noDocument.readTime),s=ar.newNoDocument(e,o);return t.hasCommittedMutations?s.setHasCommittedMutations():s}if(t.unknownDocument){var c=Ue.fromSegments(t.unknownDocument.path);return o=au(t.unknownDocument.version),ar.newUnknownDocument(c,o)}return Ge()}function ay(i,t,e){var D,T,o=Xf(e),s=t.key.path.popLast().toArray();if(t.isFoundDocument()){var c={name:iu(D=i.Lt,(T=t).key),fields:T.data.value.mapValue.fields,updateTime:fd(D,T.version.toTimestamp())},f=t.hasCommittedMutations;return new un(null,null,c,f,o,s)}if(t.isNoDocument()){var m=t.key.path.toArray(),y=_d(t.version);return f=t.hasCommittedMutations,new un(null,new md(m,y),null,f,o,s)}if(t.isUnknownDocument()){var b=t.key.path.toArray(),C=_d(t.version);return new un(new pA(b,C),null,null,!0,o,s)}return Ge()}function Xf(i){var t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function PC(i){var t=new vn(i[0],i[1]);return at.fromTimestamp(t)}function _d(i){var t=i.toTimestamp();return new fA(t.seconds,t.nanoseconds)}function au(i){var t=new vn(i.seconds,i.nanoseconds);return at.fromTimestamp(t)}function Oa(i,t){for(var e=(t.baseMutations||[]).map(function(y){return sA(i.Lt,y)}),o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);var f=t.mutations.map(function(y){return sA(i.Lt,y)}),m=vn.fromMillis(t.localWriteTimeMs);return new Qf(t.batchId,m,e,f)}function yd(i){var t,e,o=au(i.readTime),s=void 0!==i.lastLimboFreeSnapshotVersion?au(i.lastLimboFreeSnapshotVersion):at.min();return void 0!==i.query.documents?(Je(1===(e=i.query).documents.length),t=Ti(Ss(oA(e.documents[0])))):t=Ti(lA(i.query)),new Jf(t,i.targetId,0,i.lastListenSequenceNumber,o,s,Ar.fromBase64String(i.resumeToken))}function ly(i,t){var e,o=_d(t.snapshotVersion),s=_d(t.lastLimboFreeSnapshotVersion);e=O_(t.target)?Mi(i.Lt,t.target):aA(i.Lt,t.target);var c=t.resumeToken.toBase64();return new nn(t.targetId,rd(t.target),o,c,t.sequenceNumber,s,e)}function uy(i){var t=lA({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Lf(t,t.limit,"L"):t}var gA=function(){function i(){}return i.prototype.getBundleMetadata=function(t,e){return mA(t).get(e).next(function(o){if(o)return{id:(s=o).bundleId,createTime:au(s.createTime),version:s.version};var s})},i.prototype.saveBundleMetadata=function(t,e){return mA(t).put({bundleId:(o=e).id,createTime:_d(tr(o.createTime)),version:o.version});var o},i.prototype.getNamedQuery=function(t,e){return LC(t).get(e).next(function(o){if(o)return{name:(s=o).name,query:uy(s.bundledQuery),readTime:au(s.readTime)};var s})},i.prototype.saveNamedQuery=function(t,e){return LC(t).put({name:(o=e).name,readTime:_d(tr(o.readTime)),bundledQuery:o.bundledQuery});var o},i}();function mA(i){return Ir(i,lr.store)}function LC(i){return Ir(i,xs.store)}var VC=function(){function i(){this.Bt=new BC}return i.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ve.resolve()},i.prototype.getCollectionParents=function(t,e){return ve.resolve(this.Bt.getEntries(e))},i}(),BC=function(){function i(){this.index={}}return i.prototype.add=function(t){var e=t.lastSegment(),o=t.popLast(),s=this.index[e]||new er(Ct.comparator),c=!s.has(o);return this.index[e]=s.add(o),c},i.prototype.has=function(t){var e=t.lastSegment(),o=t.popLast(),s=this.index[e];return s&&s.has(o)},i.prototype.getEntries=function(t){return(this.index[t]||new er(Ct.comparator)).toArray()},i}(),IO=function(){function i(){this.qt=new BC}return i.prototype.addToCollectionParentIndex=function(t,e){var o=this;if(!this.qt.has(e)){var s=e.lastSegment(),c=e.popLast();t.addOnCommittedListener(function(){o.qt.add(e)});var f={collectionId:s,parent:Xi(c)};return _A(t).put(f)}return ve.resolve()},i.prototype.getCollectionParents=function(t,e){var o=[],s=IDBKeyRange.bound([e,""],[YM(e),""],!1,!0);return _A(t).Nt(s).next(function(c){for(var f=0,m=c;f<m.length;f++){var y=m[f];if(y.collectionId!==e)break;o.push(Xo(y.parent))}return o})},i}();function _A(i){return Ir(i,oi.store)}var UC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},es=function(){function i(t,e,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=o}return i.withCacheSize=function(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function jC(i,t,e){var o=i.store(Gt.store),s=i.store(qt.store),c=[],f=IDBKeyRange.only(e.batchId),m=0,y=o.$t({range:f},function(R,V,Z){return m++,Z.delete()});c.push(y.next(function(){Je(1===m)}));for(var b=[],C=0,D=e.mutations;C<D.length;C++){var T=D[C],A=qt.key(t,T.key.path,e.batchId);c.push(s.delete(A)),b.push(T.key)}return ve.waitFor(c).next(function(){return b})}function ep(i){if(!i)return 0;var t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw Ge();t=i.noDocument}return JSON.stringify(t).length}es.DEFAULT_COLLECTION_PERCENTILE=10,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,es.DEFAULT=new es(41943040,es.DEFAULT_COLLECTION_PERCENTILE,es.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),es.DISABLED=new es(-1,0,0);var cy=function(){function i(t,e,o,s){this.userId=t,this.R=e,this.Ut=o,this.referenceDelegate=s,this.Kt={}}return i.Qt=function(t,e,o,s){return Je(""!==t.uid),new i(t.isAuthenticated()?t.uid:"",e,o,s)},i.prototype.checkEmpty=function(t){var e=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ks(t).$t({index:Gt.userMutationsIndex,range:o},function(s,c,f){e=!1,f.done()}).next(function(){return e})},i.prototype.addMutationBatch=function(t,e,o,s){var c=this,f=vd(t),m=ks(t);return m.add({}).next(function(y){Je("number"==typeof y);for(var b=new Qf(y,e,o,s),C=function(le,me,we){var Oe=we.baseMutations.map(function(ot){return pd(le.Lt,ot)}),Fe=we.mutations.map(function(ot){return pd(le.Lt,ot)});return new Gt(me,we.batchId,we.localWriteTime.toMillis(),Oe,Fe)}(c.R,c.userId,b),D=[],T=new er(function(le,me){return bt(le.canonicalString(),me.canonicalString())}),A=0,R=s;A<R.length;A++){var V=R[A],Z=qt.key(c.userId,V.key.path,y);T=T.add(V.key.path.popLast()),D.push(m.put(C)),D.push(f.put(Z,qt.PLACEHOLDER))}return T.forEach(function(le){D.push(c.Ut.addToCollectionParentIndex(t,le))}),t.addOnCommittedListener(function(){c.Kt[y]=b.keys()}),ve.waitFor(D).next(function(){return b})})},i.prototype.lookupMutationBatch=function(t,e){var o=this;return ks(t).get(e).next(function(s){return s?(Je(s.userId===o.userId),Oa(o.R,s)):null})},i.prototype.jt=function(t,e){var o=this;return this.Kt[e]?ve.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(s){if(s){var c=s.keys();return o.Kt[e]=c,c}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var o=this,s=e+1,c=IDBKeyRange.lowerBound([this.userId,s]),f=null;return ks(t).$t({index:Gt.userMutationsIndex,range:c},function(m,y,b){y.userId===o.userId&&(Je(y.batchId>=s),f=Oa(o.R,y)),b.done()}).next(function(){return f})},i.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return ks(t).$t({index:Gt.userMutationsIndex,range:e,reverse:!0},function(s,c,f){o=c.batchId,f.done()}).next(function(){return o})},i.prototype.getAllMutationBatches=function(t){var e=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ks(t).Nt(Gt.userMutationsIndex,o).next(function(s){return s.map(function(c){return Oa(e.R,c)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var o=this,s=qt.prefixForPath(this.userId,e.path),c=IDBKeyRange.lowerBound(s),f=[];return vd(t).$t({range:c},function(m,y,b){var C=m[0],T=m[2],A=Xo(m[1]);if(C===o.userId&&e.path.isEqual(A))return ks(t).get(T).next(function(R){if(!R)throw Ge();Je(R.userId===o.userId),f.push(Oa(o.R,R))});b.done()}).next(function(){return f})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var o=this,s=new er(bt),c=[];return e.forEach(function(f){var m=qt.prefixForPath(o.userId,f.path),y=IDBKeyRange.lowerBound(m),b=vd(t).$t({range:y},function(C,D,T){var A=C[0],V=C[2],Z=Xo(C[1]);A===o.userId&&f.path.isEqual(Z)?s=s.add(V):T.done()});c.push(b)}),ve.waitFor(c).next(function(){return o.Wt(t,s)})},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=this,s=e.path,c=s.length+1,f=qt.prefixForPath(this.userId,s),m=IDBKeyRange.lowerBound(f),y=new er(bt);return vd(t).$t({range:m},function(b,C,D){var T=b[0],R=b[2],V=Xo(b[1]);T===o.userId&&s.isPrefixOf(V)?V.length===c&&(y=y.add(R)):D.done()}).next(function(){return o.Wt(t,y)})},i.prototype.Wt=function(t,e){var o=this,s=[],c=[];return e.forEach(function(f){c.push(ks(t).get(f).next(function(m){if(null===m)throw Ge();Je(m.userId===o.userId),s.push(Oa(o.R,m))}))}),ve.waitFor(c).next(function(){return s})},i.prototype.removeMutationBatch=function(t,e){var o=this;return jC(t.Mt,this.userId,e).next(function(s){return t.addOnCommittedListener(function(){o.Gt(e.batchId)}),ve.forEach(s,function(c){return o.referenceDelegate.markPotentiallyOrphaned(t,c)})})},i.prototype.Gt=function(t){delete this.Kt[t]},i.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(o){if(!o)return ve.resolve();var s=IDBKeyRange.lowerBound(qt.prefixForUser(e.userId)),c=[];return vd(t).$t({range:s},function(f,m,y){if(f[0]===e.userId){var b=Xo(f[1]);c.push(b)}else y.done()}).next(function(){Je(0===c.length)})})},i.prototype.containsKey=function(t,e){return tp(t,this.userId,e)},i.prototype.zt=function(t){var e=this;return yA(t).get(this.userId).next(function(o){return o||new ii(e.userId,-1,"")})},i}();function tp(i,t,e){var o=qt.prefixForPath(t,e.path),s=o[1],c=IDBKeyRange.lowerBound(o),f=!1;return vd(i).$t({range:c,kt:!0},function(m,y,b){m[0]===t&&m[1]===s&&(f=!0),b.done()}).next(function(){return f})}function ks(i){return Ir(i,Gt.store)}function vd(i){return Ir(i,qt.store)}function yA(i){return Ir(i,ii.store)}var dy=function(){function i(t){this.Ht=t}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),vA=function(){function i(t,e){this.referenceDelegate=t,this.R=e}return i.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(o){var s=new dy(o.highestTargetId);return o.highestTargetId=s.next(),e.Zt(t,o).next(function(){return o.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(e){return at.fromTimestamp(new vn(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(e){return e.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(t,e,o){var s=this;return this.Xt(t).next(function(c){return c.highestListenSequenceNumber=e,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),e>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=e),s.Zt(t,c)})},i.prototype.addTargetData=function(t,e){var o=this;return this.te(t,e).next(function(){return o.Xt(t).next(function(s){return s.targetCount+=1,o.ee(e,s),o.Zt(t,s)})})},i.prototype.updateTargetData=function(t,e){return this.te(t,e)},i.prototype.removeTargetData=function(t,e){var o=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ka(t).delete(e.targetId)}).next(function(){return o.Xt(t)}).next(function(s){return Je(s.targetCount>0),s.targetCount-=1,o.Zt(t,s)})},i.prototype.removeTargets=function(t,e,o){var s=this,c=0,f=[];return ka(t).$t(function(m,y){var b=yd(y);b.sequenceNumber<=e&&null===o.get(b.targetId)&&(c++,f.push(s.removeTargetData(t,b)))}).next(function(){return ve.waitFor(f)}).next(function(){return c})},i.prototype.forEachTarget=function(t,e){return ka(t).$t(function(o,s){var c=yd(s);e(c)})},i.prototype.Xt=function(t){return bA(t).get(Pt.key).next(function(e){return Je(null!==e),e})},i.prototype.Zt=function(t,e){return bA(t).put(Pt.key,e)},i.prototype.te=function(t,e){return ka(t).put(ly(this.R,e))},i.prototype.ee=function(t,e){var o=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,o=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,o=!0),o},i.prototype.getTargetCount=function(t){return this.Xt(t).next(function(e){return e.targetCount})},i.prototype.getTargetData=function(t,e){var o=rd(e),s=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),c=null;return ka(t).$t({range:s,index:nn.queryTargetsIndexName},function(f,m,y){var b=yd(m);R_(e,b.target)&&(c=b,y.done())}).next(function(){return c})},i.prototype.addMatchingKeys=function(t,e,o){var s=this,c=[],f=Fs(t);return e.forEach(function(m){var y=Xi(m.path);c.push(f.put(new Cn(o,y))),c.push(s.referenceDelegate.addReference(t,o,m))}),ve.waitFor(c)},i.prototype.removeMatchingKeys=function(t,e,o){var s=this,c=Fs(t);return ve.forEach(e,function(f){var m=Xi(f.path);return ve.waitFor([c.delete([o,m]),s.referenceDelegate.removeReference(t,o,f)])})},i.prototype.removeMatchingKeysForTargetId=function(t,e){var o=Fs(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return o.delete(s)},i.prototype.getMatchingKeysForTargetId=function(t,e){var o=IDBKeyRange.bound([e],[e+1],!1,!0),s=Fs(t),c=Nt();return s.$t({range:o,kt:!0},function(f,m,y){var b=Xo(f[1]),C=new Ue(b);c=c.add(C)}).next(function(){return c})},i.prototype.containsKey=function(t,e){var o=Xi(e.path),s=IDBKeyRange.bound([o],[YM(o)],!1,!0),c=0;return Fs(t).$t({index:Cn.documentTargetsIndex,kt:!0,range:s},function(f,m,y){0!==f[0]&&(c++,y.done())}).next(function(){return c>0})},i.prototype.lt=function(t,e){return ka(t).get(e).next(function(o){return o?yd(o):null})},i}();function ka(i){return Ir(i,nn.store)}function bA(i){return Ir(i,Pt.store)}function Fs(i){return Ir(i,Cn.store)}function xi(i){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){if(i.code!==se.FAILED_PRECONDITION||i.message!==Ia)throw i;return Ce("LocalStore","Unexpectedly lost primary lease"),[2]})})}function HC(i,t){var o=i[1],c=t[1],f=bt(i[0],t[0]);return 0===f?bt(o,c):f}var GC=function(){function i(t){this.ne=t,this.buffer=new er(HC),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var o=this.buffer.last();HC(e,o)<0&&(this.buffer=this.buffer.delete(o).add(e))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),wA=function(){function i(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return i.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(t){var e=this,o=this.oe?3e5:6e4;Ce("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,x.mG)(e,void 0,void 0,function(){var s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:this.ce=null,this.oe=!0,c.label=1;case 1:return c.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return c.sent(),[3,7];case 3:return Rs(s=c.sent())?(Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s),[3,6]):[3,4];case 4:return[4,xi(s)];case 5:c.sent(),c.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return c.sent(),[2]}})})})},i}(),qC=function(){function i(t,e){this.ae=t,this.params=e}return i.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(o){return Math.floor(e/100*o)})},i.prototype.nthSequenceNumber=function(t,e){var o=this;if(0===e)return ve.resolve(ni.o);var s=new GC(e);return this.ae.forEachTarget(t,function(c){return s.re(c.sequenceNumber)}).next(function(){return o.ae.le(t,function(c){return s.re(c)})}).next(function(){return s.maxValue})},i.prototype.removeTargets=function(t,e,o){return this.ae.removeTargets(t,e,o)},i.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},i.prototype.collect=function(t,e){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(UC)):this.getCacheSize(t).next(function(s){return s<o.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; Cache size "+s+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),UC):o.fe(t,e)})},i.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},i.prototype.fe=function(t,e){var o,s,c,f,m,y,b,C=this,D=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(T){return T>C.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+C.params.maximumSequenceNumbersToCollect+" from "+T),s=C.params.maximumSequenceNumbersToCollect):s=T,f=Date.now(),C.nthSequenceNumber(t,s)}).next(function(T){return o=T,m=Date.now(),C.removeTargets(t,o,e)}).next(function(T){return c=T,y=Date.now(),C.removeOrphanedDocuments(t,o)}).next(function(T){return b=Date.now(),T_()<=pa.in.DEBUG&&Ce("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(f-D)+"ms\n\tDetermined least recently used "+s+" in "+(m-f)+"ms\n\tRemoved "+c+" targets in "+(y-m)+"ms\n\tRemoved "+T+" documents in "+(b-y)+"ms\nTotal Duration: "+(b-D)+"ms"),ve.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:c,documentsRemoved:T})})},i}(),np=function(){function i(t,e){this.db=t,this.garbageCollector=new qC(this,e)}return i.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(o){return e.next(function(s){return o+s})})},i.prototype.de=function(t){var e=0;return this.le(t,function(o){e++}).next(function(){return e})},i.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},i.prototype.le=function(t,e){return this.we(t,function(o,s){return e(s)})},i.prototype.addReference=function(t,e,o){return rp(t,o)},i.prototype.removeReference=function(t,e,o){return rp(t,o)},i.prototype.removeTargets=function(t,e,o){return this.db.getTargetCache().removeTargets(t,e,o)},i.prototype.markPotentiallyOrphaned=function(t,e){return rp(t,e)},i.prototype._e=function(t,e){return s=e,c=!1,yA(o=t).Ot(function(f){return tp(o,f,s).next(function(m){return m&&(c=!0),ve.resolve(!m)})}).next(function(){return c});var o,s,c},i.prototype.removeOrphanedDocuments=function(t,e){var o=this,s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[],f=0;return this.we(t,function(m,y){if(y<=e){var b=o._e(t,m).next(function(C){if(!C)return f++,s.getEntry(t,m).next(function(){return s.removeEntry(m),Fs(t).delete([0,Xi(m.path)])})});c.push(b)}}).next(function(){return ve.waitFor(c)}).next(function(){return s.apply(t)}).next(function(){return f})},i.prototype.removeTarget=function(t,e){var o=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,o)},i.prototype.updateLimboDocument=function(t,e){return rp(t,e)},i.prototype.we=function(t,e){var o,s=Fs(t),c=ni.o;return s.$t({index:Cn.documentTargetsIndex},function(f,m){var b=m.path,C=m.sequenceNumber;0===f[0]?(c!==ni.o&&e(new Ue(Xo(o)),c),c=C,o=b):c=ni.o}).next(function(){c!==ni.o&&e(new Ue(Xo(o)),c)})},i.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},i}();function rp(i,t){return Fs(i).put((o=i.currentSequenceNumber,new Cn(0,Xi(t.path),o)));var o}var Fa=function(){function i(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return i.prototype.get=function(t){var e=this.mapKeyFn(t),o=this.inner[e];if(void 0!==o)for(var s=0,c=o;s<c.length;s++){var f=c[s],y=f[1];if(this.equalsFn(f[0],t))return y}},i.prototype.has=function(t){return void 0!==this.get(t)},i.prototype.set=function(t,e){var o=this.mapKeyFn(t),s=this.inner[o];if(void 0!==s){for(var c=0;c<s.length;c++)if(this.equalsFn(s[c][0],t))return void(s[c]=[t,e]);s.push([t,e])}else this.inner[o]=[[t,e]]},i.prototype.delete=function(t){var e=this.mapKeyFn(t),o=this.inner[e];if(void 0===o)return!1;for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return 1===o.length?delete this.inner[e]:o.splice(s,1),!0;return!1},i.prototype.forEach=function(t){Es(this.inner,function(e,o){for(var s=0,c=o;s<c.length;s++){var f=c[s];t(f[0],f[1])}})},i.prototype.isEmpty=function(){return xf(this.inner)},i}(),zC=function(){function i(){this.changes=new Fa(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return i.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:at.min()},i.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},i.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ar.newInvalidDocument(t),readTime:e})},i.prototype.getEntry=function(t,e){this.assertNotApplied();var o=this.changes.get(e);return void 0!==o?ve.resolve(o.document):this.getFromCache(t,e)},i.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},i.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},i.prototype.assertNotApplied=function(){},i}(),CA=function(){function i(t,e){this.R=t,this.Ut=e}return i.prototype.addEntry=function(t,e,o){return Ns(t).put(bd(e),o)},i.prototype.removeEntry=function(t,e){var o=Ns(t),s=bd(e);return o.delete(s)},i.prototype.updateMetadata=function(t,e){var o=this;return this.getMetadata(t).next(function(s){return s.byteSize+=e,o.me(t,s)})},i.prototype.getEntry=function(t,e){var o=this;return Ns(t).get(bd(e)).next(function(s){return o.ye(e,s)})},i.prototype.ge=function(t,e){var o=this;return Ns(t).get(bd(e)).next(function(s){return{document:o.ye(e,s),size:ep(s)}})},i.prototype.getEntries=function(t,e){var o=this,s=lt();return this.pe(t,e,function(c,f){var m=o.ye(c,f);s=s.insert(c,m)}).next(function(){return s})},i.prototype.Ee=function(t,e){var o=this,s=lt(),c=new br(Ue.comparator);return this.pe(t,e,function(f,m){var y=o.ye(f,m);s=s.insert(f,y),c=c.insert(f,ep(m))}).next(function(){return{documents:s,Te:c}})},i.prototype.pe=function(t,e,o){if(e.isEmpty())return ve.resolve();var s=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),c=e.getIterator(),f=c.getNext();return Ns(t).$t({range:s},function(m,y,b){for(var C=Ue.fromSegments(m);f&&Ue.comparator(f,C)<0;)o(f,null),f=c.getNext();f&&f.isEqual(C)&&(o(f,y),f=c.hasNext()?c.getNext():null),f?b.Ct(f.path.toArray()):b.done()}).next(function(){for(;f;)o(f,null),f=c.hasNext()?c.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(t,e,o){var s=this,c=lt(),f=e.path.length+1,m={};if(o.isEqual(at.min())){var y=e.path.toArray();m.range=IDBKeyRange.lowerBound(y)}else{var b=e.path.toArray(),C=Xf(o);m.range=IDBKeyRange.lowerBound([b,C],!0),m.index=un.collectionReadTimeIndex}return Ns(t).$t(m,function(D,T,A){if(D.length===f){var R=sy(s.R,T);e.path.isPrefixOf(R.key.path)?Da(e,R)&&(c=c.insert(R.key,R)):A.done()}}).next(function(){return c})},i.prototype.newChangeBuffer=function(t){return new EA(this,!!t&&t.trackRemovals)},i.prototype.getSize=function(t){return this.getMetadata(t).next(function(e){return e.byteSize})},i.prototype.getMetadata=function(t){return $C(t).get(Ai.key).next(function(e){return Je(!!e),e})},i.prototype.me=function(t,e){return $C(t).put(Ai.key,e)},i.prototype.ye=function(t,e){if(e){var o=sy(this.R,e);if(!o.isNoDocument()||!o.version.isEqual(at.min()))return o}return ar.newInvalidDocument(t)},i}(),EA=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).Ie=e,s.trackRemovals=o,s.Ae=new Fa(function(c){return c.toString()},function(c,f){return c.isEqual(f)}),s}return(0,x.ZT)(t,i),t.prototype.applyChanges=function(e){var o=this,s=[],c=0,f=new er(function(m,y){return bt(m.canonicalString(),y.canonicalString())});return this.changes.forEach(function(m,y){var b=o.Ae.get(m);if(y.document.isValidDocument()){var C=ay(o.Ie.R,y.document,o.getReadTime(m));f=f.add(m.path.popLast());var D=ep(C);c+=D-b,s.push(o.Ie.addEntry(e,m,C))}else if(c-=b,o.trackRemovals){var T=ay(o.Ie.R,ar.newNoDocument(m,at.min()),o.getReadTime(m));s.push(o.Ie.addEntry(e,m,T))}else s.push(o.Ie.removeEntry(e,m))}),f.forEach(function(m){s.push(o.Ie.Ut.addToCollectionParentIndex(e,m))}),s.push(this.Ie.updateMetadata(e,c)),ve.waitFor(s)},t.prototype.getFromCache=function(e,o){var s=this;return this.Ie.ge(e,o).next(function(c){return s.Ae.set(o,c.size),c.document})},t.prototype.getAllFromCache=function(e,o){var s=this;return this.Ie.Ee(e,o).next(function(c){var f=c.documents;return c.Te.forEach(function(m,y){s.Ae.set(m,y)}),f})},t}(zC);function $C(i){return Ir(i,Ai.store)}function Ns(i){return Ir(i,un.store)}function bd(i){return i.path.toArray()}var SA=function(){function i(t){this.R=t}return i.prototype.Rt=function(t,e,o,s){var c=this;Je(o<s&&o>=0&&s<=11);var y,f=new Ra("createOrUpgrade",e);o<1&&s>=1&&(t.createObjectStore(wr.store),(y=t).createObjectStore(ii.store,{keyPath:ii.keyPath}),y.createObjectStore(Gt.store,{keyPath:Gt.keyPath,autoIncrement:!0}).createIndex(Gt.userMutationsIndex,Gt.userMutationsKeyPath,{unique:!0}),y.createObjectStore(qt.store),hy(t),function(y){y.createObjectStore(un.store)}(t));var m=ve.resolve();return o<3&&s>=3&&(0!==o&&(function(y){y.deleteObjectStore(Cn.store),y.deleteObjectStore(nn.store),y.deleteObjectStore(Pt.store)}(t),hy(t)),m=m.next(function(){return function(y){var b=y.store(Pt.store),C=new Pt(0,0,at.min().toTimestamp(),0);return b.put(Pt.key,C)}(f)})),o<4&&s>=4&&(0!==o&&(m=m.next(function(){return function(y,b){return b.store(Gt.store).Nt().next(function(C){y.deleteObjectStore(Gt.store),y.createObjectStore(Gt.store,{keyPath:Gt.keyPath,autoIncrement:!0}).createIndex(Gt.userMutationsIndex,Gt.userMutationsKeyPath,{unique:!0});var D=b.store(Gt.store),T=C.map(function(A){return D.put(A)});return ve.waitFor(T)})}(t,f)})),m=m.next(function(){!function(y){y.createObjectStore(Ii.store,{keyPath:Ii.keyPath})}(t)})),o<5&&s>=5&&(m=m.next(function(){return c.Re(f)})),o<6&&s>=6&&(m=m.next(function(){return function(y){y.createObjectStore(Ai.store)}(t),c.be(f)})),o<7&&s>=7&&(m=m.next(function(){return c.ve(f)})),o<8&&s>=8&&(m=m.next(function(){return c.Pe(t,f)})),o<9&&s>=9&&(m=m.next(function(){(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(t),function(y){var b=y.objectStore(un.store);b.createIndex(un.readTimeIndex,un.readTimeIndexPath,{unique:!1}),b.createIndex(un.collectionReadTimeIndex,un.collectionReadTimeIndexPath,{unique:!1})}(e)})),o<10&&s>=10&&(m=m.next(function(){return c.Ve(f)})),o<11&&s>=11&&(m=m.next(function(){(function(y){y.createObjectStore(lr.store,{keyPath:lr.keyPath})})(t),function(y){y.createObjectStore(xs.store,{keyPath:xs.keyPath})}(t)})),m},i.prototype.be=function(t){var e=0;return t.store(un.store).$t(function(o,s){e+=ep(s)}).next(function(){var o=new Ai(e);return t.store(Ai.store).put(Ai.key,o)})},i.prototype.Re=function(t){var e=this,o=t.store(ii.store),s=t.store(Gt.store);return o.Nt().next(function(c){return ve.forEach(c,function(f){var m=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.Nt(Gt.userMutationsIndex,m).next(function(y){return ve.forEach(y,function(b){Je(b.userId===f.userId);var C=Oa(e.R,b);return jC(t,f.userId,C).next(function(){})})})})})},i.prototype.ve=function(t){var e=t.store(Cn.store),o=t.store(un.store);return t.store(Pt.store).get(Pt.key).next(function(s){var c=[];return o.$t(function(f,m){var y=new Ct(f),b=[0,Xi(y)];c.push(e.get(b).next(function(C){return C?ve.resolve():e.put(new Cn(0,Xi(y),s.highestListenSequenceNumber))}))}).next(function(){return ve.waitFor(c)})})},i.prototype.Pe=function(t,e){t.createObjectStore(oi.store,{keyPath:oi.keyPath});var o=e.store(oi.store),s=new BC,c=function(f){if(s.add(f)){var m=f.lastSegment(),y=f.popLast();return o.put({collectionId:m,parent:Xi(y)})}};return e.store(un.store).$t({kt:!0},function(f,m){var y=new Ct(f);return c(y.popLast())}).next(function(){return e.store(qt.store).$t({kt:!0},function(f,m){var b=Xo(f[1]);return c(b.popLast())})})},i.prototype.Ve=function(t){var e=this,o=t.store(nn.store);return o.$t(function(s,c){var f=yd(c),m=ly(e.R,f);return o.put(m)})},i}();function hy(i){i.createObjectStore(Cn.store,{keyPath:Cn.keyPath}).createIndex(Cn.documentTargetsIndex,Cn.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(nn.store,{keyPath:nn.keyPath}).createIndex(nn.queryTargetsIndexName,nn.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Pt.store)}var ip="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fy=function(){function i(t,e,o,s,c,f,m,y,b,C){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=o,this.Se=c,this.window=f,this.document=m,this.De=b,this.Ce=C,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(D){return Promise.resolve()},!i.yt())throw new ge(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new np(this,s),this.Le=e+"main",this.R=new oy(y),this.Be=new eo(this.Le,11,new SA(this.R)),this.qe=new vA(this.referenceDelegate,this.R),this.Ut=new IO,this.Ue=new CA(this.R,this.Ut),this.Ke=new gA,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===C&&zn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ge(se.FAILED_PRECONDITION,ip);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new ni(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},i.prototype.He=function(t){var e=this;return this.Me=function(o){return(0,x.mG)(e,void 0,void 0,function(){return(0,x.Jh)(this,function(s){return this.started?[2,t(o)]:[2]})})},t(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(o){return(0,x.mG)(e,void 0,void 0,function(){return(0,x.Jh)(this,function(s){switch(s.label){case 0:return null===o.newVersion?[4,t()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,x.mG)(e,void 0,void 0,function(){return(0,x.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return lu(e).put(new Ii(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(o){o||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(o){return t.isPrimary&&!o?t.Xe(e).next(function(){return!1}):!!o&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Rs(e))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},i.prototype.Je=function(t){var e=this;return op(t).get(wr.key).next(function(o){return ve.resolve(e.tn(o))})},i.prototype.en=function(t){return lu(t).delete(this.clientId)},i.prototype.nn=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o,c=this;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(m){var y=Ir(m,Ii.store);return y.Nt().next(function(b){var C=c.rn(b,18e5),D=b.filter(function(T){return-1===C.indexOf(T)});return ve.forEach(D,function(T){return y.delete(T.clientId)}).next(function(){return D})})}).catch(function(){return[]})]);case 1:if(t=f.sent(),this.Qe)for(e=0,o=t;e<o.length;e++)this.Qe.removeItem(this.on(o[e].clientId));f.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},i.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},i.prototype.Ye=function(t){var e=this;return this.Ce?ve.resolve(!0):op(t).get(wr.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)){if(e.tn(o)&&e.networkEnabled)return!0;if(!e.tn(o)){if(!o.allowTabSynchronization)throw new ge(se.FAILED_PRECONDITION,ip);return!1}}return!(!e.networkEnabled||!e.inForeground)||lu(t).Nt().next(function(s){return void 0===e.rn(s,5e3).find(function(c){return!(e.clientId===c.clientId||!(!e.networkEnabled&&c.networkEnabled||!e.inForeground&&c.inForeground&&e.networkEnabled===c.networkEnabled))})})}).next(function(o){return e.isPrimary!==o&&Ce("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},i.prototype.shutdown=function(){return(0,x.mG)(this,void 0,void 0,function(){var t=this;return(0,x.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[wr.store,Ii.store],function(o){var s=new iy(o,ni.o);return t.Xe(s).next(function(){return t.en(s)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(t,e){var o=this;return t.filter(function(s){return o.sn(s.updateTimeMs,e)&&!o.cn(s.clientId)})},i.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return lu(e).Nt().next(function(o){return t.rn(o,18e5).map(function(s){return s.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(t){return cy.Qt(t,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,o){var c,s=this;return Ce("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",ou,function(m){return c=new iy(m,s.Ne?s.Ne.next():ni.o),"readwrite-primary"===e?s.Je(c).next(function(y){return!!y||s.Ye(c)}).next(function(y){if(!y)throw zn("Failed to obtain primary lease for action '"+t+"'."),s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}),new ge(se.FAILED_PRECONDITION,Ia);return o(c)}).next(function(y){return s.Ze(c).next(function(){return y})}):s.dn(c).next(function(){return o(c)})}).then(function(m){return c.raiseOnCommittedEvent(),m})},i.prototype.dn=function(t){var e=this;return op(t).get(wr.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)&&!e.tn(o)&&!(e.Ce||e.allowTabSynchronization&&o.allowTabSynchronization))throw new ge(se.FAILED_PRECONDITION,ip)})},i.prototype.Ze=function(t){var e=new wr(this.clientId,this.allowTabSynchronization,Date.now());return op(t).put(wr.key,e)},i.yt=function(){return eo.yt()},i.prototype.Xe=function(t){var e=this,o=op(t);return o.get(wr.key).next(function(s){return e.tn(s)?(Ce("IndexedDbPersistence","Releasing primary lease."),o.delete(wr.key)):ve.resolve()})},i.prototype.sn=function(t,e){var o=Date.now();return!(t<o-e||t>o&&(zn("Detected an update time that is in the future: "+t+" > "+o),1))},i.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},i.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,It.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},i.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},i.prototype.cn=function(t){var e;try{var o=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Ce("IndexedDbPersistence","Client '"+t+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(s){return zn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){zn("Failed to set zombie client id.",t)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},i.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},i}();function op(i){return Ir(i,wr.store)}function lu(i){return Ir(i,Ii.store)}function py(i,t){var e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}var xO=function(i,t){this.progress=i,this.wn=t},uu=function(){function i(t,e,o){this.Ue=t,this._n=e,this.Ut=o}return i.prototype.mn=function(t,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(s){return o.yn(t,e,s)})},i.prototype.yn=function(t,e,o){return this.Ue.getEntry(t,e).next(function(s){for(var c=0,f=o;c<f.length;c++)f[c].applyToLocalView(s);return s})},i.prototype.gn=function(t,e){t.forEach(function(o,s){for(var c=0,f=e;c<f.length;c++)f[c].applyToLocalView(s)})},i.prototype.pn=function(t,e){var o=this;return this.Ue.getEntries(t,e).next(function(s){return o.En(t,s).next(function(){return s})})},i.prototype.En=function(t,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(s){return o.gn(e,s)})},i.prototype.getDocumentsMatchingQuery=function(t,e,o){return Ue.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.Tn(t,e.path):L_(e)?this.In(t,e,o):this.An(t,e,o);var s},i.prototype.Tn=function(t,e){return this.mn(t,new Ue(e)).next(function(o){var s=EC();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})},i.prototype.In=function(t,e,o){var s=this,c=e.collectionGroup,f=EC();return this.Ut.getCollectionParents(t,c).next(function(m){return ve.forEach(m,function(y){var C,D,b=(C=e,D=y.child(c),new Qo(D,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));return s.An(t,b,o).next(function(C){C.forEach(function(D,T){f=f.insert(D,T)})})}).next(function(){return f})})},i.prototype.An=function(t,e,o){var s,c,f=this;return this.Ue.getDocumentsMatchingQuery(t,e,o).next(function(m){return s=m,f._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(m){return f.Rn(t,c=m,s).next(function(y){s=y;for(var b=0,C=c;b<C.length;b++)for(var D=C[b],T=0,A=D.mutations;T<A.length;T++){var R=A[T],V=R.key,Z=s.get(V);null==Z&&(Z=ar.newInvalidDocument(V),s=s.insert(V,Z)),G_(R,Z,D.localWriteTime),Z.isFoundDocument()||(s=s.remove(V))}})}).next(function(){return s.forEach(function(m,y){Da(e,y)||(s=s.remove(m))}),s})},i.prototype.Rn=function(t,e,o){for(var s=Nt(),c=0,f=e;c<f.length;c++)for(var m=0,y=f[c].mutations;m<y.length;m++){var b=y[m];b instanceof As&&null===o.get(b.key)&&(s=s.add(b.key))}var C=o;return this.Ue.getEntries(t,s).next(function(D){return D.forEach(function(T,A){A.isFoundDocument()&&(C=C.insert(T,A))}),C})},i}(),DA=function(){function i(t,e,o,s){this.targetId=t,this.fromCache=e,this.bn=o,this.vn=s}return i.Pn=function(t,e){for(var o=Nt(),s=Nt(),c=0,f=e.docChanges;c<f.length;c++){var m=f[c];switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:s=s.add(m.doc.key)}}return new i(t,e.fromCache,o,s)},i}(),sp=function(){function i(){}return i.prototype.Vn=function(t){this.Sn=t},i.prototype.getDocumentsMatchingQuery=function(t,e,o,s){var f,c=this;return 0===(f=e).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(at.min())?this.Dn(t,e):this.Sn.pn(t,s).next(function(f){var m=c.Cn(e,f);return(Ff(e)||Nf(e))&&c.Nn(e.limitType,m,s,o)?c.Dn(t,e):(T_()<=pa.in.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),tu(e)),c.Sn.getDocumentsMatchingQuery(t,e,o).next(function(y){return m.forEach(function(b){y=y.insert(b.key,b)}),y}))})},i.prototype.Cn=function(t,e){var o=new er(fC(t));return e.forEach(function(s,c){Da(t,c)&&(o=o.add(c))}),o},i.prototype.Nn=function(t,e,o,s){if(o.size!==e.size)return!0;var c="F"===t?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)},i.prototype.Dn=function(t,e){return T_()<=pa.in.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",tu(e)),this.Sn.getDocumentsMatchingQuery(t,e,at.min())},i}(),gy=function(){function i(t,e,o,s){this.persistence=t,this.xn=e,this.R=s,this.Fn=new br(bt),this.kn=new Fa(function(c){return rd(c)},R_),this.$n=at.min(),this._n=t.getMutationQueue(o),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new uu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return t.collect(o,e.Fn)})},i}();function YC(i,t,e,o){return new gy(i,t,e,o)}function ap(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,s,c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return e=Se(i),o=e._n,s=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(m){var y;return e._n.getAllMutationBatches(m).next(function(b){return y=b,o=e.persistence.getMutationQueue(t),s=new uu(e.On,o,e.persistence.getIndexManager()),o.getAllMutationBatches(m)}).next(function(b){for(var C=[],D=[],T=Nt(),A=0,R=y;A<R.length;A++){var V=R[A];C.push(V.batchId);for(var Z=0,le=V.mutations;Z<le.length;Z++)T=T.add(le[Z].key)}for(var we=0,Oe=b;we<Oe.length;we++){var Fe=Oe[we];D.push(Fe.batchId);for(var ot=0,Rt=Fe.mutations;ot<Rt.length;ot++)T=T.add(Rt[ot].key)}return s.pn(m,T).next(function(fi){return{Ln:fi,removedBatchIds:C,addedBatchIds:D}})})})];case 1:return c=f.sent(),[2,(e._n=o,e.Mn=s,e.xn.Vn(e.Mn),c)]}})})}function my(i,t){var e=Se(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var f,m,y,b,C,D,T,s=t.batch.keys(),c=e.On.newChangeBuffer({trackRemovals:!0});return(f=e,m=o,y=t,b=c,C=y.batch,D=C.keys(),T=ve.resolve(),D.forEach(function(A){T=T.next(function(){return b.getEntry(m,A)}).next(function(R){var V=y.docVersions.get(A);Je(null!==V),R.version.compareTo(V)<0&&(C.applyToRemoteDocument(R,y),R.isValidDocument()&&b.addEntry(R,y.commitVersion))})}),T.next(function(){return f._n.removeMutationBatch(m,C)})).next(function(){return c.apply(o)}).next(function(){return e._n.performConsistencyCheck(o)}).next(function(){return e.Mn.pn(o,s)})})}function _y(i){var t=Se(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function RO(i,t){var e=Se(i),o=t.snapshotVersion,s=e.Fn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(c){var f=e.On.newChangeBuffer({trackRemovals:!0});s=e.Fn;var m=[];t.targetChanges.forEach(function(C,D){var V,Z,le,T=s.get(D);if(T){m.push(e.qe.removeMatchingKeys(c,C.removedDocuments,D).next(function(){return e.qe.addMatchingKeys(c,C.addedDocuments,D)}));var A=C.resumeToken;if(A.approximateByteSize()>0){var R=T.withResumeToken(A,o).withSequenceNumber(c.currentSequenceNumber);s=s.insert(D,R),V=T,le=C,Je((Z=R).resumeToken.approximateByteSize()>0),(0===V.resumeToken.approximateByteSize()||Z.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0)&&m.push(e.qe.updateTargetData(c,R))}}});var y=lt();if(t.documentUpdates.forEach(function(C,D){t.resolvedLimboDocuments.has(C)&&m.push(e.persistence.referenceDelegate.updateLimboDocument(c,C))}),m.push(WC(c,f,t.documentUpdates,o,void 0).next(function(C){y=C})),!o.isEqual(at.min())){var b=e.qe.getLastRemoteSnapshotVersion(c).next(function(C){return e.qe.setTargetsMetadata(c,c.currentSequenceNumber,o)});m.push(b)}return ve.waitFor(m).next(function(){return f.apply(c)}).next(function(){return e.Mn.En(c,y)}).next(function(){return y})}).then(function(c){return e.Fn=s,c})}function WC(i,t,e,o,s){var c=Nt();return e.forEach(function(f){return c=c.add(f)}),t.getEntries(i,c).next(function(f){var m=lt();return e.forEach(function(y,b){var C=f.get(y),D=(null==s?void 0:s.get(y))||o;b.isNoDocument()&&b.version.isEqual(at.min())?(t.removeEntry(y,D),m=m.insert(y,b)):!C.isValidDocument()||b.version.compareTo(C.version)>0||0===b.version.compareTo(C.version)&&C.hasPendingWrites?(t.addEntry(b,D),m=m.insert(y,b)):Ce("LocalStore","Ignoring outdated watch update for ",y,". Current version:",C.version," Watch version:",b.version)}),m})}function yy(i,t){var e=Se(i);return e.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===t&&(t=-1),e._n.getNextMutationBatchAfterBatchId(o,t)})}function Ps(i,t){var e=Se(i);return e.persistence.runTransaction("Allocate target","readwrite",function(o){var s;return e.qe.getTargetData(o,t).next(function(c){return c?ve.resolve(s=c):e.qe.allocateTargetId(o).next(function(f){return s=new Jf(t,f,0,o.currentSequenceNumber),e.qe.addTargetData(o,s).next(function(){return s})})})}).then(function(o){var s=e.Fn.get(o.targetId);return(null===s||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Fn=e.Fn.insert(o.targetId,o),e.kn.set(t,o.targetId)),o})}function cu(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,s,c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:o=Se(i),s=o.Fn.get(t),c=e?"readwrite":"readwrite-primary",m.label=1;case 1:return m.trys.push([1,4,,5]),e?[3,3]:[4,o.persistence.runTransaction("Release target",c,function(y){return o.persistence.referenceDelegate.removeTarget(y,s)})];case 2:m.sent(),m.label=3;case 3:return[3,5];case 4:if(!Rs(f=m.sent()))throw f;return Ce("LocalStore","Failed to update sequence numbers for target "+t+": "+f),[3,5];case 5:return o.Fn=o.Fn.remove(t),o.kn.delete(s.target),[2]}})})}function wd(i,t,e){var o=Se(i),s=at.min(),c=Nt();return o.persistence.runTransaction("Execute query","readonly",function(f){return(m=o,y=f,b=Ti(t),C=Se(m),D=C.kn.get(b),void 0!==D?ve.resolve(C.Fn.get(D)):C.qe.getTargetData(y,b)).next(function(m){if(m)return s=m.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(f,m.targetId).next(function(y){c=y})}).next(function(){return o.xn.getDocumentsMatchingQuery(f,t,e?s:at.min(),e?c:Nt())}).next(function(m){return{documents:m,Bn:c}});var m,y,b,C,D})}function lp(i,t){var e=Se(i),o=Se(e.qe),s=e.Fn.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",function(c){return o.lt(c,t).next(function(f){return f?f.target:null})})}function vy(i){var t=Se(i);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return s=e,c=t.$n,f=Se(t.On),m=lt(),y=Xf(c),b=Ns(s),C=IDBKeyRange.lowerBound(y,!0),b.$t({index:un.readTimeIndex,range:C},function(D,T){var A=sy(f.R,T);m=m.insert(A.key,A),y=T.readTime}).next(function(){return{wn:m,readTime:PC(y)}});var s,c,f,m,y,b,C}).then(function(e){var o=e.wn;return t.$n=e.readTime,o})}function by(i){return(0,x.mG)(this,void 0,void 0,function(){var t;return(0,x.Jh)(this,function(e){return[2,(t=Se(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return c=Ns(o),f=at.min(),c.$t({index:un.readTimeIndex,reverse:!0},function(m,y,b){y.readTime&&(f=PC(y.readTime)),b.done()}).next(function(){return f});var c,f}).then(function(o){t.$n=o})]})})}function wy(i,t,e,o){return(0,x.mG)(this,void 0,void 0,function(){var s,c,f,m,y,b,C,D,T,A;return(0,x.Jh)(this,function(R){switch(R.label){case 0:for(s=Se(i),c=Nt(),f=lt(),m=Hf(),y=0,b=e;y<b.length;y++)D=t.qn((C=b[y]).metadata.name),C.document&&(c=c.add(D)),f=f.insert(D,t.Un(C)),m=m.insert(D,t.Kn(C.metadata.readTime));return T=s.On.newChangeBuffer({trackRemovals:!0}),[4,Ps(s,(V=o,Ti(Ss(Ct.fromString("__bundle__/docs/"+V)))))];case 1:return A=R.sent(),[2,s.persistence.runTransaction("Apply bundle documents","readwrite",function(V){return WC(V,T,f,at.min(),m).next(function(Z){return T.apply(V),Z}).next(function(Z){return s.qe.removeMatchingKeysForTargetId(V,A.targetId).next(function(){return s.qe.addMatchingKeys(V,c,A.targetId)}).next(function(){return s.Mn.En(V,Z)}).next(function(){return Z})})})]}var V})})}function Cy(i,t,e){return void 0===e&&(e=Nt()),(0,x.mG)(this,void 0,void 0,function(){var o,s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,Ps(i,Ti(uy(t.bundledQuery)))];case 1:return o=c.sent(),[2,(s=Se(i)).persistence.runTransaction("Save named query","readwrite",function(f){var m=tr(t.readTime);if(o.snapshotVersion.compareTo(m)>=0)return s.Ke.saveNamedQuery(f,t);var y=o.withResumeToken(Ar.EMPTY_BYTE_STRING,m);return s.Fn=s.Fn.insert(y.targetId,y),s.qe.updateTargetData(f,y).next(function(){return s.qe.removeMatchingKeysForTargetId(f,o.targetId)}).next(function(){return s.qe.addMatchingKeys(f,e,o.targetId)}).next(function(){return s.Ke.saveNamedQuery(f,t)})})]}})})}var TA=function(){function i(t){this.R=t,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(t,e){return ve.resolve(this.Qn.get(e))},i.prototype.saveBundleMetadata=function(t,e){var o;return this.Qn.set(e.id,{id:(o=e).id,version:o.version,createTime:tr(o.createTime)}),ve.resolve()},i.prototype.getNamedQuery=function(t,e){return ve.resolve(this.jn.get(e))},i.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(o=e).name,query:uy(o.bundledQuery),readTime:tr(o.readTime)}),ve.resolve();var o},i}(),up=function(){function i(){this.Wn=new er($n.Gn),this.zn=new er($n.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(t,e){var o=new $n(t,e);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},i.prototype.Jn=function(t,e){var o=this;t.forEach(function(s){return o.addReference(s,e)})},i.prototype.removeReference=function(t,e){this.Yn(new $n(t,e))},i.prototype.Xn=function(t,e){var o=this;t.forEach(function(s){return o.removeReference(s,e)})},i.prototype.Zn=function(t){var e=this,o=new Ue(new Ct([])),s=new $n(o,t),c=new $n(o,t+1),f=[];return this.zn.forEachInRange([s,c],function(m){e.Yn(m),f.push(m.key)}),f},i.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},i.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},i.prototype.es=function(t){var e=new Ue(new Ct([])),o=new $n(e,t),s=new $n(e,t+1),c=Nt();return this.zn.forEachInRange([o,s],function(f){c=c.add(f.key)}),c},i.prototype.containsKey=function(t){var e=new $n(t,0),o=this.Wn.firstAfterOrEqual(e);return null!==o&&t.isEqual(o.key)},i}(),$n=function(){function i(t,e){this.key=t,this.ns=e}return i.Gn=function(t,e){return Ue.comparator(t.key,e.key)||bt(t.ns,e.ns)},i.Hn=function(t,e){return bt(t.ns,e.ns)||Ue.comparator(t.key,e.key)},i}(),Ey=function(){function i(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new er($n.Gn)}return i.prototype.checkEmpty=function(t){return ve.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(t,e,o,s){var c=this.ss;this.ss++;var f=new Qf(c,e,o,s);this._n.push(f);for(var m=0,y=s;m<y.length;m++){var b=y[m];this.rs=this.rs.add(new $n(b.key,c)),this.Ut.addToCollectionParentIndex(t,b.key.path.popLast())}return ve.resolve(f)},i.prototype.lookupMutationBatch=function(t,e){return ve.resolve(this.os(e))},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var s=this.cs(e+1),c=s<0?0:s;return ve.resolve(this._n.length>c?this._n[c]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return ve.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(t){return ve.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var o=this,s=new $n(e,0),c=new $n(e,Number.POSITIVE_INFINITY),f=[];return this.rs.forEachInRange([s,c],function(m){var y=o.os(m.ns);f.push(y)}),ve.resolve(f)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var o=this,s=new er(bt);return e.forEach(function(c){var f=new $n(c,0),m=new $n(c,Number.POSITIVE_INFINITY);o.rs.forEachInRange([f,m],function(y){s=s.add(y.ns)})}),ve.resolve(this.us(s))},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=e.path,s=o.length+1,c=o;Ue.isDocumentKey(c)||(c=c.child(""));var f=new $n(new Ue(c),0),m=new er(bt);return this.rs.forEachWhile(function(y){var b=y.key.path;return!!o.isPrefixOf(b)&&(b.length===s&&(m=m.add(y.ns)),!0)},f),ve.resolve(this.us(m))},i.prototype.us=function(t){var e=this,o=[];return t.forEach(function(s){var c=e.os(s);null!==c&&o.push(c)}),o},i.prototype.removeMutationBatch=function(t,e){var o=this;Je(0===this.hs(e.batchId,"removed")),this._n.shift();var s=this.rs;return ve.forEach(e.mutations,function(c){var f=new $n(c.key,e.batchId);return s=s.delete(f),o.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(function(){o.rs=s})},i.prototype.Gt=function(t){},i.prototype.containsKey=function(t,e){var o=new $n(e,0),s=this.rs.firstAfterOrEqual(o);return ve.resolve(e.isEqual(s&&s.key))},i.prototype.performConsistencyCheck=function(t){return ve.resolve()},i.prototype.hs=function(t,e){return this.cs(t)},i.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},i.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},i}(),ZC=function(){function i(t,e){this.Ut=t,this.ls=e,this.docs=new br(Ue.comparator),this.size=0}return i.prototype.addEntry=function(t,e,o){var s=e.key,c=this.docs.get(s),f=c?c.size:0,m=this.ls(e);return this.docs=this.docs.insert(s,{document:e.clone(),size:m,readTime:o}),this.size+=m-f,this.Ut.addToCollectionParentIndex(t,s.path.popLast())},i.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},i.prototype.getEntry=function(t,e){var o=this.docs.get(e);return ve.resolve(o?o.document.clone():ar.newInvalidDocument(e))},i.prototype.getEntries=function(t,e){var o=this,s=lt();return e.forEach(function(c){var f=o.docs.get(c);s=s.insert(c,f?f.document.clone():ar.newInvalidDocument(c))}),ve.resolve(s)},i.prototype.getDocumentsMatchingQuery=function(t,e,o){for(var s=lt(),c=new Ue(e.path.child("")),f=this.docs.getIteratorFrom(c);f.hasNext();){var m=f.getNext(),b=m.value,C=b.document,D=b.readTime;if(!e.path.isPrefixOf(m.key.path))break;D.compareTo(o)<=0||Da(e,C)&&(s=s.insert(C.key,C.clone()))}return ve.resolve(s)},i.prototype.fs=function(t,e){return ve.forEach(this.docs,function(o){return e(o)})},i.prototype.newChangeBuffer=function(t){return new MA(this)},i.prototype.getSize=function(t){return ve.resolve(this.size)},i}(),MA=function(i){function t(e){var o=this;return(o=i.call(this)||this).Ie=e,o}return(0,x.ZT)(t,i),t.prototype.applyChanges=function(e){var o=this,s=[];return this.changes.forEach(function(c,f){f.document.isValidDocument()?s.push(o.Ie.addEntry(e,f.document,o.getReadTime(c))):o.Ie.removeEntry(c)}),ve.waitFor(s)},t.prototype.getFromCache=function(e,o){return this.Ie.getEntry(e,o)},t.prototype.getAllFromCache=function(e,o){return this.Ie.getEntries(e,o)},t}(zC),KC=function(){function i(t){this.persistence=t,this.ds=new Fa(function(e){return rd(e)},R_),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.ws=0,this._s=new up,this.targetCount=0,this.ys=dy.Jt()}return i.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(o,s){return e(s)}),ve.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(t){return ve.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(t){return ve.resolve(this.ws)},i.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ve.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(t,e,o){return o&&(this.lastRemoteSnapshotVersion=o),e>this.ws&&(this.ws=e),ve.resolve()},i.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new dy(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},i.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ve.resolve()},i.prototype.updateTargetData=function(t,e){return this.te(e),ve.resolve()},i.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ve.resolve()},i.prototype.removeTargets=function(t,e,o){var s=this,c=0,f=[];return this.ds.forEach(function(m,y){y.sequenceNumber<=e&&null===o.get(y.targetId)&&(s.ds.delete(m),f.push(s.removeMatchingKeysForTargetId(t,y.targetId)),c++)}),ve.waitFor(f).next(function(){return c})},i.prototype.getTargetCount=function(t){return ve.resolve(this.targetCount)},i.prototype.getTargetData=function(t,e){var o=this.ds.get(e)||null;return ve.resolve(o)},i.prototype.addMatchingKeys=function(t,e,o){return this._s.Jn(e,o),ve.resolve()},i.prototype.removeMatchingKeys=function(t,e,o){this._s.Xn(e,o);var s=this.persistence.referenceDelegate,c=[];return s&&e.forEach(function(f){c.push(s.markPotentiallyOrphaned(t,f))}),ve.waitFor(c)},i.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ve.resolve()},i.prototype.getMatchingKeysForTargetId=function(t,e){var o=this._s.es(e);return ve.resolve(o)},i.prototype.containsKey=function(t,e){return ve.resolve(this._s.containsKey(e))},i}(),QC=function(){function i(t,e){var o=this;this.gs={},this.Ne=new ni(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new KC(this),this.Ut=new VC,this.Ue=new ZC(this.Ut,function(f){return o.referenceDelegate.ps(f)}),this.R=new oy(e),this.Ke=new TA(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Ey(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,o){var s=this;Ce("MemoryPersistence","Starting transaction:",t);var c=new JC(this.Ne.next());return this.referenceDelegate.Es(),o(c).next(function(f){return s.referenceDelegate.Ts(c).next(function(){return f})}).toPromise().then(function(f){return c.raiseOnCommittedEvent(),f})},i.prototype.Is=function(t,e){return ve.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(t,e)}}))},i}(),JC=function(i){function t(e){var o=this;return(o=i.call(this)||this).currentSequenceNumber=e,o}return(0,x.ZT)(t,i),t}(xa),Sy=function(){function i(t){this.persistence=t,this.As=new up,this.Rs=null}return i.bs=function(t){return new i(t)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ge()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(t,e,o){return this.As.addReference(o,e),this.vs.delete(o.toString()),ve.resolve()},i.prototype.removeReference=function(t,e,o){return this.As.removeReference(o,e),this.vs.add(o.toString()),ve.resolve()},i.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ve.resolve()},i.prototype.removeTarget=function(t,e){var o=this;this.As.Zn(e.targetId).forEach(function(c){return o.vs.add(c.toString())});var s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(function(c){c.forEach(function(f){return o.vs.add(f.toString())})}).next(function(){return s.removeTargetData(t,e)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(t){var e=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.vs,function(s){var c=Ue.fromPath(s);return e.Ps(t,c).next(function(f){f||o.removeEntry(c)})}).next(function(){return e.Rs=null,o.apply(t)})},i.prototype.updateLimboDocument=function(t,e){var o=this;return this.Ps(t,e).next(function(s){s?o.vs.delete(e.toString()):o.vs.add(e.toString())})},i.prototype.ps=function(t){return 0},i.prototype.Ps=function(t,e){var o=this;return ve.or([function(){return ve.resolve(o.As.containsKey(e))},function(){return o.persistence.getTargetCache().containsKey(t,e)},function(){return o.persistence.Is(t,e)}])},i}(),xr=function(){function i(t){this.uid=t}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(t){return t.uid===this.uid},i}();function Dy(i,t){return"firestore_clients_"+i+"_"+t}function Ty(i,t,e){var o="firestore_mutations_"+i+"_"+e;return t.isAuthenticated()&&(o+="_"+t.uid),o}function cp(i,t){return"firestore_targets_"+i+"_"+t}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid");var My=function(){function i(t,e,o,s){this.user=t,this.batchId=e,this.state=o,this.error=s}return i.Vs=function(t,e,o){var s,c=JSON.parse(o),f="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return f&&c.error&&(f="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(s=new ge(c.error.code,c.error.message)),f?new i(t,e,c.state,s):(zn("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+o),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),dp=function(){function i(t,e,o){this.targetId=t,this.state=e,this.error=o}return i.Vs=function(t,e){var o,s=JSON.parse(e),c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(o=new ge(s.error.code,s.error.message)),c?new i(t,s.state,o):(zn("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),Ay=function(){function i(t,e){this.clientId=t,this.activeTargetIds=e}return i.Vs=function(t,e){for(var o=JSON.parse(e),s="object"==typeof o&&o.activeTargetIds instanceof Array,c=Gf(),f=0;s&&f<o.activeTargetIds.length;++f)s=Ca(o.activeTargetIds[f]),c=c.add(o.activeTargetIds[f]);return s?new i(t,c):(zn("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},i}(),XC=function(){function i(t,e){this.clientId=t,this.onlineState=e}return i.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new i(e.clientId,e.onlineState):(zn("SharedClientState","Failed to parse online state: "+t),null)},i}(),eE=function(){function i(){this.activeTargetIds=Gf()}return i.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},i.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},i.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},i}(),Iy=function(){function i(t,e,o,s,c){this.window=t,this.Se=e,this.persistenceKey=o,this.Ns=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new br(bt),this.started=!1,this.$s=[];var f=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Os=Dy(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new eE),this.Ls=new RegExp("^firestore_clients_"+f+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+f+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+f+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(m){return"firestore_bundle_loaded_"+m}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(t){return!(!t||!t.localStorage)},i.prototype.start=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o,s,c,f,m,y,b,C,T=this;return(0,x.Jh)(this,function(A){switch(A.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=A.sent(),e=0,o=t;e<o.length;e++)(s=o[e])!==this.Ns&&(c=this.getItem(Dy(this.persistenceKey,s)))&&(f=Ay.Vs(s,c))&&(this.ks=this.ks.insert(f.clientId,f));for(this.Qs(),(m=this.storage.getItem(this.Us))&&(y=this.js(m))&&this.Ws(y),b=0,C=this.$s;b<C.length;b++)this.Fs(C[b]);return this.$s=[],this.window.addEventListener("pagehide",function(){return T.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},i.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(o,s){s.activeTargetIds.has(t)&&(e=!0)}),e},i.prototype.addPendingMutation=function(t){this.zs(t,"pending")},i.prototype.updateMutationState=function(t,e,o){this.zs(t,e,o),this.Hs(t)},i.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var o=this.storage.getItem(cp(this.persistenceKey,t));if(o){var s=dp.Vs(t,o);s&&(e=s.state)}}return this.Js.Ds(t),this.Qs(),e},i.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},i.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){this.removeItem(cp(this.persistenceKey,t))},i.prototype.updateQueryState=function(t,e,o){this.Ys(t,e,o)},i.prototype.handleUserChange=function(t,e,o){var s=this;e.forEach(function(c){s.Hs(c)}),this.currentUser=t,o.forEach(function(c){s.addPendingMutation(c)})},i.prototype.setOnlineState=function(t){this.Xs(t)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ce("SharedClientState","READ",t,e),e},i.prototype.setItem=function(t,e){Ce("SharedClientState","SET",t,e),this.storage.setItem(t,e)},i.prototype.removeItem=function(t){Ce("SharedClientState","REMOVE",t),this.storage.removeItem(t)},i.prototype.Fs=function(t){var e=this,o=t;if(o.storageArea===this.storage){if(Ce("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void zn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,x.mG)(e,void 0,void 0,function(){var s,c,f,m,y,b;return(0,x.Jh)(this,function(C){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return s=this.ti(o.key),[2,this.ei(s,null)];if(c=this.ni(o.key,o.newValue))return[2,this.ei(c.clientId,c)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(f=this.si(o.key,o.newValue)))return[2,this.ii(f)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(m=this.ri(o.key,o.newValue)))return[2,this.oi(m)]}else if(o.key===this.Us){if(null!==o.newValue&&(y=this.js(o.newValue)))return[2,this.Ws(y)]}else if(o.key===this.Ms)(b=function(D){var T=ni.o;if(null!=D)try{var A=JSON.parse(D);Je("number"==typeof A),T=A}catch(R){zn("SharedClientState","Failed to read sequence number from WebStorage",R)}return T}(o.newValue))!==ni.o&&this.sequenceNumberHandler(b);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(t,e,o){var s=new My(this.currentUser,t,e,o),c=Ty(this.persistenceKey,this.currentUser,t);this.setItem(c,s.Ss())},i.prototype.Hs=function(t){var e=Ty(this.persistenceKey,this.currentUser,t);this.removeItem(e)},i.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},i.prototype.Ys=function(t,e,o){var s=cp(this.persistenceKey,t),c=new dp(t,e,o);this.setItem(s,c.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},i.prototype.ni=function(t,e){var o=this.ti(t);return Ay.Vs(o,e)},i.prototype.si=function(t,e){var o=this.Bs.exec(t),s=Number(o[1]);return My.Vs(new xr(void 0!==o[2]?o[2]:null),s,e)},i.prototype.ri=function(t,e){var o=this.qs.exec(t),s=Number(o[1]);return dp.Vs(s,e)},i.prototype.js=function(t){return XC.Vs(t)},i.prototype.ii=function(t){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ce("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},i.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},i.prototype.ei=function(t,e){var o=this,s=e?this.ks.insert(t,e):this.ks.remove(t),c=this.Gs(this.ks),f=this.Gs(s),m=[],y=[];return f.forEach(function(b){c.has(b)||m.push(b)}),c.forEach(function(b){f.has(b)||y.push(b)}),this.syncEngine.hi(m,y).then(function(){o.ks=s})},i.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},i.prototype.Gs=function(t){var e=Gf();return t.forEach(function(o,s){e=e.unionWith(s.activeTargetIds)}),e},i}(),tE=function(){function i(){this.li=new eE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(t){},i.prototype.updateMutationState=function(t,e,o){},i.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},i.prototype.updateQueryState=function(t,e,o){this.fi[t]=e},i.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},i.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){delete this.fi[t]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.start=function(){return this.li=new eE,Promise.resolve()},i.prototype.handleUserChange=function(t,e,o){},i.prototype.setOnlineState=function(t){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(t){},i.prototype.notifyBundleLoaded=function(){},i}(),nE=function(){function i(){}return i.prototype.di=function(t){},i.prototype.shutdown=function(){},i}(),rE=function(){function i(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return i.prototype.di=function(t){this.gi.push(t)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},i.prototype.yi=function(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),Yn={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},iE=function(){function i(t){this.Ei=t.Ei,this.Ti=t.Ti}return i.prototype.Ii=function(t){this.Ai=t},i.prototype.Ri=function(t){this.bi=t},i.prototype.onMessage=function(t){this.vi=t},i.prototype.close=function(){this.Ti()},i.prototype.send=function(t){this.Ei(t)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(t){this.bi(t)},i.prototype.Si=function(t){this.vi(t)},i}(),AA=function(i){function t(e){var o=this;return(o=i.call(this,e)||this).forceLongPolling=e.forceLongPolling,o.autoDetectLongPolling=e.autoDetectLongPolling,o.useFetchStreams=e.useFetchStreams,o}return(0,x.ZT)(t,i),t.prototype.ki=function(e,o,s,c){return new Promise(function(f,m){var y=new iC;y.listenOnce(Eo.COMPLETE,function(){try{switch(y.getLastErrorCode()){case D_.NO_ERROR:var C=y.getResponseJson();Ce("Connection","XHR received:",JSON.stringify(C)),f(C);break;case D_.TIMEOUT:Ce("Connection",'RPC "'+e+'" timed out'),m(new ge(se.DEADLINE_EXCEEDED,"Request time out"));break;case D_.HTTP_ERROR:var D=y.getStatus();if(Ce("Connection",'RPC "'+e+'" failed with status:',D,"response text:",y.getResponseText()),D>0){var T=y.getResponseJson().error;if(T&&T.status&&T.message){var A=(V=T.status.toLowerCase().replace(/_/g,"-"),Object.values(se).indexOf(V)>=0?V:se.UNKNOWN);m(new ge(A,T.message))}else m(new ge(se.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ge(se.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Ce("Connection",'RPC "'+e+'" completed.')}var V});var b=JSON.stringify(c);y.send(o,"POST",b,s,15)})},t.prototype.Oi=function(e,o){var s=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=new Zl,f=ms(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Mf({})),this.Fi(m.initMessageHeaders,o),(0,It.uI)()||(0,It.b$)()||(0,It.d)()||(0,It.w1)()||(0,It.Mn)()||(0,It.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");var y=s.join("");Ce("Connection","Creating WebChannel: "+y,m);var b=c.createWebChannel(y,m),C=!1,D=!1,T=new iE({Ei:function(R){D?Ce("Connection","Not sending because WebChannel is closed:",R):(C||(Ce("Connection","Opening WebChannel transport."),b.open(),C=!0),Ce("Connection","WebChannel sending:",R),b.send(R))},Ti:function(){return b.close()}}),A=function(R,V,Z){R.listen(V,function(le){try{Z(le)}catch(me){setTimeout(function(){throw me},0)}})};return A(b,Af.EventType.OPEN,function(){D||Ce("Connection","WebChannel transport opened.")}),A(b,Af.EventType.CLOSE,function(){D||(D=!0,Ce("Connection","WebChannel transport closed"),T.Vi())}),A(b,Af.EventType.ERROR,function(R){D||(D=!0,If("Connection","WebChannel transport errored:",R),T.Vi(new ge(se.UNAVAILABLE,"The operation could not be completed")))}),A(b,Af.EventType.MESSAGE,function(R){var V;if(!D){var Z=R.data[0];Je(!!Z);var me=Z.error||(null===(V=Z[0])||void 0===V?void 0:V.error);if(me){Ce("Connection","WebChannel received error:",me);var we=me.status,Oe=function(ot){var Rt=wn[ot];if(void 0!==Rt)return bC(Rt)}(we),Fe=me.message;void 0===Oe&&(Oe=se.INTERNAL,Fe="Unknown error status: "+we+" with message "+me.message),D=!0,T.Vi(new ge(Oe,Fe)),b.close()}else Ce("Connection","WebChannel received:",Z),T.Si(Z)}}),A(f,Jc.STAT_EVENT,function(R){R.stat===Kl_PROXY?Ce("Connection","Detected buffering proxy"):R.stat===Kl_NOPROXY&&Ce("Connection","Detected no buffering proxy")}),setTimeout(function(){T.Pi()},0),T},t}(function(){function i(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(t,e,o,s){var c=this.xi(t,e);Ce("RestConnection","Sending: ",c,o);var f={};return this.Fi(f,s),this.ki(t,c,f,o).then(function(m){return Ce("RestConnection","Received: ",m),m},function(m){throw If("RestConnection",t+" failed with error: ",m,"url: ",c,"request:",o),m})},i.prototype.$i=function(t,e,o,s){return this.Ni(t,e,o,s)},i.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var o in e.authHeaders)e.authHeaders.hasOwnProperty(o)&&(t[o]=e.authHeaders[o])},i.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Yn[t]},i}());function oE(){return"undefined"!=typeof window?window:null}function Cd(){return"undefined"!=typeof document?document:null}function Ed(i){return new AC(i,!0)}var hp=function(){function i(t,e,o,s,c){void 0===o&&(o=1e3),void 0===s&&(s=1.5),void 0===c&&(c=6e4),this.Se=t,this.timerId=e,this.Mi=o,this.Li=s,this.Bi=c,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(t){var e=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),s=Math.max(0,Date.now()-this.Ki),c=Math.max(0,o-s);c>0&&Ce("ExponentialBackoff","Backing off for "+c+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+s+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,c,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),xy=function(){function i(t,e,o,s,c,f){this.Se=t,this.zi=o,this.Hi=s,this.Ji=c,this.listener=f,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new hp(t,e)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},i.prototype.cr=function(t){this.ur(),this.stream.send(t)},i.prototype.rr=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(t,e){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===se.RESOURCE_EXHAUSTED?(zn(e.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===se.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return o.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(s){t.Yi===o&&t.lr(s)},function(s){e(function(){var c=new ge(se.UNKNOWN,"Fetching auth token failed: "+s.message);return t.dr(c)})})},i.prototype.lr=function(t){var e=this,o=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){o(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(s){o(function(){return e.dr(s)})}),this.stream.onMessage(function(s){o(function(){return e.onMessage(s)})})},i.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,x.mG)(t,void 0,void 0,function(){return(0,x.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(t){return Ce("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},i.prototype.hr=function(t){var e=this;return function(o){e.Se.enqueueAndForget(function(){return e.Yi===t?o():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),du=function(i){function t(e,o,s,c,f){var m=this;return(m=i.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",o,s,f)||this).R=c,m}return(0,x.ZT)(t,i),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var o=function(c,f){var m,Z;if("targetChange"in f){var y="NO_CHANGE"===(Z=f.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Z?1:"REMOVE"===Z?2:"CURRENT"===Z?3:"RESET"===Z?4:Ge(),b=f.targetChange.targetIds||[],C=function(Z,le){return Z.I?(Je(void 0===le||"string"==typeof le),Ar.fromBase64String(le||"")):(Je(void 0===le||le instanceof Uint8Array),Ar.fromUint8Array(le||new Uint8Array))}(c,f.targetChange.resumeToken),D=(T=f.targetChange.cause)&&function(Z){var le=void 0===Z.code?se.UNKNOWN:bC(Z.code);return new ge(le,Z.message||"")}(T);m=new SC(y,b,C,D||null)}else if("documentChange"in f){b=To(c,(y=f.documentChange).document.name),C=tr(y.document.updateTime);var T=new Gr({mapValue:{fields:y.document.fields}}),A=(D=ar.newFoundDocument(b,C,T),y.targetIds||[]);m=new dd(A,y.removedTargetIds||[],D.key,D)}else if("documentDelete"in f)b=To(c,(y=f.documentDelete).document),C=y.readTime?tr(y.readTime):at.min(),T=ar.newNoDocument(b,C),m=new dd([],D=y.removedTargetIds||[],T.key,T);else if("documentRemove"in f)b=To(c,(y=f.documentRemove).document),m=new dd([],C=y.removedTargetIds||[],b,null);else{if(!("filter"in f))return Ge();var V=f.filter;b=new tA(y=V.count||0),m=new Z_(C=V.targetId,b)}return m}(this.R,e),s=function(c){if(!("targetChange"in c))return at.min();var f=c.targetChange;return f.targetIds&&f.targetIds.length?at.min():f.readTime?tr(f.readTime):at.min()}(e);return this.listener._r(o,s)},t.prototype.mr=function(e){var c,f,m,y,o={};o.database=Wf(this.R),o.addTarget=(c=this.R,(m=O_(y=(f=e).target)?{documents:Mi(c,y)}:{query:aA(c,y)}).targetId=f.targetId,f.resumeToken.approximateByteSize()>0?m.resumeToken=IC(c,f.resumeToken):f.snapshotVersion.compareTo(at.min())>0&&(m.readTime=fd(c,f.snapshotVersion.toTimestamp())),m);var s=function(c,f){var m=function(y,b){switch(b){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ge()}}(0,f.purpose);return null==m?null:{"goog-listen-tags":m}}(0,e);s&&(o.labels=s),this.cr(o)},t.prototype.yr=function(e){var o={};o.database=Wf(this.R),o.removeTarget=e,this.cr(o)},t}(xy),IA=function(i){function t(e,o,s,c,f){var m=this;return(m=i.call(this,e,"write_stream_connection_backoff","write_stream_idle",o,s,f)||this).R=c,m.gr=!1,m}return(0,x.ZT)(t,i),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var o=(f=e.commitTime,(c=e.writeResults)&&c.length>0?(Je(void 0!==f),c.map(function(m){return b=f,(C=tr((y=m).updateTime?y.updateTime:b)).isEqual(at.min())&&(C=tr(b)),new AO(C,y.transformResults||[]);var y,b,C})):[]),s=tr(e.commitTime);return this.listener.Tr(s,o)}var c,f;return Je(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Wf(this.R),this.cr(e)},t.prototype.Er=function(e){var o=this,s={streamToken:this.lastStreamToken,writes:e.map(function(c){return pd(o.R,c)})};this.cr(s)},t}(xy),xA=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).credentials=e,c.Hi=o,c.R=s,c.Rr=!1,c}return(0,x.ZT)(t,i),t.prototype.br=function(){if(this.Rr)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,o,s){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.Ni(e,o,s,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===se.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new ge(se.UNKNOWN,f.toString())})},t.prototype.$i=function(e,o,s){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.$i(e,o,s,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===se.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new ge(se.UNKNOWN,f.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),sE=function(){function i(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},i.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},i.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},i.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(zn(e),this.Vr=!1):Ce("OnlineStateTracker",e)},i.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),RA=function(i,t,e,o,s){var c=this;this.localStore=i,this.datastore=t,this.asyncQueue=e,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=s,this.Lr.di(function(f){e.enqueueAndForget(function(){return(0,x.mG)(c,void 0,void 0,function(){return(0,x.Jh)(this,function(m){switch(m.label){case 0:return nr(this)?(Ce("RemoteStore","Restarting streams for network reachability change."),[4,function(y){return(0,x.mG)(this,void 0,void 0,function(){var b;return(0,x.Jh)(this,function(C){switch(C.label){case 0:return(b=Se(y)).Or.add(4),[4,Sd(b)];case 1:return C.sent(),b.Br.set("Unknown"),b.Or.delete(4),[4,hu(b)];case 2:return C.sent(),[2]}})})}(this)]):[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})}),this.Br=new sE(e,o)};function hu(i){return(0,x.mG)(this,void 0,void 0,function(){var t,e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:if(!nr(i))return[3,4];t=0,e=i.Mr,o.label=1;case 1:return t<e.length?[4,(0,e[t])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Sd(i){return(0,x.mG)(this,void 0,void 0,function(){var t,e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:t=0,e=i.Mr,o.label=1;case 1:return t<e.length?[4,(0,e[t])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function fu(i,t){var e=Se(i);e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),Oi(e)?Ry(e):ts(e).er()&&Ri(e,t))}function Na(i,t){var e=Se(i),o=ts(e);e.$r.delete(t),o.er()&&aE(e,t),0===e.$r.size&&(o.er()?o.ir():nr(e)&&e.Br.set("Unknown"))}function Ri(i,t){i.qr.U(t.targetId),ts(i).mr(t)}function aE(i,t){i.qr.U(t),ts(i).yr(t)}function Ry(i){i.qr=new hd({getRemoteKeysForTarget:function(t){return i.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return i.$r.get(t)||null}}),ts(i).start(),i.Br.Sr()}function Oi(i){return nr(i)&&!ts(i).tr()&&i.$r.size>0}function nr(i){return 0===Se(i).Or.size}function ki(i){i.qr=void 0}function lE(i){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){return i.$r.forEach(function(e,o){Ri(i,e)}),[2]})})}function uE(i,t){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(e){return ki(i),Oi(i)?(i.Br.Nr(t),Ry(i)):i.Br.set("Unknown"),[2]})})}function OA(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,s,c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:if(i.Br.set("Online"),!(t instanceof SC&&2===t.state&&t.cause))return[3,6];f.label=1;case 1:return f.trys.push([1,3,,5]),[4,function(m,y){return(0,x.mG)(this,void 0,void 0,function(){var b,C,D,T;return(0,x.Jh)(this,function(A){switch(A.label){case 0:b=y.cause,C=0,D=y.targetIds,A.label=1;case 1:return C<D.length?m.$r.has(T=D[C])?[4,m.remoteSyncer.rejectListen(T,b)]:[3,3]:[3,5];case 2:A.sent(),m.$r.delete(T),m.qr.removeTarget(T),A.label=3;case 3:A.label=4;case 4:return C++,[3,1];case 5:return[2]}})})}(i,t)];case 2:return f.sent(),[3,5];case 3:return o=f.sent(),Ce("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),[4,fp(i,o)];case 4:return f.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof dd?i.qr.X(t):t instanceof Z_?i.qr.rt(t):i.qr.et(t),e.isEqual(at.min()))return[3,13];f.label=7;case 7:return f.trys.push([7,11,,13]),[4,_y(i.localStore)];case 8:return s=f.sent(),e.compareTo(s)>=0?[4,(m=i,y=e,b=m.qr.ut(y),b.targetChanges.forEach(function(C,D){if(C.resumeToken.approximateByteSize()>0){var T=m.$r.get(D);T&&m.$r.set(D,T.withResumeToken(C.resumeToken,y))}}),b.targetMismatches.forEach(function(C){var D=m.$r.get(C);if(D){m.$r.set(C,D.withResumeToken(Ar.EMPTY_BYTE_STRING,D.snapshotVersion)),aE(m,C);var T=new Jf(D.target,C,1,D.sequenceNumber);Ri(m,T)}}),m.remoteSyncer.applyRemoteEvent(b))]:[3,10];case 9:f.sent(),f.label=10;case 10:return[3,13];case 11:return Ce("RemoteStore","Failed to raise snapshot:",c=f.sent()),[4,fp(i,c)];case 12:return f.sent(),[3,13];case 13:return[2]}var m,y,b})})}function fp(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o=this;return(0,x.Jh)(this,function(s){switch(s.label){case 0:if(!Rs(t))throw t;return i.Or.add(1),[4,Sd(i)];case 1:return s.sent(),i.Br.set("Offline"),e||(e=function(){return _y(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,x.mG)(o,void 0,void 0,function(){return(0,x.Jh)(this,function(c){switch(c.label){case 0:return Ce("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return c.sent(),i.Or.delete(1),[4,hu(i)];case 2:return c.sent(),[2]}})})}),[2]}})})}function cE(i,t){return t().catch(function(e){return fp(i,e,t)})}function pu(i){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o,s,c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:t=Se(i),e=Ls(t),o=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,f.label=1;case 1:if(!(nr(m=t)&&m.kr.length<10))return[3,7];f.label=2;case 2:return f.trys.push([2,4,,6]),[4,yy(t.localStore,o)];case 3:return null===(s=f.sent())?(0===t.kr.length&&e.ir(),[3,7]):(o=s.batchId,function(m,y){m.kr.push(y);var b=Ls(m);b.er()&&b.pr&&b.Er(y.mutations)}(t,s),[3,6]);case 4:return c=f.sent(),[4,fp(t,c)];case 5:return f.sent(),[3,6];case 6:return[3,1];case 7:return pp(t)&&gu(t),[2]}var m})})}function pp(i){return nr(i)&&!Ls(i).tr()&&i.kr.length>0}function gu(i){Ls(i).start()}function kA(i){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){return Ls(i).Ar(),[2]})})}function dE(i){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o;return(0,x.Jh)(this,function(c){for(t=Ls(i),e=0,o=i.kr;e<o.length;e++)t.Er(o[e].mutations);return[2]})})}function FA(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return o=i.kr.shift(),s=NC.from(o,t,e),[4,cE(i,function(){return i.remoteSyncer.applySuccessfulWrite(s)})];case 1:return c.sent(),[4,pu(i)];case 2:return c.sent(),[2]}})})}function hE(i,t){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(e){switch(e.label){case 0:return t&&Ls(i).pr?[4,function(o,s){return(0,x.mG)(this,void 0,void 0,function(){var c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:return Ma(f=s.code)&&f!==se.ABORTED?(c=o.kr.shift(),Ls(o).sr(),[4,cE(o,function(){return o.remoteSyncer.rejectFailedWrite(c.batchId,s)})]):[3,3];case 1:return m.sent(),[4,pu(o)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}(i,t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return pp(i)&&gu(i),[2]}})})}function gp(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return e=Se(i),t?(e.Or.delete(2),[4,hu(e)]):[3,2];case 1:return o.sent(),[3,5];case 2:return t?[3,4]:(e.Or.add(2),[4,Sd(e)]);case 3:o.sent(),e.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function ts(i){var e,o,s,c,t=this;return i.Ur||(i.Ur=(e=i.datastore,o=i.asyncQueue,s={Ii:lE.bind(null,i),Ri:uE.bind(null,i),_r:OA.bind(null,i)},(c=Se(e)).br(),new du(o,c.Hi,c.credentials,c.R,s)),i.Mr.push(function(e){return(0,x.mG)(t,void 0,void 0,function(){return(0,x.Jh)(this,function(o){switch(o.label){case 0:return e?(i.Ur.sr(),Oi(i)?Ry(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:o.sent(),ki(i),o.label=3;case 3:return[2]}})})})),i.Ur}function Ls(i){var e,o,s,c,t=this;return i.Kr||(i.Kr=(e=i.datastore,o=i.asyncQueue,s={Ii:kA.bind(null,i),Ri:hE.bind(null,i),Ir:dE.bind(null,i),Tr:FA.bind(null,i)},(c=Se(e)).br(),new IA(o,c.Hi,c.credentials,c.R,s)),i.Mr.push(function(e){return(0,x.mG)(t,void 0,void 0,function(){return(0,x.Jh)(this,function(o){switch(o.label){case 0:return e?(i.Kr.sr(),[4,pu(i)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:o.sent(),i.kr.length>0&&(Ce("RemoteStore","Stopping write stream with "+i.kr.length+" pending writes"),i.kr=[]),o.label=4;case 4:return[2]}})})})),i.Kr}var fE=function(){function i(t,e,o,s,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=o,this.op=s,this.removalCallback=c,this.deferred=new En,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(f){})}return i.createAndSchedule=function(t,e,o,s,c){var f=new i(t,e,Date.now()+o,s,c);return f.start(o),f},i.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},i.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function Pa(i,t){if(zn("AsyncQueue",t+": "+i),Rs(i))return new ge(se.UNAVAILABLE,t+": "+i);throw i}var mp=function(){function i(t){this.comparator=t?function(e,o){return t(e,o)||Ue.comparator(e.key,o.key)}:function(e,o){return Ue.comparator(e.key,o.key)},this.keyedMap=EC(),this.sortedSet=new br(this.comparator)}return i.emptySet=function(t){return new i(t.comparator)},i.prototype.has=function(t){return null!=this.keyedMap.get(t)},i.prototype.get=function(t){return this.keyedMap.get(t)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,o){return t(e),!1})},i.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},i.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();e.hasNext();){var s=e.getNext().key,c=o.getNext().key;if(!s.isEqual(c))return!1}return!0},i.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},i.prototype.copy=function(t,e){var o=new i;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=e,o},i}(),Dd=function(){function i(){this.Qr=new br(Ue.comparator)}return i.prototype.track=function(t){var e=t.doc.key,o=this.Qr.get(e);o?0!==t.type&&3===o.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==o.type?this.Qr=this.Qr.insert(e,{type:o.type,doc:t.doc}):2===t.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===o.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===o.type?this.Qr=this.Qr.remove(e):1===t.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:1,doc:o.doc}):0===t.type&&1===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Ge():this.Qr=this.Qr.insert(e,t)},i.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,o){t.push(o)}),t},i}(),mu=function(){function i(t,e,o,s,c,f,m,y){this.query=t,this.docs=e,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y}return i.fromInitialDocuments=function(t,e,o,s){var c=[];return e.forEach(function(f){c.push({type:0,doc:f})}),new i(t,e,mp.emptySet(e),c,o,s,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,o=t.docChanges;if(e.length!==o.length)return!1;for(var s=0;s<e.length;s++)if(e[s].type!==o[s].type||!e[s].doc.isEqual(o[s].doc))return!1;return!0},i}(),pE=function(){this.Wr=void 0,this.listeners=[]},gE=function(){this.queries=new Fa(function(i){return hC(i)},sd),this.onlineState="Unknown",this.Gr=new Set};function _p(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,s,c,f,m,y;return(0,x.Jh)(this,function(b){switch(b.label){case 0:if(e=Se(i),s=!1,(c=e.queries.get(o=t.query))||(s=!0,c=new pE),!s)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),f=c,[4,e.onListen(o)];case 2:return f.Wr=b.sent(),[3,4];case 3:return m=b.sent(),y=Pa(m,"Initialization of query '"+tu(t.query)+"' failed"),[2,void t.onError(y)];case 4:return e.queries.set(o,c),c.listeners.push(t),t.zr(e.onlineState),c.Wr&&t.Hr(c.Wr)&&vp(e),[2]}})})}function yp(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,s,c,f;return(0,x.Jh)(this,function(m){return e=Se(i),s=!1,(c=e.queries.get(o=t.query))&&(f=c.listeners.indexOf(t))>=0&&(c.listeners.splice(f,1),s=0===c.listeners.length),s?[2,(e.queries.delete(o),e.onUnlisten(o))]:[2]})})}function mE(i,t){for(var e=Se(i),o=!1,s=0,c=t;s<c.length;s++){var f=c[s],y=e.queries.get(f.query);if(y){for(var b=0,C=y.listeners;b<C.length;b++)C[b].Hr(f)&&(o=!0);y.Wr=f}}o&&vp(e)}function _E(i,t,e){var o=Se(i),s=o.queries.get(t);if(s)for(var c=0,f=s.listeners;c<f.length;c++)f[c].onError(e);o.queries.delete(t)}function vp(i){i.Gr.forEach(function(t){t.next()})}var Oy=function(){function i(t,e,o){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return i.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],o=0,s=t.docChanges;o<s.length;o++){var c=s[o];3!==c.type&&e.push(c)}t=new mu(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var f=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),f=!0):this.eo(t,this.onlineState)&&(this.no(t),f=!0),this.Xr=t,f},i.prototype.onError=function(t){this.Jr.error(t)},i.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},i.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},i.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(t){t=mu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},i}(),NA=function(){function i(t,e){this.payload=t,this.byteLength=e}return i.prototype.io=function(){return"metadata"in this.payload},i}(),yE=function(){function i(t){this.R=t}return i.prototype.qn=function(t){return To(this.R,t)},i.prototype.Un=function(t){return t.metadata.exists?J_(this.R,t.document,!1):ar.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},i.prototype.Kn=function(t){return tr(t)},i}();!function(){function i(t,e,o){this.ro=t,this.localStore=e,this.R=o,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(t)}i.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},i.prototype.co=function(t){for(var e=new Map,o=new yE(this.R),s=0,c=t;s<c.length;s++){var f=c[s];if(f.metadata.queries)for(var m=o.qn(f.metadata.name),y=0,b=f.metadata.queries;y<b.length;y++){var C=b[y],D=(e.get(C)||Nt()).add(m);e.set(C,D)}}return e},i.prototype.complete=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o,s,c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return[4,wy(this.localStore,new yE(this.R),this.documents,this.ro.id)];case 1:t=f.sent(),e=this.co(this.documents),o=0,s=this.queries,f.label=2;case 2:return o<s.length?[4,Cy(this.localStore,c=s[o],e.get(c.name))]:[3,5];case 3:f.sent(),f.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new xO(Object.assign({},this.progress),t))]}})})}}();var bE=function(i){this.key=i},wE=function(i){this.key=i},CE=function(){function i(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Nt(),this.mutatedKeys=Nt(),this.lo=fC(t),this.fo=new mp(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(t,e){var o=this,s=e?e.mo:new Dd,c=e?e.fo:this.fo,f=e?e.mutatedKeys:this.mutatedKeys,m=c,y=!1,b=Ff(this.query)&&c.size===this.query.limit?c.last():null,C=Nf(this.query)&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal(function(T,A){var R=c.get(T),V=Da(o.query,A)?A:null,Z=!!R&&o.mutatedKeys.has(R.key),le=!!V&&(V.hasLocalMutations||o.mutatedKeys.has(V.key)&&V.hasCommittedMutations),me=!1;R&&V?R.data.isEqual(V.data)?Z!==le&&(s.track({type:3,doc:V}),me=!0):o.yo(R,V)||(s.track({type:2,doc:V}),me=!0,(b&&o.lo(V,b)>0||C&&o.lo(V,C)<0)&&(y=!0)):!R&&V?(s.track({type:0,doc:V}),me=!0):R&&!V&&(s.track({type:1,doc:R}),me=!0,(b||C)&&(y=!0)),me&&(V?(m=m.add(V),f=le?f.add(T):f.delete(T)):(m=m.delete(T),f=f.delete(T)))}),Ff(this.query)||Nf(this.query))for(;m.size>this.query.limit;){var D=Ff(this.query)?m.last():m.first();m=m.delete(D.key),f=f.delete(D.key),s.track({type:1,doc:D})}return{fo:m,mo:s,Nn:y,mutatedKeys:f}},i.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},i.prototype.applyChanges=function(t,e,o){var s=this,c=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var f=t.mo.jr();f.sort(function(C,D){return A=D.type,(R=function(V){switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}})(C.type)-R(A)||s.lo(C.doc,D.doc);var A,R}),this.po(o);var m=e?this.Eo():[],y=0===this.ho.size&&this.current?1:0,b=y!==this.ao;return this.ao=y,0!==f.length||b?{snapshot:new mu(this.query,t.fo,c,f,t.mutatedKeys,0===y,b,!1),To:m}:{To:m}},i.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Dd,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},i.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(o){return e.uo=e.uo.add(o)}),t.modifiedDocuments.forEach(function(o){}),t.removedDocuments.forEach(function(o){return e.uo=e.uo.delete(o)}),this.current=t.current)},i.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Nt(),this.fo.forEach(function(s){t.Io(s.key)&&(t.ho=t.ho.add(s.key))});var o=[];return e.forEach(function(s){t.ho.has(s)||o.push(new wE(s))}),this.ho.forEach(function(s){e.has(s)||o.push(new bE(s))}),o},i.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Nt();var e=this._o(t.documents);return this.applyChanges(e,!0)},i.prototype.Ro=function(){return mu.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),LA=function(i,t,e){this.query=i,this.targetId=t,this.view=e},VA=function(i){this.key=i,this.bo=!1},BA=function(){function i(t,e,o,s,c,f){this.localStore=t,this.remoteStore=e,this.eventManager=o,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.vo={},this.Po=new Fa(function(m){return hC(m)},sd),this.Vo=new Map,this.So=new Set,this.Do=new br(Ue.comparator),this.Co=new Map,this.No=new up,this.xo={},this.Fo=new Map,this.ko=dy.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function UA(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,s,c,f,m;return(0,x.Jh)(this,function(y){switch(y.label){case 0:return e=Ly(i),(c=e.Po.get(t))?(e.sharedClientState.addLocalQueryTarget(c.targetId),s=c.view.Ro(),[3,4]):[3,1];case 1:return[4,Ps(e.localStore,Ti(t))];case 2:return f=y.sent(),m=e.sharedClientState.addLocalQueryTarget(f.targetId),[4,ky(e,t,f.targetId,"current"===m)];case 3:s=y.sent(),e.isPrimaryClient&&fu(e.remoteStore,f),y.label=4;case 4:return[2,s]}})})}function ky(i,t,e,o){return(0,x.mG)(this,void 0,void 0,function(){var s,c,f,m,y,b;return(0,x.Jh)(this,function(C){switch(C.label){case 0:return i.Oo=function(D,T,A){return function(R,V,Z,le){return(0,x.mG)(this,void 0,void 0,function(){var me,we,Oe;return(0,x.Jh)(this,function(Fe){switch(Fe.label){case 0:return(me=V.view._o(Z)).Nn?[4,wd(R.localStore,V.query,!1).then(function(ot){return V.view._o(ot.documents,me)})]:[3,2];case 1:me=Fe.sent(),Fe.label=2;case 2:return we=le&&le.targetChanges.get(V.targetId),Oe=V.view.applyChanges(me,R.isPrimaryClient,we),[2,(Cp(R,V.targetId,Oe.To),Oe.snapshot)]}})})}(i,D,T,A)},[4,wd(i.localStore,t,!0)];case 1:return s=C.sent(),c=new CE(t,s.Bn),f=c._o(s.documents),m=zf.createSynthesizedTargetChangeForCurrentChange(e,o&&"Offline"!==i.onlineState),y=c.applyChanges(f,i.isPrimaryClient,m),Cp(i,e,y.To),b=new LA(t,e,c),[2,(i.Po.set(t,b),i.Vo.has(e)?i.Vo.get(e).push(t):i.Vo.set(e,[t]),y.snapshot)]}})})}function jA(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return e=Se(i),o=e.Po.get(t),(s=e.Vo.get(o.targetId)).length>1?[2,(e.Vo.set(o.targetId,s.filter(function(f){return!sd(f,t)})),void e.Po.delete(t))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(o.targetId),e.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,cu(e.localStore,o.targetId,!1).then(function(){e.sharedClientState.clearQueryState(o.targetId),Na(e.remoteStore,o.targetId),La(e,o.targetId)}).catch(xi)]):[3,3];case 1:c.sent(),c.label=2;case 2:return[3,5];case 3:return La(e,o.targetId),[4,cu(e.localStore,o.targetId,!0)];case 4:c.sent(),c.label=5;case 5:return[2]}})})}function HA(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,s,c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:o=Vy(i),m.label=1;case 1:return m.trys.push([1,5,,6]),[4,(y=o.localStore,b=t,D=Se(y),T=vn.now(),A=b.reduce(function(R,V){return R.add(V.key)},Nt()),D.persistence.runTransaction("Locally write mutations","readwrite",function(R){return D.Mn.pn(R,A).next(function(V){C=V;for(var Z=[],le=0,me=b;le<me.length;le++){var we=me[le],Oe=q_(we,C.get(we.key));null!=Oe&&Z.push(new As(we.key,Oe,lC(Oe.value.mapValue),bn.exists(!0)))}return D._n.addMutationBatch(R,T,Z,b)})}).then(function(R){return R.applyToLocalDocumentSet(C),{batchId:R.batchId,changes:C}}))];case 2:return s=m.sent(),o.sharedClientState.addPendingMutation(s.batchId),function(y,b,C){var D=y.xo[y.currentUser.toKey()];D||(D=new br(bt)),D=D.insert(b,C),y.xo[y.currentUser.toKey()]=D}(o,s.batchId,e),[4,to(o,s.changes)];case 3:return m.sent(),[4,pu(o.remoteStore)];case 4:return m.sent(),[3,6];case 5:return c=m.sent(),f=Pa(c,"Failed to persist write"),e.reject(f),[3,6];case 6:return[2]}var y,b,C,D,T,A})})}function EE(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o;return(0,x.Jh)(this,function(s){switch(s.label){case 0:e=Se(i),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,RO(e.localStore,t)];case 2:return o=s.sent(),t.targetChanges.forEach(function(c,f){var m=e.Co.get(f);m&&(Je(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.bo=!0:c.modifiedDocuments.size>0?Je(m.bo):c.removedDocuments.size>0&&(Je(m.bo),m.bo=!1))}),[4,to(e,o,t)];case 3:return s.sent(),[3,6];case 4:return[4,xi(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function SE(i,t,e){var o=Se(i);if(o.isPrimaryClient&&0===e||!o.isPrimaryClient&&1===e){var s=[];o.Po.forEach(function(c,f){var m=f.view.zr(t);m.snapshot&&s.push(m.snapshot)}),function(c,f){var m=Se(c);m.onlineState=f;var y=!1;m.queries.forEach(function(b,C){for(var D=0,T=C.listeners;D<T.length;D++)T[D].zr(f)&&(y=!0)}),y&&vp(m)}(o.eventManager,t),s.length&&o.vo._r(s),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}function GA(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,s,c,f,m,y;return(0,x.Jh)(this,function(b){switch(b.label){case 0:return(o=Se(i)).sharedClientState.updateQueryState(t,"rejected",e),s=o.Co.get(t),(c=s&&s.key)?(f=(f=new br(Ue.comparator)).insert(c,ar.newNoDocument(c,at.min())),m=Nt().add(c),y=new qf(at.min(),new Map,new er(bt),f,m),[4,EE(o,y)]):[3,2];case 1:return b.sent(),o.Do=o.Do.remove(c),o.Co.delete(t),Td(o),[3,4];case 2:return[4,cu(o.localStore,t,!1).then(function(){return La(o,t,e)}).catch(xi)];case 3:b.sent(),b.label=4;case 4:return[2]}})})}function DE(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:e=Se(i),o=t.batch.batchId,c.label=1;case 1:return c.trys.push([1,4,,6]),[4,my(e.localStore,t)];case 2:return s=c.sent(),wp(e,o,null),bp(e,o),e.sharedClientState.updateMutationState(o,"acknowledged"),[4,to(e,s)];case 3:return c.sent(),[3,6];case 4:return[4,xi(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function TE(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:o=Se(i),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,(f=o.localStore,m=t,y=Se(f),y.persistence.runTransaction("Reject batch","readwrite-primary",function(b){var C;return y._n.lookupMutationBatch(b,m).next(function(D){return Je(null!==D),C=D.keys(),y._n.removeMutationBatch(b,D)}).next(function(){return y._n.performConsistencyCheck(b)}).next(function(){return y.Mn.pn(b,C)})}))];case 2:return s=c.sent(),wp(o,t,e),bp(o,t),o.sharedClientState.updateMutationState(t,"rejected",e),[4,to(o,s)];case 3:return c.sent(),[3,6];case 4:return[4,xi(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}var f,m,y})})}function ME(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,s,c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:nr((e=Se(i)).remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),m.label=1;case 1:return m.trys.push([1,3,,4]),[4,(y=e.localStore,b=Se(y),b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(C){return b._n.getHighestUnacknowledgedBatchId(C)}))];case 2:return-1===(o=m.sent())?[2,void t.resolve()]:((s=e.Fo.get(o)||[]).push(t),e.Fo.set(o,s),[3,4]);case 3:return c=m.sent(),f=Pa(c,"Initialization of waitForPendingWrites() operation failed"),t.reject(f),[3,4];case 4:return[2]}var y,b})})}function bp(i,t){(i.Fo.get(t)||[]).forEach(function(e){e.resolve()}),i.Fo.delete(t)}function wp(i,t,e){var o=Se(i),s=o.xo[o.currentUser.toKey()];if(s){var c=s.get(t);c&&(e?c.reject(e):c.resolve(),s=s.remove(t)),o.xo[o.currentUser.toKey()]=s}}function La(i,t,e){void 0===e&&(e=null),i.sharedClientState.removeLocalQueryTarget(t);for(var o=0,s=i.Vo.get(t);o<s.length;o++){var c=s[o];i.Po.delete(c),e&&i.vo.Mo(c,e)}i.Vo.delete(t),i.isPrimaryClient&&i.No.Zn(t).forEach(function(f){i.No.containsKey(f)||Fy(i,f)})}function Fy(i,t){i.So.delete(t.path.canonicalString());var e=i.Do.get(t);null!==e&&(Na(i.remoteStore,e),i.Do=i.Do.remove(t),i.Co.delete(e),Td(i))}function Cp(i,t,e){for(var o=0,s=e;o<s.length;o++){var c=s[o];c instanceof bE?(i.No.addReference(c.key,t),AE(i,c)):c instanceof wE?(Ce("SyncEngine","Document no longer in limbo: "+c.key),i.No.removeReference(c.key,t),i.No.containsKey(c.key)||Fy(i,c.key)):Ge()}}function AE(i,t){var e=t.key,o=e.path.canonicalString();i.Do.get(e)||i.So.has(o)||(Ce("SyncEngine","New document in limbo: "+e),i.So.add(o),Td(i))}function Td(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var t=i.So.values().next().value;i.So.delete(t);var e=new Ue(Ct.fromString(t)),o=i.ko.next();i.Co.set(o,new VA(e)),i.Do=i.Do.insert(e,o),fu(i.remoteStore,new Jf(Ti(Ss(e.path)),o,2,ni.o))}}function to(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,s,c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:return o=Se(i),s=[],c=[],f=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(y,b){f.push(o.Oo(b,t,e).then(function(C){if(C){o.isPrimaryClient&&o.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),s.push(C);var D=DA.Pn(b.targetId,C);c.push(D)}}))}),[4,Promise.all(f)]);case 1:return m.sent(),o.vo._r(s),[4,function(y,b){return(0,x.mG)(this,void 0,void 0,function(){var C,D,T,A,R,V,Z,me;return(0,x.Jh)(this,function(we){switch(we.label){case 0:C=Se(y),we.label=1;case 1:return we.trys.push([1,3,,4]),[4,C.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Oe){return ve.forEach(b,function(Fe){return ve.forEach(Fe.bn,function(ot){return C.persistence.referenceDelegate.addReference(Oe,Fe.targetId,ot)}).next(function(){return ve.forEach(Fe.vn,function(ot){return C.persistence.referenceDelegate.removeReference(Oe,Fe.targetId,ot)})})})})];case 2:return we.sent(),[3,4];case 3:if(!Rs(D=we.sent()))throw D;return Ce("LocalStore","Failed to update sequence numbers: "+D),[3,4];case 4:for(T=0,A=b;T<A.length;T++)V=(R=A[T]).targetId,R.fromCache||(Z=C.Fn.get(V),me=Z.withLastLimboFreeSnapshotVersion(Z.snapshotVersion),C.Fn=C.Fn.insert(V,me));return[2]}})})}(o.localStore,c)];case 2:m.sent(),m.label=3;case 3:return[2]}})})}function Va(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o;return(0,x.Jh)(this,function(s){switch(s.label){case 0:return(e=Se(i)).currentUser.isEqual(t)?[3,3]:(Ce("SyncEngine","User change. New user:",t.toKey()),[4,ap(e.localStore,t)]);case 1:return o=s.sent(),e.currentUser=t,(c=e).Fo.forEach(function(m){m.forEach(function(y){y.reject(new ge(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Fo.clear(),e.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),[4,to(e,o.Ln)];case 2:s.sent(),s.label=3;case 3:return[2]}var c})})}function qA(i,t){var e=Se(i),o=e.Co.get(t);if(o&&o.bo)return Nt().add(o.key);var s=Nt(),c=e.Vo.get(t);if(!c)return s;for(var f=0,m=c;f<m.length;f++){var b=e.Po.get(m[f]);s=s.unionWith(b.view.wo)}return s}function zA(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,wd((e=Se(i)).localStore,t.query,!0)];case 1:return o=c.sent(),s=t.view.Ao(o),[2,(e.isPrimaryClient&&Cp(e,t.targetId,s.To),s)]}})})}function _u(i){return(0,x.mG)(this,void 0,void 0,function(){var t;return(0,x.Jh)(this,function(e){return[2,vy((t=Se(i)).localStore).then(function(o){return to(t,o)})]})})}function OO(i,t,e,o){return(0,x.mG)(this,void 0,void 0,function(){var s,c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return[4,(m=(s=Se(i)).localStore,y=t,b=Se(m),C=Se(b._n),b.persistence.runTransaction("Lookup mutation documents","readonly",function(D){return C.jt(D,y).next(function(T){return T?b.Mn.pn(D,T):ve.resolve(null)})}))];case 1:return null===(c=f.sent())?[3,6]:"pending"!==e?[3,3]:[4,pu(s.remoteStore)];case 2:return f.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(wp(s,t,o||null),bp(s,t),function(m,y){Se(Se(m)._n).Gt(y)}(s.localStore,t)):Ge(),f.label=4;case 4:return[4,to(s,c)];case 5:return f.sent(),[3,7];case 6:Ce("SyncEngine","Cannot apply mutation batch with id: "+t),f.label=7;case 7:return[2]}var m,y,b,C})})}function Ny(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,s,c,f,y,b;return(0,x.Jh)(this,function(C){switch(C.label){case 0:return Ly(e=Se(i)),Vy(e),!0!==t||!0===e.$o?[3,3]:(o=e.sharedClientState.getAllActiveQueryTargets(),[4,$A(e,o.toArray())]);case 1:return s=C.sent(),e.$o=!0,[4,gp(e.remoteStore,!0)];case 2:for(C.sent(),c=0,f=s;c<f.length;c++)fu(e.remoteStore,f[c]);return[3,7];case 3:return!1!==t||!1===e.$o?[3,7]:(y=[],b=Promise.resolve(),e.Vo.forEach(function(D,T){e.sharedClientState.isLocalQueryTarget(T)?y.push(T):b=b.then(function(){return La(e,T),cu(e.localStore,T,!0)}),Na(e.remoteStore,T)}),[4,b]);case 4:return C.sent(),[4,$A(e,y)];case 5:return C.sent(),(T=Se(e)).Co.forEach(function(A,R){Na(T.remoteStore,R)}),T.No.ts(),T.Co=new Map,T.Do=new br(Ue.comparator),e.$o=!1,[4,gp(e.remoteStore,!1)];case 6:C.sent(),C.label=7;case 7:return[2]}var T})})}function $A(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,s,c,f,m,y,b,C,D,T,R,V,Z;return(0,x.Jh)(this,function(le){switch(le.label){case 0:o=Se(i),s=[],c=[],f=0,m=t,le.label=1;case 1:return f<m.length?(b=void 0,(C=o.Vo.get(y=m[f]))&&0!==C.length?[4,Ps(o.localStore,Ti(C[0]))]:[3,7]):[3,13];case 2:b=le.sent(),D=0,T=C,le.label=3;case 3:return D<T.length?(R=o.Po.get(T[D]),[4,zA(o,R)]):[3,6];case 4:(V=le.sent()).snapshot&&c.push(V.snapshot),le.label=5;case 5:return D++,[3,3];case 6:return[3,11];case 7:return[4,lp(o.localStore,y)];case 8:return Z=le.sent(),[4,Ps(o.localStore,Z)];case 9:return b=le.sent(),[4,ky(o,Py(Z),y,!1)];case 10:le.sent(),le.label=11;case 11:s.push(b),le.label=12;case 12:return f++,[3,1];case 13:return[2,(o.vo._r(c),s)]}})})}function Py(i){return Ji(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function IE(i){var t=Se(i);return Se(Se(t.localStore).persistence).fn()}function kO(i,t,e,o){return(0,x.mG)(this,void 0,void 0,function(){var s,c,f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:return(s=Se(i)).$o?(Ce("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Vo.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vy(s.localStore)];case 3:return c=m.sent(),f=qf.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,to(s,c,f)];case 4:return m.sent(),[3,8];case 5:return[4,cu(s.localStore,t,!0)];case 6:return m.sent(),La(s,t,o),[3,8];case 7:Ge(),m.label=8;case 8:return[2]}})})}function $e(i,t,e){return(0,x.mG)(this,void 0,void 0,function(){var o,s,c,f,m,y,b,C,D;return(0,x.Jh)(this,function(A){switch(A.label){case 0:if(!(o=Ly(i)).$o)return[3,10];s=0,c=t,A.label=1;case 1:return s<c.length?o.Vo.has(f=c[s])?(Ce("SyncEngine","Adding an already active target "+f),[3,5]):[4,lp(o.localStore,f)]:[3,6];case 2:return m=A.sent(),[4,Ps(o.localStore,m)];case 3:return y=A.sent(),[4,ky(o,Py(m),y.targetId,!1)];case 4:A.sent(),fu(o.remoteStore,y),A.label=5;case 5:return s++,[3,1];case 6:b=function(R){return(0,x.Jh)(this,function(V){switch(V.label){case 0:return o.Vo.has(R)?[4,cu(o.localStore,R,!1).then(function(){Na(o.remoteStore,R),La(o,R)}).catch(xi)]:[3,2];case 1:V.sent(),V.label=2;case 2:return[2]}})},C=0,D=e,A.label=7;case 7:return C<D.length?[5,b(D[C])]:[3,10];case 8:A.sent(),A.label=9;case 9:return C++,[3,7];case 10:return[2]}})})}function Ly(i){var t=Se(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=EE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GA.bind(null,t),t.vo._r=mE.bind(null,t.eventManager),t.vo.Mo=_E.bind(null,t.eventManager),t}function Vy(i){var t=Se(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=TE.bind(null,t),t}var Md=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(t){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(e){switch(e.label){case 0:return this.R=Ed(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},i.prototype.Uo=function(t){return null},i.prototype.Ko=function(t){return YC(this.persistence,new sp,t.initialUser,this.R)},i.prototype.qo=function(t){return new QC(Sy.bs,this.R)},i.prototype.Bo=function(t){return new tE},i.prototype.terminate=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},i}(),xE=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).Qo=e,c.cacheSizeBytes=o,c.forceOwnership=s,c.synchronizeTabs=!1,c}return(0,x.ZT)(t,i),t.prototype.initialize=function(e){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(o){switch(o.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return o.sent(),[4,by(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,e)];case 3:return o.sent(),[4,Vy(this.Qo.syncEngine)];case 4:return o.sent(),[4,pu(this.Qo.remoteStore)];case 5:return o.sent(),[2]}})})},t.prototype.Ko=function(e){return YC(this.persistence,new sp,e.initialUser,this.R)},t.prototype.Uo=function(e){return new wA(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var o=py(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?es.withCacheSize(this.cacheSizeBytes):es.DEFAULT;return new fy(this.synchronizeTabs,o,e.clientId,s,e.asyncQueue,oE(),Cd(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new tE},t}(Md),Ep=function(i){function t(e,o){var s=this;return(s=i.call(this,e,o,!1)||this).Qo=e,s.cacheSizeBytes=o,s.synchronizeTabs=!0,s}return(0,x.ZT)(t,i),t.prototype.initialize=function(e){return(0,x.mG)(this,void 0,void 0,function(){var o,s=this;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return c.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof Iy?(this.sharedClientState.syncEngine={ui:OO.bind(null,o),ai:kO.bind(null,o),hi:$e.bind(null,o),fn:IE.bind(null,o),ci:_u.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:c.sent(),c.label=3;case 3:return[4,this.persistence.He(function(f){return(0,x.mG)(s,void 0,void 0,function(){return(0,x.Jh)(this,function(m){switch(m.label){case 0:return[4,Ny(this.Qo.syncEngine,f)];case 1:return m.sent(),this.gcScheduler&&(f&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):f||this.gcScheduler.stop()),[2]}})})})];case 4:return c.sent(),[2]}})})},t.prototype.Bo=function(e){var o=oE();if(!Iy.yt(o))throw new ge(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var s=py(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Iy(o,e.asyncQueue,s,e.clientId,e.initialUser)},t}(xE),yu=function(){function i(){}return i.prototype.initialize=function(t,e){return(0,x.mG)(this,void 0,void 0,function(){var o=this;return(0,x.Jh)(this,function(s){switch(s.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(c){return SE(o.syncEngine,c,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Va.bind(null,this.syncEngine),[4,gp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:s.sent(),s.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(t){return new gE},i.prototype.createDatastore=function(t){var o=Ed(t.databaseInfo.databaseId),s=new AA(t.databaseInfo);return new xA(t.credentials,s,o)},i.prototype.createRemoteStore=function(t){var e,o,s,c,f,m=this;return e=this.localStore,o=this.datastore,s=t.asyncQueue,c=function(y){return SE(m.syncEngine,y,0)},f=rE.yt()?new rE:new nE,new RA(e,o,s,c,f)},i.prototype.createSyncEngine=function(t,e){return b=e,C=new BA(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions),b&&(C.$o=!0),C;var b,C},i.prototype.terminate=function(){return function(t){return(0,x.mG)(this,void 0,void 0,function(){var e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return e=Se(t),Ce("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Sd(e)];case 1:return o.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),By=function(){function i(t){this.observer=t,this.muted=!1}return i.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},i.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(t,e){var o=this;this.muted||setTimeout(function(){o.muted||t(e)},0)},i}(),Uy=(function(){function i(t,e){var o=this;this.Go=t,this.R=e,this.metadata=new En,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(s){s&&s.io()?o.metadata.resolve(s.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==s?void 0:s.payload)))},function(s){return o.metadata.reject(s)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e,o,s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,this.Jo()];case 1:return null===(t=c.sent())?[2,null]:(e=this.zo.decode(t),o=Number(e),isNaN(o)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(o)]);case 2:return s=c.sent(),[2,new NA(JSON.parse(s),t.length+o)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},i.prototype.Xo=function(t){return(0,x.mG)(this,void 0,void 0,function(){var e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},i.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},i.prototype.tc=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(t=o.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function i(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(t){return(0,x.mG)(this,void 0,void 0,function(){var e,o=this;return(0,x.Jh)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ge(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(c,f){return(0,x.mG)(this,void 0,void 0,function(){var m,y,b,C,D,T;return(0,x.Jh)(this,function(A){switch(A.label){case 0:return m=Se(c),y=Wf(m.R)+"/documents",b={documents:f.map(function(R){return iu(m.R,R)})},[4,m.$i("BatchGetDocuments",y,b)];case 1:return C=A.sent(),D=new Map,C.forEach(function(R){var Z,le,V=(Z=m.R,"found"in(le=R)?function(me,we){Je(!!we.found);var Oe=To(me,we.found.name),Fe=tr(we.found.updateTime),ot=new Gr({mapValue:{fields:we.found.fields}});return ar.newFoundDocument(Oe,Fe,ot)}(Z,le):"missing"in le?function(me,we){Je(!!we.missing),Je(!!we.readTime);var Oe=To(me,we.missing),Fe=tr(we.readTime);return ar.newNoDocument(Oe,Fe)}(Z,le):Ge());D.set(V.key.toString(),V)}),T=[],[2,(f.forEach(function(R){var V=D.get(R.toString());Je(!!V),T.push(V)}),T)]}})})}(this.datastore,t)];case 1:return[2,((e=s.sent()).forEach(function(c){return o.recordVersion(c)}),e)]}})})},i.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(t.toString())},i.prototype.delete=function(t){this.write(new ru(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.commit=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e=this;return(0,x.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(s){t.delete(s.key.toString())}),t.forEach(function(s,c){var f=Ue.fromPath(c);e.mutations.push(new $_(f,e.precondition(f)))}),[4,function(s,c){return(0,x.mG)(this,void 0,void 0,function(){var f,m,y;return(0,x.Jh)(this,function(b){switch(b.label){case 0:return f=Se(s),m=Wf(f.R)+"/documents",y={writes:c.map(function(C){return pd(f.R,C)})},[4,f.Ni("Commit",m,y)];case 1:return b.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ge();e=at.min()}var o=this.readVersions.get(t.key.toString());if(o){if(!e.isEqual(o))throw new ge(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},i.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?bn.updateTime(e):bn.none()},i.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(at.min()))throw new ge(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bn.updateTime(e)}return bn.exists(!0)},i.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},i.prototype.ensureCommitNotCalled=function(){},i}()),WA=function(){function i(t,e,o,s){this.asyncQueue=t,this.datastore=e,this.updateFunction=o,this.deferred=s,this.ec=5,this.Zi=new hp(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,x.mG)(t,void 0,void 0,function(){var e,o,s=this;return(0,x.Jh)(this,function(c){return e=new Uy(this.datastore),(o=this.sc(e))&&o.then(function(f){s.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){s.deferred.resolve(f)}).catch(function(m){s.ic(m)})})}).catch(function(f){s.ic(f)}),[2]})})})},i.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Si(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},i.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},i.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ma(e)}return!1},i}(),OE=function(){function i(t,e,o){var s=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=o,this.user=xr.UNAUTHENTICATED,this.clientId=$M.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(c){return(0,x.mG)(s,void 0,void 0,function(){return(0,x.Jh)(this,function(f){switch(f.label){case 0:return Ce("FirestoreClient","Received user=",c.uid),[4,this.credentialListener(c)];case 1:return f.sent(),this.user=c,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ge(se.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new En;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,x.mG)(t,void 0,void 0,function(){var o,s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:c.sent(),c.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:c.sent(),c.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return o=c.sent(),s=Pa(o,"Failed to shutdown persistence"),e.reject(s),[3,6];case 6:return[2]}})})}),e.promise},i}();function jy(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o,s=this;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return i.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return e=c.sent(),[4,t.initialize(e)];case 2:return c.sent(),o=e.initialUser,i.setCredentialChangeListener(function(f){return(0,x.mG)(s,void 0,void 0,function(){return(0,x.Jh)(this,function(m){switch(m.label){case 0:return o.isEqual(f)?[3,2]:[4,ap(t.localStore,f)];case 1:m.sent(),o=f,m.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=t,[2]}})})}function Hy(i,t){return(0,x.mG)(this,void 0,void 0,function(){var e,o;return(0,x.Jh)(this,function(s){switch(s.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,Sp(i)];case 1:return e=s.sent(),Ce("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return o=s.sent(),[4,t.initialize(e,o)];case 3:return s.sent(),i.setCredentialChangeListener(function(c){return function(f,m){return(0,x.mG)(this,void 0,void 0,function(){var y,b;return(0,x.Jh)(this,function(C){switch(C.label){case 0:return(y=Se(f)).asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials"),b=nr(y),y.Or.add(3),[4,Sd(y)];case 1:return C.sent(),b&&y.Br.set("Unknown"),[4,y.remoteSyncer.handleCredentialChange(m)];case 2:return C.sent(),y.Or.delete(3),[4,hu(y)];case 3:return C.sent(),[2]}})})}(t.remoteStore,c)}),i.onlineComponents=t,[2]}})})}function Sp(i){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){switch(t.label){case 0:return i.offlineComponents?[3,2]:(Ce("FirestoreClient","Using default OfflineComponentProvider"),[4,jy(i,new Md)]);case 1:t.sent(),t.label=2;case 2:return[2,i.offlineComponents]}})})}function Dp(i){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(t){switch(t.label){case 0:return i.onlineComponents?[3,2]:(Ce("FirestoreClient","Using default OnlineComponentProvider"),[4,Hy(i,new yu)]);case 1:t.sent(),t.label=2;case 2:return[2,i.onlineComponents]}})})}function kE(i){return Sp(i).then(function(t){return t.persistence})}function Gy(i){return Sp(i).then(function(t){return t.localStore})}function vu(i){return Dp(i).then(function(t){return t.remoteStore})}function qy(i){return Dp(i).then(function(t){return t.syncEngine})}function bu(i){return(0,x.mG)(this,void 0,void 0,function(){var t,e;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return[4,Dp(i)];case 1:return t=o.sent(),[2,((e=t.eventManager).onListen=UA.bind(null,t.syncEngine),e.onUnlisten=jA.bind(null,t.syncEngine),e)]}})})}function FE(i,t,e){var o=this;void 0===e&&(e={});var s=new En;return i.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(o,void 0,void 0,function(){var c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return c=function(m,y,b,C,D){var T=new By({next:function(R){y.enqueueAndForget(function(){return yp(m,A)});var V=R.docs.has(b);!V&&R.fromCache?D.reject(new ge(se.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&C&&"server"===C.source?D.reject(new ge(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):D.resolve(R)},error:function(R){return D.reject(R)}}),A=new Oy(Ss(b.path),T,{includeMetadataChanges:!0,so:!0});return _p(m,A)},[4,bu(i)];case 1:return[2,c.apply(void 0,[f.sent(),i.asyncQueue,t,e,s])]}})})}),s.promise}function Ad(i,t,e){var o=this;void 0===e&&(e={});var s=new En;return i.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(o,void 0,void 0,function(){var c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return c=function(m,y,b,C,D){var T=new By({next:function(R){y.enqueueAndForget(function(){return yp(m,A)}),R.fromCache&&"server"===C.source?D.reject(new ge(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):D.resolve(R)},error:function(R){return D.reject(R)}}),A=new Oy(b,T,{includeMetadataChanges:!0,so:!0});return _p(m,A)},[4,bu(i)];case 1:return[2,c.apply(void 0,[f.sent(),i.asyncQueue,t,e,s])]}})})}),s.promise}var NE=function(i,t,e,o,s,c,f,m){this.databaseId=i,this.appId=t,this.persistenceKey=e,this.host=o,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=m},Id=function(){function i(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database},i}(),zy=new Map,PE=function(i,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},wu=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(xr.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),xd=function(){function i(t){this.token=t,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){var o=this;this.changeListener=e,t.enqueueRetryable(function(){return e(o.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),ZA=function(){function i(t){var e=this;this.currentUser=xr.UNAUTHENTICATED,this.oc=new En,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var o=function(s){Ce("FirebaseCredentialsProvider","Auth detected"),e.auth=s,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(s){return o(s)}),setTimeout(function(){if(!e.auth){var s=t.getImmediate({optional:!0});s?o(s):(Ce("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return i.prototype.getToken=function(){var t=this,e=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(s){return t.cc!==e?(Ce("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):s?(Je("string"==typeof s.accessToken),new PE(s.accessToken,t.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(t,e){var o=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,x.mG)(o,void 0,void 0,function(){return(0,x.Jh)(this,function(s){switch(s.label){case 0:return[4,this.oc.promise];case 1:return s.sent(),[4,e(this.currentUser)];case 2:return s.sent(),this.changeListener=e,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Je(null===t||"string"==typeof t),new xr(t)},i}(),KA=function(){function i(t,e,o){this.hc=t,this.lc=e,this.fc=o,this.type="FirstParty",this.user=xr.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),i}(),QA=function(){function i(t,e,o){this.hc=t,this.lc=e,this.fc=o}return i.prototype.getToken=function(){return Promise.resolve(new KA(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(xr.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function Tp(i,t,e){if(!e)throw new ge(se.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+t+".")}function Mp(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ge(se.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return t}function $y(i,t,e,o){if(!0===t&&!0===o)throw new ge(se.INVALID_ARGUMENT,i+" and "+e+" cannot be used together.")}function LE(i){if(!Ue.isDocumentKey(i))throw new ge(se.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function Yy(i){if(Ue.isDocumentKey(i))throw new ge(se.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function Ap(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var t=function(e){if(e.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(o&&o.length>1)return o[1]}return null}(i);return t?"a custom "+t+" object":"an object"}return"function"==typeof i?"a function":Ge()}function At(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ge(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=Ap(i);throw new ge(se.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}return i}function JA(i,t){if(t<=0)throw new ge(se.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+t+".")}var XA=function(){function i(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ge(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ge(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,$y("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},i}(),Ip=function(){function i(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XA({}),this._settingsFrozen=!1,t instanceof Id?(this._databaseId=t,this._credentials=new wu):(this._app=t,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new ge(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(o.options.projectId)}(t),this._credentials=new ZA(e))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XA(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new wu;switch(e.type){case"gapi":var o=e.client;return Je(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new QA(o,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ge(se.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(e=zy.get(this))&&(Ce("ComponentProvider","Removing Datastore"),zy.delete(this),e.terminate()),Promise.resolve();var e},i}(),cn=function(){function i(t,e,o){this.converter=e,this._key=o,this.type="document",this.firestore=t}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new no(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(t){return new i(this.firestore,t,this._key)},i}(),Rr=function(){function i(t,e,o){this.converter=e,this._query=o,this.type="query",this.firestore=t}return i.prototype.withConverter=function(t){return new i(this.firestore,t,this._query)},i}(),no=function(i){function t(e,o,s){var c=this;return(c=i.call(this,e,o,Ss(s))||this)._path=s,c.type="collection",c}return(0,x.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new Ue(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Rr);function VE(i,t){for(var e,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(i=(0,It.m9)(i),Tp("collection","path",t),i instanceof Ip)return Yy(e=Ct.fromString.apply(Ct,(0,x.ev)([t],o))),new no(i,null,e);if(!(i instanceof cn||i instanceof no))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Yy(e=Ct.fromString.apply(Ct,(0,x.ev)([i.path],o)).child(Ct.fromString(t))),new no(i.firestore,null,e)}function xp(i,t){for(var e,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(i=(0,It.m9)(i),1===arguments.length&&(t=$M.u()),Tp("doc","path",t),i instanceof Ip)return LE(e=Ct.fromString.apply(Ct,(0,x.ev)([t],o))),new cn(i,null,new Ue(e));if(!(i instanceof cn||i instanceof no))throw new ge(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return LE(e=i._path.child(Ct.fromString.apply(Ct,(0,x.ev)([t],o)))),new cn(i.firestore,i instanceof no?i.converter:null,new Ue(e))}function Wy(i,t){return i=(0,It.m9)(i),t=(0,It.m9)(t),(i instanceof cn||i instanceof no)&&(t instanceof cn||t instanceof no)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function Cu(i,t){return i=(0,It.m9)(i),t=(0,It.m9)(t),i instanceof Rr&&t instanceof Rr&&i.firestore===t.firestore&&sd(i._query,t._query)&&i.converter===t.converter}var eI=function(){function i(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new hp(this,"async_queue_retry"),this.Ic=function(){var o=Cd();o&&Ce("AsyncQueue","Visibility state changed to "+o.visibilityState),t.Zi.Gi()};var e=Cd();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(t){this.enqueue(t)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},i.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Cd();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new En;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},i.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},i.prototype.bc=function(){return(0,x.mG)(this,void 0,void 0,function(){var t,e=this;return(0,x.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Rs(t=o.sent()))throw t;return Ce("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),o.label=5;case 5:return[2]}})})},i.prototype.Rc=function(t){var e=this,o=this.dc.then(function(){return e.gc=!0,t().catch(function(s){throw e.yc=s,e.gc=!1,zn("INTERNAL UNHANDLED ERROR: ",(f=(c=s).message||"",c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f)),s;var c,f}).then(function(s){return e.gc=!1,s})});return this.dc=o,o},i.prototype.enqueueAfterDelay=function(t,e,o){var s=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var c=fE.createAndSchedule(this,t,e,o,function(f){return s.vc(f)});return this.mc.push(c),c},i.prototype.Ac=function(){this.yc&&Ge()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,x.mG)(this,void 0,void 0,function(){var t;return(0,x.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},i.prototype.Vc=function(t){for(var e=0,o=this.mc;e<o.length;e++)if(o[e].timerId===t)return!0;return!1},i.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(f,m){return f.targetTimeMs-m.targetTimeMs});for(var o=0,s=e.mc;o<s.length;o++){var c=s[o];if(c.skipDelay(),"all"!==t&&c.timerId===t)break}return e.Pc()})},i.prototype.Dc=function(t){this.Tc.push(t)},i.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},i}();function Eu(i){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var o=t,s=0,c=["next","error","complete"];s<c.length;s++){var f=c[s];if(f in o&&"function"==typeof o[f])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new En,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(t,e,o){this._progressObserver={next:t,error:e,complete:o}},i.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},i.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},i.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},i.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},i.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Sn=function(i){function t(e,o){var s=this;return(s=i.call(this,e,o)||this).type="firestore",s._queue=new eI,s._persistenceKey="name"in e?e.name:"[DEFAULT]",s}return(0,x.ZT)(t,i),t.prototype._terminate=function(){return this._firestoreClient||BE(this),this._firestoreClient.terminate()},t}(Ip);function Wn(i){return i._firestoreClient||BE(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function BE(i){var t,c,m,e=i._freezeSettings(),o=(c=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new NE(i._databaseId,c,i._persistenceKey,(m=e).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));i._firestoreClient=new OE(i._credentials,i._queue,o)}function UE(i,t,e){var o=this,s=new En;return i.asyncQueue.enqueue(function(){return(0,x.mG)(o,void 0,void 0,function(){var c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,jy(i,e)];case 1:return f.sent(),[4,Hy(i,t)];case 2:return f.sent(),s.resolve(),[3,4];case 3:if(!("FirebaseError"===(m=c=f.sent()).name?m.code===se.FAILED_PRECONDITION||m.code===se.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw c;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),s.reject(c),[3,4];case 4:return[2]}var m})})}).then(function(){return s.promise})}function Ba(i){if(i._initialized||i._terminated)throw new ge(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ao=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=0;o<t.length;++o)if(0===t[o].length)throw new ge(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(t)}return i.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},i}(),Vs=function(){function i(t){this._byteString=t}return i.fromBase64String=function(t){try{return new i(Ar.fromBase64String(t))}catch(e){throw new ge(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},i.fromUint8Array=function(t){return new i(Ar.fromUint8Array(t))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},i}(),Ua=function(i){this._methodName=i},Rd=function(){function i(t,e){if(!isFinite(t)||t<-90||t>90)throw new ge(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ge(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(t){return bt(this._lat,t._lat)||bt(this._long,t._long)},i}(),rI=/^__.*__$/,jE=function(){function i(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}return i.prototype.toMutation=function(t,e){return null!==this.fieldMask?new As(t,this.data,this.fieldMask,e,this.fieldTransforms):new nu(t,this.data,e,this.fieldTransforms)},i}(),HE=function(){function i(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}return i.prototype.toMutation=function(t,e){return new As(t,this.data,this.fieldMask,e,this.fieldTransforms)},i}();function Rp(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}var GE=function(){function i(t,e,o,s,c,f){this.settings=t,this.databaseId=e,this.R=o,this.ignoreUndefinedProperties=s,void 0===c&&this.Cc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(t){return new i(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.Fc=function(t){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.xc({path:o,kc:!1});return s.$c(t),s},i.prototype.Oc=function(t){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.xc({path:o,kc:!1});return s.Cc(),s},i.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},i.prototype.Lc=function(t){return Fp(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},i.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},i.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Rp(this.Nc)&&rI.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),qE=function(){function i(t,e,o){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=o||Ed(t)}return i.prototype.Uc=function(t,e,o,s){return void 0===s&&(s=!1),new GE({Nc:t,methodName:e,qc:o,path:Xn.emptyPath(),kc:!1,Bc:s},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function Bs(i){var t=i._freezeSettings(),e=Ed(i._databaseId);return new qE(i._databaseId,!!t.ignoreUndefinedProperties,e)}function Op(i,t,e,o,s,c){void 0===c&&(c={});var f=i.Uc(c.merge||c.mergeFields?2:0,t,e,s);Xy("Data must be an object, but it was:",f,o);var m,y,b=WE(o,f);if(c.merge)m=new ba(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){for(var C=[],D=0,T=c.mergeFields;D<T.length;D++){var A=kp(t,T[D],e);if(!f.contains(A))throw new ge(se.INVALID_ARGUMENT,"Field '"+A+"' is specified in your field mask but missing from your input data.");tv(C,A)||C.push(A)}m=new ba(C),y=f.fieldTransforms.filter(function(R){return m.covers(R.field)})}else m=null,y=f.fieldTransforms;return new jE(new Gr(b),m,y)}var Zy=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Ua);function zE(i,t,e){return new GE({Nc:3,qc:t.settings.qc,methodName:i._methodName,kc:e},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Ky=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype._toFieldTransform=function(e){return new ld(e.path,new Ta)},t.prototype.isEqual=function(e){return e instanceof t},t}(Ua),iI=function(i){function t(e,o){var s=this;return(s=i.call(this,e)||this).Kc=o,s}return(0,x.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=zE(this,e,!0),s=this.Kc.map(function(f){return ja(f,o)}),c=new Ds(s);return new ld(e.path,c)},t.prototype.isEqual=function(e){return this===e},t}(Ua),$E=function(i){function t(e,o){var s=this;return(s=i.call(this,e)||this).Kc=o,s}return(0,x.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=zE(this,e,!0),s=this.Kc.map(function(f){return ja(f,o)}),c=new Ts(s);return new ld(e.path,c)},t.prototype.isEqual=function(e){return this===e},t}(Ua),oI=function(i){function t(e,o){var s=this;return(s=i.call(this,e)||this).Qc=o,s}return(0,x.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=new zr(e.R,pC(e.R,this.Qc));return new ld(e.path,o)},t.prototype.isEqual=function(e){return this===e},t}(Ua);function Qy(i,t,e,o){var s=i.Uc(1,t,e);Xy("Data must be an object, but it was:",s,o);var c=[],f=Gr.empty();Es(o,function(y,b){var C=ev(t,y,e);b=(0,It.m9)(b);var D=s.Oc(C);if(b instanceof Zy)c.push(C);else{var T=ja(b,D);null!=T&&(c.push(C),f.set(C,T))}});var m=new ba(c);return new HE(f,m,s.fieldTransforms)}function Jy(i,t,e,o,s,c){var f=i.Uc(1,t,e),m=[kp(t,o,e)],y=[s];if(c.length%2!=0)throw new ge(se.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var b=0;b<c.length;b+=2)m.push(kp(t,c[b])),y.push(c[b+1]);for(var C=[],D=Gr.empty(),T=m.length-1;T>=0;--T)if(!tv(C,m[T])){var A=m[T],R=y[T];R=(0,It.m9)(R);var V=f.Oc(A);if(R instanceof Zy)C.push(A);else{var Z=ja(R,V);null!=Z&&(C.push(A),D.set(A,Z))}}var le=new ba(C);return new HE(D,le,f.fieldTransforms)}function YE(i,t,e,o){return void 0===o&&(o=!1),ja(e,i.Uc(o?4:3,t))}function ja(i,t){if(ZE(i=(0,It.m9)(i)))return Xy("Unsupported field value:",t,i),WE(i,t);if(i instanceof Ua)return function(e,o){if(!Rp(o.Nc))throw o.Lc(e._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(e._methodName+"() is not currently supported inside arrays");var s=e._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,o){for(var s=[],c=0,f=0,m=e;f<m.length;f++){var y=ja(m[f],o.Mc(c));null==y&&(y={nullValue:"NULL_VALUE"}),s.push(y),c++}return{arrayValue:{values:s}}}(i,t)}return function(e,o){if(null===(e=(0,It.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return pC(o.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var s=vn.fromDate(e);return{timestampValue:fd(o.R,s)}}if(e instanceof vn)return s=new vn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:fd(o.R,s)};if(e instanceof Rd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vs)return{bytesValue:IC(o.R,e._byteString)};if(e instanceof cn){var c=e.firestore._databaseId;if(!c.isEqual(s=o.databaseId))throw o.Lc("Document reference is for database "+c.projectId+"/"+c.database+" but should be for database "+s.projectId+"/"+s.database);return{referenceValue:Yf(e.firestore._databaseId||o.databaseId,e._key.path)}}throw o.Lc("Unsupported field value: "+Ap(e))}(i,t)}function WE(i,t){var e={};return xf(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Es(i,function(o,s){var c=ja(s,t.Fc(o));null!=c&&(e[o]=c)}),{mapValue:{fields:e}}}function ZE(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof vn||i instanceof Rd||i instanceof Vs||i instanceof cn||i instanceof Ua)}function Xy(i,t,e){if(!ZE(e)||"object"!=typeof(s=e)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){var o=Ap(e);throw t.Lc("an object"===o?i+" a custom object":i+" "+o)}var s}function kp(i,t,e){if((t=(0,It.m9)(t))instanceof Ao)return t._internalPath;if("string"==typeof t)return ev(i,t);throw Fp("Field path arguments must be of type string or FieldPath.",i,!1,void 0,e)}var KE=new RegExp("[~\\*/\\[\\]]");function ev(i,t,e){if(t.search(KE)>=0)throw Fp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,e);try{return(new(Ao.bind.apply(Ao,(0,x.ev)([void 0],t.split(".")))))._internalPath}catch(o){throw Fp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,e)}}function Fp(i,t,e,o,s){var c=o&&!o.isEmpty(),f=void 0!==s,m="Function "+t+"() called with invalid data";e&&(m+=" (via `toFirestore()`)");var y="";return(c||f)&&(y+=" (found",c&&(y+=" in field "+o),f&&(y+=" in document "+s),y+=")"),new ge(se.INVALID_ARGUMENT,(m+=". ")+i+y)}function tv(i,t){return i.some(function(e){return e.isEqual(t)})}var Od=function(){function i(t,e,o,s,c){this._firestore=t,this._userDataWriter=e,this._key=o,this._document=s,this._converter=c}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new cn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var t=new sI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(t){if(this._document){var e=this._document.data.field(Np("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},i}(),sI=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype.data=function(){return i.prototype.data.call(this)},t}(Od);function Np(i,t){return"string"==typeof t?ev(i,t):t instanceof Ao?t._internalPath:t._delegate._internalPath}var ns=function(){function i(t,e){this.hasPendingWrites=t,this.fromCache=e}return i.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},i}(),ro=function(i){function t(e,o,s,c,f,m){var y=this;return(y=i.call(this,e,o,s,c,m)||this)._firestore=e,y._firestoreImpl=e,y.metadata=f,y}return(0,x.ZT)(t,i),t.prototype.exists=function(){return i.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var o=new Su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,o){if(void 0===o&&(o={}),this._document){var s=this._document.data.field(Np("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,o.serverTimestamps)}},t}(Od),Su=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype.data=function(e){return void 0===e&&(e={}),i.prototype.data.call(this,e)},t}(ro),Io=function(){function i(t,e,o,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new ns(s.hasPendingWrites,s.fromCache),this.query=o}return Object.defineProperty(i.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t,e){var o=this;this._snapshot.docs.forEach(function(s){t.call(e,new Su(o._firestore,o._userDataWriter,s.key,s,new ns(o._snapshot.mutatedKeys.has(s.key),o._snapshot.fromCache),o.query.converter))})},i.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ge(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){var c=0;return o._snapshot.docChanges.map(function(m){return{type:"added",doc:new Su(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ns(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}})}var f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(m){return s||3!==m.type}).map(function(m){var y=new Su(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ns(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),b=-1,C=-1;return 0!==m.type&&(b=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),1!==m.type&&(C=(f=f.add(m.doc)).indexOf(m.doc.key)),{type:aI(m.type),doc:y,oldIndex:b,newIndex:C}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},i}();function aI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}function QE(i,t){return i instanceof ro&&t instanceof ro?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof Io&&t instanceof Io&&i._firestore===t._firestore&&Cu(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}function Pp(i){if(Nf(i)&&0===i.explicitOrderBy.length)throw new ge(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kd=function(){};function rs(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var o=0,s=t;o<s.length;o++){var c=s[o];i=c._apply(i)}return i}var lI=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).jc=e,c.Wc=o,c.Gc=s,c.type="where",c}return(0,x.ZT)(t,i),t.prototype._apply=function(e){var c,m,o=Bs(e.firestore),s=function(c,f,m,y,b,C,D){var T;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new ge(se.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+C+"' queries on FieldPath.documentId().");if("in"===C||"not-in"===C){cI(D,C);for(var A=[],R=0,V=D;R<V.length;R++)A.push(Us(y,c,V[R]));T={arrayValue:{values:A}}}else T=Us(y,c,D)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||cI(D,C),T=YE(m,"where",D,"in"===C||"not-in"===C);var le=qr.create(b,C,T);return function(me,we){if(we.g()){var Oe=Pf(me);if(null!==Oe&&!Oe.isEqual(we.field))throw new ge(se.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Oe.toString()+"' and '"+we.field.toString()+"'");var Fe=dC(me);null!==Fe&&Lp(0,we.field,Fe)}var ot=function(Rt,co){for(var fi=0,Uo=Rt.filters;fi<Uo.length;fi++){var m0=Uo[fi];if(co.indexOf(m0.op)>=0)return m0.op}return null}(me,function(Rt){switch(Rt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(we.op));if(null!==ot)throw new ge(se.INVALID_ARGUMENT,ot===we.op?"Invalid query. You cannot use more than one '"+we.op.toString()+"' filter.":"Invalid query. You cannot use '"+we.op.toString()+"' filters with '"+ot.toString()+"' filters.")}(c,le),le}(e._query,0,o,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Rr(e.firestore,e.converter,(m=(c=e._query).filters.concat([s]),new Qo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),m,c.limit,c.limitType,c.startAt,c.endAt)))},t}(kd),JE=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).jc=e,s.zc=o,s.type="orderBy",s}return(0,x.ZT)(t,i),t.prototype._apply=function(e){var s,f,o=function(s,c,f){if(null!==s.startAt)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new ge(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var m=new Xl(c,f);return function(y,b){if(null===dC(y)){var C=Pf(y);null!==C&&Lp(0,C,b.field)}}(s,m),m}(e._query,this.jc,this.zc);return new Rr(e.firestore,e.converter,(f=(s=e._query).explicitOrderBy.concat([o]),new Qo(s.path,s.collectionGroup,f,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)))},t}(kd),nv=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).type=e,c.Hc=o,c.Jc=s,c}return(0,x.ZT)(t,i),t.prototype._apply=function(e){return new Rr(e.firestore,e.converter,Lf(e._query,this.Hc,this.Jc))},t}(kd),rv=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).type=e,c.Yc=o,c.Xc=s,c}return(0,x.ZT)(t,i),t.prototype._apply=function(e){var s,c,o=XE(e,this.type,this.Yc,this.Xc);return new Rr(e.firestore,e.converter,(c=o,new Qo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)))},t}(kd),uI=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).type=e,c.Yc=o,c.Xc=s,c}return(0,x.ZT)(t,i),t.prototype._apply=function(e){var s,c,o=XE(e,this.type,this.Yc,this.Xc);return new Rr(e.firestore,e.converter,(c=o,new Qo((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)))},t}(kd);function XE(i,t,e,o){if(e[0]=(0,It.m9)(e[0]),e[0]instanceof Od)return function(c,f,m,y,b){if(!y)throw new ge(se.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+m+"().");for(var C=[],D=0,T=eu(c);D<T.length;D++){var A=T[D];if(A.field.isKeyField())C.push(Sa(f,y.key));else{var R=y.data.field(A.field);if(A_(R))throw new ge(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){var V=A.field.canonicalString();throw new ge(se.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+V+"' (used as the orderBy) does not exist.")}C.push(R)}}return new id(C,b)}(i._query,i.firestore._databaseId,t,e[0]._document,o);var s=Bs(i.firestore);return function(c,f,m,y,b,C){var D=c.explicitOrderBy;if(b.length>D.length)throw new ge(se.INVALID_ARGUMENT,"Too many arguments provided to "+y+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var T=[],A=0;A<b.length;A++){var R=b[A];if(D[A].field.isKeyField()){if("string"!=typeof R)throw new ge(se.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+y+"(), but got a "+typeof R);if(!L_(c)&&-1!==R.indexOf("/"))throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+y+"() must be a plain document ID, but '"+R+"' contains a slash.");var V=c.path.child(Ct.fromString(R));if(!Ue.isDocumentKey(V))throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+y+"() must result in a valid document path, but '"+V+"' is not because it contains an odd number of segments.");var Z=new Ue(V);T.push(Sa(f,Z))}else{var le=YE(m,y,R);T.push(le)}}return new id(T,C)}(i._query,i.firestore._databaseId,s,t,e,o)}function Us(i,t,e){if("string"==typeof(e=(0,It.m9)(e))){if(""===e)throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!L_(t)&&-1!==e.indexOf("/"))throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var o=t.path.child(Ct.fromString(e));if(!Ue.isDocumentKey(o))throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return Sa(i,new Ue(o))}if(e instanceof cn)return Sa(i,e._key);throw new ge(se.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ap(e)+".")}function cI(i,t){if(!Array.isArray(i)||0===i.length)throw new ge(se.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(i.length>10)throw new ge(se.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Lp(i,t,e){if(!e.isEqual(t))throw new ge(se.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var Du=function(){function i(){}return i.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Di(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ge()}},i.prototype.convertObject=function(t,e){var o=this,s={};return Es(t.fields,function(c,f){s[c]=o.convertValue(f,e)}),s},i.prototype.convertGeoPoint=function(t){return new Rd(xn(t.latitude),xn(t.longitude))},i.prototype.convertArray=function(t,e){var o=this;return(t.values||[]).map(function(s){return o.convertValue(s,e)})},i.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var o=aC(t);return null==o?null:this.convertValue(o,e);case"estimate":return this.convertTimestamp(Ko(t));default:return null}},i.prototype.convertTimestamp=function(t){var e=So(t);return new vn(e.seconds,e.nanos)},i.prototype.convertDocumentKey=function(t,e){var o=Ct.fromString(t);Je(OC(o));var s=new Id(o.get(1),o.get(3)),c=new Ue(o.popFirst(5));return s.isEqual(e)||zn("Document "+c+" contains a document reference within a different database ("+s.projectId+"/"+s.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),c},i}();function Vp(i,t,e){return i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t}var Tu=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,x.ZT)(t,i),t.prototype.convertBytes=function(e){return new Vs(e)},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,o)},t}(Du),dI=function(){function i(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Bs(t)}return i.prototype.set=function(t,e,o){this._verifyNotCommitted();var s=Ha(t,this._firestore),c=Vp(s.converter,e,o),f=Op(this._dataReader,"WriteBatch.set",s._key,c,null!==s.converter,o);return this._mutations.push(f.toMutation(s._key,bn.none())),this},i.prototype.update=function(t,e,o){for(var s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];this._verifyNotCommitted();var f,m=Ha(t,this._firestore);return f="string"==typeof(e=(0,It.m9)(e))||e instanceof Ao?Jy(this._dataReader,"WriteBatch.update",m._key,e,o,s):Qy(this._dataReader,"WriteBatch.update",m._key,e),this._mutations.push(f.toMutation(m._key,bn.exists(!0))),this},i.prototype.delete=function(t){this._verifyNotCommitted();var e=Ha(t,this._firestore);return this._mutations=this._mutations.concat(new ru(e._key,bn.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new ge(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function Ha(i,t){if((i=(0,It.m9)(i)).firestore!==t)throw new ge(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var Ga=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,x.ZT)(t,i),t.prototype.convertBytes=function(e){return new Vs(e)},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,o)},t}(Du);function io(i,t,e){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];i=At(i,cn);var c=At(i.firestore,Sn),f=Bs(c);return Bp(c,[("string"==typeof(t=(0,It.m9)(t))||t instanceof Ao?Jy(f,"updateDoc",i._key,t,e,o):Qy(f,"updateDoc",i._key,t)).toMutation(i._key,bn.exists(!0))])}function iv(i){for(var t,e,o,s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];i=(0,It.m9)(i);var f={includeMetadataChanges:!1},m=0;"object"!=typeof s[m]||Eu(s[m])||(f=s[m],m++);var y,b,C,D={includeMetadataChanges:f.includeMetadataChanges};if(Eu(s[m])){var T=s[m];s[m]=null===(t=T.next)||void 0===t?void 0:t.bind(T),s[m+1]=null===(e=T.error)||void 0===e?void 0:e.bind(T),s[m+2]=null===(o=T.complete)||void 0===o?void 0:o.bind(T)}if(i instanceof cn)b=At(i.firestore,Sn),C=Ss(i._key.path),y={next:function(V){s[m]&&s[m](Mu(b,i,V))},error:s[m+1],complete:s[m+2]};else{var A=At(i,Rr);b=At(A.firestore,Sn),C=A._query;var R=new Ga(b);y={next:function(V){s[m]&&s[m](new Io(b,R,A,V))},error:s[m+1],complete:s[m+2]},Pp(i._query)}return function(V,Z,le,me){var we=this,Oe=new By(me),Fe=new Oy(Z,Oe,le);return V.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(we,void 0,void 0,function(){var ot;return(0,x.Jh)(this,function(Rt){switch(Rt.label){case 0:return ot=_p,[4,bu(V)];case 1:return[2,ot.apply(void 0,[Rt.sent(),Fe])]}})})}),function(){Oe.Wo(),V.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(we,void 0,void 0,function(){var ot;return(0,x.Jh)(this,function(Rt){switch(Rt.label){case 0:return ot=yp,[4,bu(V)];case 1:return[2,ot.apply(void 0,[Rt.sent(),Fe])]}})})})}}(Wn(b),C,D,y)}function Bp(i,t){return function(e,o){var s=this,c=new En;return e.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(s,void 0,void 0,function(){var f;return(0,x.Jh)(this,function(m){switch(m.label){case 0:return f=HA,[4,qy(e)];case 1:return[2,f.apply(void 0,[m.sent(),o,c])]}})})}),c.promise}(Wn(i),t)}function Mu(i,t,e){var o=e.docs.get(t._key),s=new Ga(i);return new ro(i,s,t._key,o,new ns(e.hasPendingWrites,e.fromCache),t.converter)}var hI=function(i){function t(e,o){var s=this;return(s=i.call(this,e,o)||this)._firestore=e,s}return(0,x.ZT)(t,i),t.prototype.get=function(e){var o=this,s=Ha(e,this._firestore),c=new Ga(this._firestore);return i.prototype.get.call(this,e).then(function(f){return new ro(o._firestore,c,s._key,f._document,new ns(!1,!1),s.converter)})},t}(function(){function i(t,e){this._firestore=t,this._transaction=e,this._dataReader=Bs(t)}return i.prototype.get=function(t){var e=this,o=Ha(t,this._firestore),s=new Tu(this._firestore);return this._transaction.lookup([o._key]).then(function(c){if(!c||1!==c.length)return Ge();var f=c[0];if(f.isFoundDocument())return new Od(e._firestore,s,f.key,f,o.converter);if(f.isNoDocument())return new Od(e._firestore,s,o._key,null,o.converter);throw Ge()})},i.prototype.set=function(t,e,o){var s=Ha(t,this._firestore),c=Vp(s.converter,e,o),f=Op(this._dataReader,"Transaction.set",s._key,c,null!==s.converter,o);return this._transaction.set(s._key,f),this},i.prototype.update=function(t,e,o){for(var s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var f,m=Ha(t,this._firestore);return f="string"==typeof(e=(0,It.m9)(e))||e instanceof Ao?Jy(this._dataReader,"Transaction.update",m._key,e,o,s):Qy(this._dataReader,"Transaction.update",m._key,e),this._transaction.update(m._key,f),this},i.prototype.delete=function(t){var e=Ha(t,this._firestore);return this._transaction.delete(e._key),this},i}());function eS(){if("undefined"==typeof Uint8Array)throw new ge(se.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function fI(){if("undefined"==typeof atob)throw new ge(se.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var tS=function(){function i(t){this._delegate=t}return i.fromBase64String=function(t){return fI(),new i(Vs.fromBase64String(t))},i.fromUint8Array=function(t){return eS(),new i(Vs.fromUint8Array(t))},i.prototype.toBase64=function(){return fI(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return eS(),this._delegate.toUint8Array()},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),pI=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(t,e){return function(o,s){Ba(o=At(o,Sn));var c=Wn(o),f=o._freezeSettings(),m=new yu;return UE(c,m,new xE(m,f.cacheSizeBytes,null==s?void 0:s.forceOwnership))}(t._delegate,{forceOwnership:e})},i.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(e){Ba(e=At(e,Sn));var o=Wn(e),s=e._freezeSettings(),c=new yu;return UE(o,c,new Ep(c,s.cacheSizeBytes))}(t._delegate)},i.prototype.clearIndexedDbPersistence=function(t){return function(e){var o=this;if(e._initialized&&!e._terminated)throw new ge(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var s=new En;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,x.mG)(o,void 0,void 0,function(){var c;return(0,x.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,function(m){return(0,x.mG)(this,void 0,void 0,function(){return(0,x.Jh)(this,function(b){switch(b.label){case 0:return eo.yt()?[4,eo.delete(m+"main")]:[2,Promise.resolve()];case 1:return b.sent(),[2]}})})}(py(e._databaseId,e._persistenceKey))];case 1:return f.sent(),s.resolve(),[3,3];case 2:return c=f.sent(),s.reject(c),[3,3];case 3:return[2]}})})}),s.promise}(t._delegate)},i}(),nS=function(){function i(t,e,o){var s=this;this._delegate=e,this.Zc=o,this.INTERNAL={delete:function(){return s.terminate()}},t instanceof Id||(this.tu=t)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||If("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},i.prototype.useEmulator=function(t,e,o){void 0===o&&(o={}),function(s,c,f,m){void 0===m&&(m={});var y=(s=At(s,Ip))._getSettings();if("firestore.googleapis.com"!==y.host&&y.host!==c&&If("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},y),{host:c+":"+f,ssl:!1})),m.mockUserToken){var b=(0,It.Sg)(m.mockUserToken),C=m.mockUserToken.sub||m.mockUserToken.user_id;if(!C)throw new ge(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s._credentials=new xd(new PE(b,new xr(C)))}}(this._delegate,t,e,o)},i.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,x.mG)(e,void 0,void 0,function(){var o,s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,kE(t)];case 1:return o=c.sent(),[4,vu(t)];case 2:return s=c.sent(),[2,(o.setNetworkEnabled(!0),f=s,m=Se(f),m.Or.delete(0),hu(m))]}var f,m})})})}(Wn(At(this._delegate,Sn)))},i.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,x.mG)(e,void 0,void 0,function(){var o,s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return[4,kE(t)];case 1:return o=c.sent(),[4,vu(t)];case 2:return s=c.sent(),[2,(o.setNetworkEnabled(!1),function(f){return(0,x.mG)(this,void 0,void 0,function(){var m;return(0,x.Jh)(this,function(y){switch(y.label){case 0:return(m=Se(f)).Or.add(0),[4,Sd(m)];case 1:return y.sent(),m.Br.set("Offline"),[2]}})})}(s))]}})})})}(Wn(At(this._delegate,Sn)))},i.prototype.enablePersistence=function(t){var e=!1,o=!1;return t&&$y("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",o=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(t){var e=this,o=new En;return t.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(e,void 0,void 0,function(){var s;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return s=ME,[4,qy(t)];case 1:return[2,s.apply(void 0,[c.sent(),o])]}})})}),o.promise}(Wn(At(this._delegate,Sn)))},i.prototype.onSnapshotsInSync=function(t){return o=t,function(s,c){var f=this,m=new By(c);return s.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(f,void 0,void 0,function(){var y;return(0,x.Jh)(this,function(b){switch(b.label){case 0:return y=function(C,D){Se(C).Gr.add(D),D.next()},[4,bu(s)];case 1:return[2,y.apply(void 0,[b.sent(),m])]}})})}),function(){m.Wo(),s.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(f,void 0,void 0,function(){var y;return(0,x.Jh)(this,function(b){switch(b.label){case 0:return y=function(C,D){Se(C).Gr.delete(D)},[4,bu(s)];case 1:return[2,y.apply(void 0,[b.sent(),m])]}})})})}}(Wn(At(this._delegate,Sn)),Eu(o)?o:{next:o});var o},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new ge(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new Fd(this,VE(this._delegate,t))}catch(e){throw Or(e,"collection()","Firestore.collection()")}},i.prototype.doc=function(t){try{return new Iu(this,xp(this._delegate,t))}catch(e){throw Or(e,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(t){try{return new Ou(this,function(e,o){if(e=At(e,Ip),Tp("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new ge(se.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Rr(e,null,(s=o,new Qo(Ct.emptyPath(),s)));var s}(this._delegate,t))}catch(e){throw Or(e,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(t){var o,e=this;return function(c,f){var m=this,y=new En;return c.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(m,void 0,void 0,function(){var b;return(0,x.Jh)(this,function(C){switch(C.label){case 0:return[4,(D=c,Dp(D).then(function(T){return T.datastore}))];case 1:return b=C.sent(),new WA(c.asyncQueue,b,f,y).run(),[2]}var D})})}),y.promise}(Wn(o=this._delegate),function(c){return function(o){return t(new Up(e,o))}(new hI(o,c))})},i.prototype.batch=function(){var t=this;return Wn(this._delegate),new ov(new dI(this._delegate,function(e){return Bp(t._delegate,e)}))},i.prototype.loadBundle=function(t){throw new ge(se.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(t){throw new ge(se.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),Au=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,x.ZT)(t,i),t.prototype.convertBytes=function(e){return new tS(new Vs(e))},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return Iu.eu(o,this.firestore,null)},t}(Du),Up=function(){function i(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Au(t)}return i.prototype.get=function(t){var e=this,o=xo(t);return this._delegate.get(o).then(function(s){return new xu(e._firestore,new ro(e._firestore._delegate,e._userDataWriter,s._key,s._document,s.metadata,o.converter))})},i.prototype.set=function(t,e,o){var s=xo(t);return o?(Mp("Transaction.set",o),this._delegate.set(s,e,o)):this._delegate.set(s,e),this},i.prototype.update=function(t,e,o){for(var s,c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var m=xo(t);return 2===arguments.length?this._delegate.update(m,e):(s=this._delegate).update.apply(s,(0,x.ev)([m,e,o],c)),this},i.prototype.delete=function(t){var e=xo(t);return this._delegate.delete(e),this},i}(),ov=function(){function i(t){this._delegate=t}return i.prototype.set=function(t,e,o){var s=xo(t);return o?(Mp("WriteBatch.set",o),this._delegate.set(s,e,o)):this._delegate.set(s,e),this},i.prototype.update=function(t,e,o){for(var s,c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var m=xo(t);return 2===arguments.length?this._delegate.update(m,e):(s=this._delegate).update.apply(s,(0,x.ev)([m,e,o],c)),this},i.prototype.delete=function(t){var e=xo(t);return this._delegate.delete(e),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),jp=function(){function i(t,e,o){this._firestore=t,this._userDataWriter=e,this._delegate=o}return i.prototype.fromFirestore=function(t,e){var o=new Su(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Ru(this._firestore,o),null!=e?e:{})},i.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},i.nu=function(t,e){var o=i.su,s=o.get(t);s||(s=new WeakMap,o.set(t,s));var c=s.get(e);return c||(c=new i(t,new Au(t),e),s.set(e,c)),c},i}();jp.su=new WeakMap;var Iu=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Au(t)}return i.iu=function(t,e,o){if(t.length%2!=0)throw new ge(se.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new i(e,new cn(e._delegate,o,new Ue(t)))},i.eu=function(t,e,o){return new i(e,new cn(e._delegate,o,t))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Fd(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new Fd(this.firestore,VE(this._delegate,t))}catch(e){throw Or(e,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(t){return(t=(0,It.m9)(t))instanceof cn&&Wy(this._delegate,t)},i.prototype.set=function(t,e){e=Mp("DocumentReference.set",e);try{return function(o,s,c){o=At(o,cn);var f=At(o.firestore,Sn),m=Vp(o.converter,s,c);return Bp(f,[Op(Bs(f),"setDoc",o._key,m,null!==o.converter,c).toMutation(o._key,bn.none())])}(this._delegate,t,e)}catch(o){throw Or(o,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(t,e){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];try{return 1===arguments.length?io(this._delegate,t):io.apply(void 0,(0,x.ev)([this._delegate,t,e],o))}catch(c){throw Or(c,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return Bp(At((t=this._delegate).firestore,Sn),[new ru(t._key,bn.none())]);var t},i.prototype.onSnapshot=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s=iS(e),c=oS(e,function(f){return new xu(t.firestore,new ro(t.firestore._delegate,t._userDataWriter,f._key,f._document,f.metadata,t._delegate.converter))});return iv(this._delegate,s,c)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(o){o=At(o,cn);var s=At(o.firestore,Sn),c=Wn(s),f=new Ga(s);return function(m,y){var b=this,C=new En;return m.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(b,void 0,void 0,function(){var D;return(0,x.Jh)(this,function(T){switch(T.label){case 0:return D=function(A,R,V){return(0,x.mG)(this,void 0,void 0,function(){var Z,le;return(0,x.Jh)(this,function(me){switch(me.label){case 0:return me.trys.push([0,2,,3]),[4,(we=A,Oe=R,Fe=Se(we),Fe.persistence.runTransaction("read document","readonly",function(ot){return Fe.Mn.mn(ot,Oe)}))];case 1:return(le=me.sent()).isFoundDocument()?V.resolve(le):le.isNoDocument()?V.resolve(null):V.reject(new ge(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Z=me.sent(),le=Pa(Z,"Failed to get document '"+R+" from cache"),V.reject(le),[3,3];case 3:return[2]}var we,Oe,Fe})})},[4,Gy(m)];case 1:return[2,D.apply(void 0,[T.sent(),y,C])]}})})}),C.promise}(c,o._key).then(function(m){return new ro(s,f,o._key,m,new ns(null!==m&&m.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(o){o=At(o,cn);var s=At(o.firestore,Sn);return FE(Wn(s),o._key,{source:"server"}).then(function(c){return Mu(s,o,c)})}(this._delegate):function(o){o=At(o,cn);var s=At(o.firestore,Sn);return FE(Wn(s),o._key).then(function(c){return Mu(s,o,c)})}(this._delegate)).then(function(o){return new xu(e.firestore,new ro(e.firestore._delegate,e._userDataWriter,o._key,o._document,o.metadata,e._delegate.converter))})},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?jp.nu(this.firestore,t):null))},i}();function Or(i,t,e){return i.message=i.message.replace(t,e),i}function iS(i){for(var t=0,e=i;t<e.length;t++){var o=e[t];if("object"==typeof o&&!Eu(o))return o}return{}}function oS(i,t){var e,o,s;return{next:function(c){s.next&&s.next(t(c))},error:null===(e=(s=Eu(i[0])?i[0]:Eu(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===e?void 0:e.bind(s),complete:null===(o=s.complete)||void 0===o?void 0:o.bind(s)}}var xu=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"ref",{get:function(){return new Iu(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(t){return this._delegate.data(t)},i.prototype.get=function(t,e){return this._delegate.get(t,e)},i.prototype.isEqual=function(t){return QE(this._delegate,t._delegate)},i}(),Ru=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,x.ZT)(t,i),t.prototype.data=function(e){return this._delegate.data(e)},t}(xu),Ou=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Au(t)}return i.prototype.where=function(t,e,o){try{return new i(this.firestore,rs(this._delegate,(f=o,m=e,y=Np("where",s=t),new lI(y,m,f))))}catch(s){throw Or(s,/(orderBy|where)\(\)/,"Query.$1()")}var s,f,m,y},i.prototype.orderBy=function(t,e){try{return new i(this.firestore,rs(this._delegate,function(o,s){void 0===s&&(s="asc");var c=s,f=Np("orderBy",o);return new JE(f,c)}(t,e)))}catch(o){throw Or(o,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(t){try{return new i(this.firestore,rs(this._delegate,(JA("limit",e=t),new nv("limit",e,"F"))))}catch(e){throw Or(e,"limit()","Query.limit()")}var e},i.prototype.limitToLast=function(t){try{return new i(this.firestore,rs(this._delegate,(JA("limitToLast",e=t),new nv("limitToLast",e,"L"))))}catch(e){throw Or(e,"limitToLast()","Query.limitToLast()")}var e},i.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,rs(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new rv("startAt",o,!0)}.apply(void 0,t)))}catch(o){throw Or(o,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,rs(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new rv("startAfter",o,!1)}.apply(void 0,t)))}catch(o){throw Or(o,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,rs(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new uI("endBefore",o,!0)}.apply(void 0,t)))}catch(o){throw Or(o,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,rs(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new uI("endAt",o,!1)}.apply(void 0,t)))}catch(o){throw Or(o,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(t){return Cu(this._delegate,t._delegate)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(o){o=At(o,Rr);var s=At(o.firestore,Sn),c=Wn(s),f=new Ga(s);return function(m,y){var b=this,C=new En;return m.asyncQueue.enqueueAndForget(function(){return(0,x.mG)(b,void 0,void 0,function(){var D;return(0,x.Jh)(this,function(T){switch(T.label){case 0:return D=function(A,R,V){return(0,x.mG)(this,void 0,void 0,function(){var Z,le,me,we,Oe;return(0,x.Jh)(this,function(Fe){switch(Fe.label){case 0:return Fe.trys.push([0,2,,3]),[4,wd(A,R,!0)];case 1:return Oe=Fe.sent(),Z=new CE(R,Oe.Bn),le=Z._o(Oe.documents),me=Z.applyChanges(le,!1),V.resolve(me.snapshot),[3,3];case 2:return we=Fe.sent(),Oe=Pa(we,"Failed to execute query '"+R+" against cache"),V.reject(Oe),[3,3];case 3:return[2]}})})},[4,Gy(m)];case 1:return[2,D.apply(void 0,[T.sent(),y,C])]}})})}),C.promise}(c,o._query).then(function(m){return new Io(s,f,o,m)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(o){o=At(o,Rr);var s=At(o.firestore,Sn),c=Wn(s),f=new Ga(s);return Ad(c,o._query,{source:"server"}).then(function(m){return new Io(s,f,o,m)})}(this._delegate):function(o){o=At(o,Rr);var s=At(o.firestore,Sn),c=Wn(s),f=new Ga(s);return Pp(o._query),Ad(c,o._query).then(function(m){return new Io(s,f,o,m)})}(this._delegate)).then(function(o){return new sv(e.firestore,new Io(e.firestore._delegate,e._userDataWriter,e._delegate,o._snapshot))})},i.prototype.onSnapshot=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s=iS(e),c=oS(e,function(f){return new sv(t.firestore,new Io(t.firestore._delegate,t._userDataWriter,t._delegate,f._snapshot))});return iv(this._delegate,s,c)},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?jp.nu(this.firestore,t):null))},i}(),gI=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new Ru(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),sv=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"query",{get:function(){return new Ou(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Ru(t._firestore,e)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(o){return new gI(e._firestore,o)})},i.prototype.forEach=function(t,e){var o=this;this._delegate.forEach(function(s){t.call(e,new Ru(o._firestore,s))})},i.prototype.isEqual=function(t){return QE(this._delegate,t._delegate)},i}(),Fd=function(i){function t(e,o){var s=this;return(s=i.call(this,e,o)||this).firestore=e,s._delegate=o,s}return(0,x.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Iu(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Iu(this.firestore,void 0===e?xp(this._delegate):xp(this._delegate,e))}catch(o){throw Or(o,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var s,c,f,m,y,o=this;return(s=this._delegate,c=e,f=At(s.firestore,Sn),m=xp(s),y=Vp(s.converter,c),Bp(f,[Op(Bs(s.firestore),"addDoc",m._key,y,null!==s.converter,{}).toMutation(m._key,bn.exists(!1))]).then(function(){return m})).then(function(s){return new Iu(o.firestore,s)})},t.prototype.isEqual=function(e){return Wy(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?jp.nu(this.firestore,e):null))},t}(Ou);function xo(i){return At(i,cn)}var mI=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ao.bind.apply(Ao,(0,x.ev)([void 0],t)))}return i.documentId=function(){return new i(Xn.keyField().canonicalString())},i.prototype.isEqual=function(t){return(t=(0,It.m9)(t))instanceof Ao&&this._delegate._internalPath.isEqual(t._internalPath)},i}(),sS=function(){function i(t){this._delegate=t}return i.serverTimestamp=function(){var t=new Ky("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new i(t)},i.delete=function(){var t=new Zy("deleteField");return t._methodName="FieldValue.delete",new i(t)},i.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return new iI("arrayUnion",s)}.apply(void 0,t);return o._methodName="FieldValue.arrayUnion",new i(o)},i.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return new $E("arrayRemove",s)}.apply(void 0,t);return o._methodName="FieldValue.arrayRemove",new i(o)},i.increment=function(t){var e=new oI("increment",t);return e._methodName="FieldValue.increment",new i(e)},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i}(),Nd=k(6034),_I={Firestore:nS,GeoPoint:Rd,Timestamp:vn,Blob:tS,Transaction:Up,WriteBatch:ov,DocumentReference:Iu,DocumentSnapshot:xu,Query:Ou,QueryDocumentSnapshot:Ru,QuerySnapshot:sv,CollectionReference:Fd,FieldPath:mI,FieldValue:sS,setLogLevel:function(i){Ei.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){i.INTERNAL.registerComponent(new Nd.wA("firestore",function(o){return t=o.getProvider("app").getImmediate(),e=o.getProvider("auth-internal"),new nS(t,new Sn(t,e),new pI);var t,e},"PUBLIC").setServiceProps(Object.assign({},_I))),i.registerVersion("@firebase/firestore","2.3.10")}(Ml.Z);var je=k(9765),si=k(6682),kr=k(5345);function Rn(i,t){return"function"==typeof t?e=>e.pipe(Rn((o,s)=>(0,Jt.D)(i(o,s)).pipe((0,Le.U)((c,f)=>t(o,c,s,f))))):e=>e.lift(new vI(i))}class vI{constructor(t){this.project=t}call(t,e){return e.subscribe(new bI(t,this.project))}}class bI extends kr.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const o=this.index++;try{e=this.project(t,o)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const o=new kr.IY(this),s=this.destination;s.add(o),this.innerSubscription=(0,kr.ft)(t,o),this.innerSubscription!==o&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var aS=k(7771),ur=k(5319),lS=k(7971),wI=k(8858);class FO extends je.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new CI(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,o=e?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,c=o.length;let f;if(this.closed)throw new lS.N;if(this.isStopped||this.hasError?f=ur.w.EMPTY:(this.observers.push(t),f=new wI.W(this,t)),s&&t.add(t=new Jr.ht(t,s)),e)for(let m=0;m<c&&!t.closed;m++)t.next(o[m]);else for(let m=0;m<c&&!t.closed;m++)t.next(o[m].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),f}_getNow(){return(this.scheduler||aS.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,o=this._windowTime,s=this._events,c=s.length;let f=0;for(;f<c&&!(t-s[f].time<o);)f++;return c>e&&(f=Math.max(f,c-e)),f>0&&s.splice(0,f),s}}class CI{constructor(t,e){this.time=t,this.value=e}}function qa(i,t,e){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:t,refCount:!1,scheduler:e},s=>s.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let s,f,c=0,m=!1,y=!1;return function(C){let D;c++,!s||m?(m=!1,s=new FO(i,t,o),D=s.subscribe(this),f=C.subscribe({next(T){s.next(T)},error(T){m=!0,s.error(T)},complete(){y=!0,f=void 0,s.complete()}}),y&&(f=void 0)):D=s.subscribe(this),this.add(()=>{c--,D.unsubscribe(),D=void 0,f&&!y&&e&&0===c&&(f.unsubscribe(),f=void 0,s=void 0)})}}(o))}const Hp=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})(),js=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();var Ro=k(9193);function dn(i){return t=>0===i?(0,Ro.c)():t.lift(new PO(i))}class PO{constructor(t){if(this.total=t,this.total<0)throw new js}call(t,e){return e.subscribe(new SI(t,this.total))}}class SI extends sn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,o=++this.count;o<=e&&(this.destination.next(t),o===e&&(this.destination.complete(),this.unsubscribe()))}}function Pd(i=null){return t=>t.lift(new DI(i))}class DI{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new TI(t,this.defaultValue))}}class TI extends sn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function cv(i=cS){return t=>t.lift(new uS(i))}class uS{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new dv(t,this.errorFactory))}}class dv extends sn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function cS(){return new Hp}var hv=k(4487);function za(i,t){const e=arguments.length>=2;return o=>o.pipe(i?Ft((s,c)=>i(s,c,o)):hv.y,dn(1),e?Pd(t):cv(()=>new Hp))}function dS(i,t){return t?Rn(()=>i,t):Rn(()=>i)}var Gp=k(9673);const Ld=new d.OlP("angularfire2.auth.use-emulator"),Vd=new d.OlP("angularfire2.auth.settings"),Bd=new d.OlP("angularfire2.auth.tenant-id"),AI=new d.OlP("angularfire2.auth.langugage-code"),ku=new d.OlP("angularfire2.auth.use-device-language"),xt=new d.OlP("angularfire.auth.persistence");let is=(()=>{class i{constructor(e,o,s,c,f,m,y,b,C,D){const T=new Gn.HU(c),A=(0,Gn.ss)(T),R=new je.xQ,V=(0,Ne.of)(void 0).pipe((0,Jr.QV)(T.outsideAngular),Rn(()=>c.runOutsideAngular(()=>k.e(336).then(k.bind(k,1336)))),(0,Le.U)(()=>(0,Gn.on)(e,c,o)),(0,Le.U)(Z=>c.runOutsideAngular(()=>{const le=f,me=m;return(0,Gn.sI)(`${Z.name}.auth`,"AngularFireAuth",Z,()=>{const we=c.runOutsideAngular(()=>Z.auth());if(le&&we.useEmulator(`http://${le.join(":")}`),y&&(we.tenantId=y),we.languageCode=b,C&&we.useDeviceLanguage(),me)for(const[Oe,Fe]of Object.entries(me))we.settings[Oe]=Fe;return D&&we.setPersistence(D),we},[le,y,b,C,me,D])})),qa({bufferSize:1,refCount:!1}));if(I0(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ne.of)(null);else{V.pipe(za()).subscribe();const le=V.pipe(Rn(Fe=>Fe.getRedirectResult().then(ot=>ot,()=>null)),A,qa({bufferSize:1,refCount:!1})),me=Fe=>new Vt.y(ot=>({unsubscribe:c.runOutsideAngular(()=>Fe(ot))})),we=V.pipe(Rn(Fe=>me(Fe.onAuthStateChanged.bind(Fe)))),Oe=V.pipe(Rn(Fe=>me(Fe.onIdTokenChanged.bind(Fe))));this.authState=le.pipe(dS(we),(0,Gp.R)(T.outsideAngular),(0,Jr.QV)(T.insideAngular)),this.user=le.pipe(dS(Oe),(0,Gp.R)(T.outsideAngular),(0,Jr.QV)(T.insideAngular)),this.idToken=this.user.pipe(Rn(Fe=>Fe?(0,Jt.D)(Fe.getIdToken()):(0,Ne.of)(null))),this.idTokenResult=this.user.pipe(Rn(Fe=>Fe?(0,Jt.D)(Fe.getIdTokenResult()):(0,Ne.of)(null))),this.credential=(0,si.T)(le,R,this.authState.pipe(Ft(Fe=>!Fe))).pipe((0,Le.U)(Fe=>(null==Fe?void 0:Fe.user)?Fe:null),(0,Gp.R)(T.outsideAngular),(0,Jr.QV)(T.insideAngular))}return(0,Gn.pX)(this,V,c,{spy:{apply:(Z,le,me)=>{(Z.startsWith("signIn")||Z.startsWith("createUser"))&&me.then(we=>R.next(we))}}})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Gn.Dh),d.LFG(Gn.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ld,8),d.LFG(Vd,8),d.LFG(Bd,8),d.LFG(AI,8),d.LFG(ku,8),d.LFG(xt,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Gn.Dh),d.LFG(Gn.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Ld,8),d.LFG(Vd,8),d.LFG(Bd,8),d.LFG(AI,8),d.LFG(ku,8),d.LFG(xt,8))},token:i,providedIn:"any"}),i})();function II(i,t){return function(i,t=$h.z){return new Vt.y(e=>{let o;return null!=t?t.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},e)}):o=i.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=o&&o()}})}(i,t)}function $r(i,t){return II(i,t).pipe((0,Le.U)(e=>({payload:e,type:"query"})))}function Fu(i,t){return $r(i,t).pipe(mr(void 0),Yh(),(0,Le.U)(([e,o])=>{const s=o.payload.docChanges(),c=s.map(f=>({type:f.type,payload:f}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((f,m)=>{const y=s.find(C=>C.doc.ref.isEqual(f.ref)),b=null==e?void 0:e.payload.docs.find(C=>C.ref.isEqual(f.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(f.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),c}))}function Hs(i,t,e){return Fu(i,e).pipe(Dl((o,s)=>function(i,t,e){return t.forEach(o=>{e.indexOf(o.type)>-1&&(i=function(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return qp(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return qp(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return qp(i,t.oldIndex,1)}return i}(i,o))}),i}(o,s.map(c=>c.payload),t),[]),Tl(),(0,Le.U)(o=>o.map(s=>({type:s.type,payload:s}))))}function qp(i,t,e,...o){const s=i.slice();return s.splice(t,e,...o),s}function xI(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class fS{constructor(t,e,o){this.ref=t,this.query=e,this.afs=o}stateChanges(t){let e=Fu(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Le.U)(o=>o.filter(s=>t.indexOf(s.type)>-1)))),e.pipe(mr(void 0),Yh(),Ft(([o,s])=>s.length>0||!o),(0,Le.U)(([o,s])=>s),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Dl((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=xI(t);return Hs(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $r(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(e=>e.payload.docs.map(o=>t.idField?Object.assign(Object.assign({},o.data()),{[t.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Jt.D)(this.query.get(t)).pipe((0,Jr.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new pS(this.ref.doc(t),this.afs)}}class pS{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const o=this.ref.collection(t),{ref:s,query:c}=pv(o,e);return new fS(s,c,this.afs)}snapshotChanges(){return function(i,t){return II(i,t).pipe(mr(void 0),Yh(),(0,Le.U)(([e,o])=>o.exists?(null==e?void 0:e.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Le.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Jt.D)(this.ref.get(t)).pipe((0,Jr.QV)(this.afs.schedulers.insideAngular))}}class Fi{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Fu(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(e=>e.filter(o=>t.indexOf(o.type)>-1)),Ft(e=>e.length>0),this.afs.keepUnstableUntilFirst):Fu(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Dl((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=xI(t);return Hs(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return $r(this.query,this.afs.schedulers.outsideAngular).pipe((0,Le.U)(o=>o.payload.docs.map(s=>t.idField?Object.assign({[t.idField]:s.id},s.data()):s.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Jt.D)(this.query.get(t)).pipe((0,Jr.QV)(this.afs.schedulers.insideAngular))}}const Zt=new d.OlP("angularfire2.enableFirestorePersistence"),ai=new d.OlP("angularfire2.firestore.persistenceSettings"),fv=new d.OlP("angularfire2.firestore.settings"),gS=new d.OlP("angularfire2.firestore.use-emulator");function pv(i,t=(e=>e)){return{query:t(i),ref:i}}let zp=(()=>{class i{constructor(e,o,s,c,f,m,y,b,C){this.schedulers=new Gn.HU(m),this.keepUnstableUntilFirst=(0,Gn.ss)(this.schedulers);const D=(0,Gn.on)(e,m,o);!Pm.Z.auth&&C&&(0,Gn.yq)();const T=b;[this.firestore,this.persistenceEnabled$]=(0,Gn.sI)(`${D.name}.firestore`,"AngularFirestore",D,()=>{const A=m.runOutsideAngular(()=>D.firestore());if(c&&A.settings(c),T&&A.useEmulator(...T),s&&!I0(f)){const R=()=>{try{return(0,Jt.D)(A.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(V){return"undefined"!=typeof console&&console.warn(V),(0,Ne.of)(!1)}};return[A,m.runOutsideAngular(R)]}return[A,(0,Ne.of)(!1)]},[c,T,s])}collection(e,o){let s;s="string"==typeof e?this.firestore.collection(e):e;const{ref:c,query:f}=pv(s,o),m=this.schedulers.ngZone.run(()=>c);return new fS(m,f,this)}collectionGroup(e,o){const s=o||(f=>f),c=this.firestore.collectionGroup(e);return new Fi(s(c),this)}doc(e){let o;o="string"==typeof e?this.firestore.doc(e):e;const s=this.schedulers.ngZone.run(()=>o);return new pS(s,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Gn.Dh),d.LFG(Gn.xv,8),d.LFG(Zt,8),d.LFG(fv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ai,8),d.LFG(gS,8),d.LFG(Ld,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Gn.Dh),d.LFG(Gn.xv,8),d.LFG(Zt,8),d.LFG(fv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(ai,8),d.LFG(gS,8),d.LFG(Ld,8))},token:i,providedIn:"any"}),i})(),Nu=(()=>{class i{static enablePersistence(e){return{ngModule:i,providers:[{provide:Zt,useValue:!0},{provide:ai,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[zp]}),i})();class Pu{}const Fr="*";function Lu(i,t){return{type:7,name:i,definitions:t,options:{}}}function oo(i,t=null){return{type:4,styles:t,timings:i}}function Vu(i,t=null){return{type:2,steps:i,options:t}}function On(i){return{type:6,styles:i,offset:null}}function Oo(i,t,e){return{type:0,name:i,styles:t,options:e}}function ko(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function _S(i){Promise.resolve(null).then(i)}class Gs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_S(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class $p{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,o=0,s=0;const c=this.players.length;0==c?_S(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==c&&this._onFinish()}),f.onDestroy(()=>{++o==c&&this._onDestroy()}),f.onStart(()=>{++s==c&&this._onStart()})}),this.totalTime=this.players.reduce((f,m)=>Math.max(f,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(o=>{const s=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(s)})}getPosition(){const t=this.players.reduce((e,o)=>null===e||o.totalTime>e.totalTime?o:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}function NI(){return"undefined"!=typeof window&&void 0!==window.document}function Ke(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $a(i){switch(i.length){case 0:return new Gs;case 1:return i[0];default:return new $p(i)}}function Bu(i,t,e,o,s={},c={}){const f=[],m=[];let y=-1,b=null;if(o.forEach(C=>{const D=C.offset,T=D==y,A=T&&b||{};Object.keys(C).forEach(R=>{let V=R,Z=C[R];if("offset"!==R)switch(V=t.normalizePropertyName(V,f),Z){case"!":Z=s[R];break;case Fr:Z=c[R];break;default:Z=t.normalizeStyleValue(R,V,Z,f)}A[V]=Z}),T||m.push(A),b=A,y=D}),f.length){const C="\n - ";throw new Error(`Unable to animate due to the following errors:${C}${f.join(C)}`)}return m}function _v(i,t,e,o){switch(t){case"start":i.onStart(()=>o(e&&yv(e,"start",i)));break;case"done":i.onDone(()=>o(e&&yv(e,"done",i)));break;case"destroy":i.onDestroy(()=>o(e&&yv(e,"destroy",i)))}}function yv(i,t,e){const o=e.totalTime,c=vv(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,null==o?i.totalTime:o,!!e.disabled),f=i._data;return null!=f&&(c._data=f),c}function vv(i,t,e,o,s="",c=0,f){return{element:i,triggerName:t,fromState:e,toState:o,phaseName:s,totalTime:c,disabled:!!f}}function Ni(i,t,e){let o;return i instanceof Map?(o=i.get(t),o||i.set(t,o=e)):(o=i[t],o||(o=i[t]=e)),o}function PI(i){const t=i.indexOf(":");return[i.substring(1,t),i.substr(t+1)]}let bv=(i,t)=>!1,wv=(i,t)=>!1,Yp=(i,t,e)=>[];const vS=Ke();(vS||"undefined"!=typeof Element)&&(bv=NI()?(i,t)=>{for(;t&&t!==document.documentElement;){if(t===i)return!0;t=t.parentNode||t.host}return!1}:(i,t)=>i.contains(t),wv=(()=>{if(vS||Element.prototype.matches)return(i,t)=>i.matches(t);{const i=Element.prototype,t=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return t?(e,o)=>t.apply(e,[o]):wv}})(),Yp=(i,t,e)=>{let o=[];if(e){const s=i.querySelectorAll(t);for(let c=0;c<s.length;c++)o.push(s[c])}else{const s=i.querySelector(t);s&&o.push(s)}return o});let Ya=null,bS=!1;function Cv(i){Ya||(Ya=("undefined"!=typeof document?document.body:null)||{},bS=!!Ya.style&&"WebkitAppearance"in Ya.style);let t=!0;return Ya.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Ya.style,!t&&bS&&(t="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Ya.style)),t}const Sv=wv,Dv=bv,Wp=Yp;function Zp(i){const t={};return Object.keys(i).forEach(e=>{const o=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[o]=i[e]}),t}let wS=(()=>{class i{validateStyleProperty(e){return Cv(e)}matchesElement(e,o){return Sv(e,o)}containsElement(e,o){return Dv(e,o)}query(e,o,s){return Wp(e,o,s)}computeStyle(e,o,s){return s||""}animate(e,o,s,c,f,m=[],y){return new Gs(s,c)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class Tv{}Tv.NOOP=new wS;const Mv="ng-enter",Kp="ng-leave",Jp="ng-trigger",Xp=".ng-trigger",Av="ng-animating",Wa=".ng-animating";function Uu(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:eg(parseFloat(t[1]),t[2])}function eg(i,t){switch(t){case"s":return 1e3*i;default:return i}}function tg(i,t,e){return i.hasOwnProperty("duration")?i:function(i,t,e){let s,c=0,f="";if("string"==typeof i){const m=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};s=eg(parseFloat(m[1]),m[2]);const y=m[3];null!=y&&(c=eg(parseFloat(y),m[4]));const b=m[5];b&&(f=b)}else s=i;if(!e){let m=!1,y=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),m=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),m=!0),m&&t.splice(y,0,`The provided timing value "${i}" is invalid.`)}return{duration:s,delay:c,easing:f}}(i,t,e)}function ju(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function qs(i,t,e={}){if(t)for(let o in i)e[o]=i[o];else ju(i,e);return e}function Iv(i,t,e){return e?t+":"+e+";":""}function SS(i){let t="";for(let e=0;e<i.style.length;e++){const o=i.style.item(e);t+=Iv(0,o,i.style.getPropertyValue(o))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Iv(0,HI(e),i.style[e]));i.setAttribute("style",t)}function Fo(i,t,e){i.style&&(Object.keys(t).forEach(o=>{const s=xv(o);e&&!e.hasOwnProperty(o)&&(e[o]=i.style[s]),i.style[s]=t[o]}),Ke()&&SS(i))}function Hu(i,t){i.style&&(Object.keys(t).forEach(e=>{const o=xv(e);i.style[o]=""}),Ke()&&SS(i))}function ng(i){return Array.isArray(i)?1==i.length?i[0]:Vu(i):i}const Gd=new RegExp("{{\\s*(.+?)\\s*}}","g");function DS(i){let t=[];if("string"==typeof i){let e;for(;e=Gd.exec(i);)t.push(e[1]);Gd.lastIndex=0}return t}function rg(i,t,e){const o=i.toString(),s=o.replace(Gd,(c,f)=>{let m=t[f];return t.hasOwnProperty(f)||(e.push(`Please provide a value for the animation param ${f}`),m=""),m.toString()});return s==o?i:s}function ig(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const jI=/-+([a-z0-9])/g;function xv(i){return i.replace(jI,(...t)=>t[1].toUpperCase())}function HI(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Rv(i,t){return 0===i||0===t}function og(i,t,e){const o=Object.keys(e);if(o.length&&t.length){let c=t[0],f=[];if(o.forEach(m=>{c.hasOwnProperty(m)||f.push(m),c[m]=e[m]}),f.length)for(var s=1;s<t.length;s++){let m=t[s];f.forEach(function(y){m[y]=zs(i,y)})}}return t}function li(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function zs(i,t){return window.getComputedStyle(i)[t]}function TS(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function(i,t,e){if(":"==i[0]){const y=function(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return t.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof y)return void t.push(y);i=y}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return e.push(`The provided transition expression "${i}" is not supported`),t;const s=o[1],c=o[2],f=o[3];t.push(kv(s,f));"<"==c[0]&&!("*"==s&&"*"==f)&&t.push(kv(f,s))}(o,e,t)):e.push(i),e}const sg=new Set(["true","1"]),qd=new Set(["false","0"]);function kv(i,t){const e=sg.has(i)||qd.has(i),o=sg.has(t)||qd.has(t);return(s,c)=>{let f="*"==i||i==s,m="*"==t||t==c;return!f&&e&&"boolean"==typeof s&&(f=s?sg.has(i):qd.has(i)),!m&&o&&"boolean"==typeof c&&(m=c?sg.has(t):qd.has(t)),f&&m}}const GI=new RegExp("s*:selfs*,?","g");function Nv(i,t,e){return new AS(i).build(t,e)}class AS{constructor(t){this._driver=t}build(t,e){const o=new zI(e);return this._resetContextStyleTimingState(o),li(this,ng(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let o=e.queryCount=0,s=e.depCount=0;const c=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const y=m,b=y.name;b.toString().split(/\s*,\s*/).forEach(C=>{y.name=C,c.push(this.visitState(y,e))}),y.name=b}else if(1==m.type){const y=this.visitTransition(m,e);o+=y.queryCount,s+=y.depCount,f.push(y)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:f,queryCount:o,depCount:s,options:null}}visitState(t,e){const o=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(o.containsDynamicStyles){const c=new Set,f=s||{};if(o.styles.forEach(m=>{if(os(m)){const y=m;Object.keys(y).forEach(b=>{DS(y[b]).forEach(C=>{f.hasOwnProperty(C)||c.add(C)})})}}),c.size){const m=ig(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${m.join(", ")}`)}}return{type:0,name:t.name,style:o,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const o=li(this,ng(t.animation),e);return{type:1,matchers:TS(t.expr,e.errors),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:$s(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(o=>li(this,o,e)),options:$s(t.options)}}visitGroup(t,e){const o=e.currentTime;let s=0;const c=t.steps.map(f=>{e.currentTime=o;const m=li(this,f,e);return s=Math.max(s,e.currentTime),m});return e.currentTime=s,{type:3,steps:c,options:$s(t.options)}}visitAnimate(t,e){const o=function(i,t){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return Pv(tg(i,t).duration,0,"");const o=i;if(o.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=Pv(0,0,"");return c.dynamic=!0,c.strValue=o,c}return e=e||tg(o,t),Pv(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=o;let s,c=t.styles?t.styles:On({});if(5==c.type)s=this.visitKeyframes(c,e);else{let f=t.styles,m=!1;if(!f){m=!0;const b={};o.easing&&(b.easing=o.easing),f=On(b)}e.currentTime+=o.duration+o.delay;const y=this.visitStyle(f,e);y.isEmptyStep=m,s=y}return e.currentAnimateTimings=null,{type:4,timings:o,style:s,options:null}}visitStyle(t,e){const o=this._makeStyleAst(t,e);return this._validateStyleAst(o,e),o}_makeStyleAst(t,e){const o=[];Array.isArray(t.styles)?t.styles.forEach(f=>{"string"==typeof f?f==Fr?o.push(f):e.errors.push(`The provided style string value ${f} is not allowed.`):o.push(f)}):o.push(t.styles);let s=!1,c=null;return o.forEach(f=>{if(os(f)){const m=f,y=m.easing;if(y&&(c=y,delete m.easing),!s)for(let b in m)if(m[b].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:o,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const o=e.currentAnimateTimings;let s=e.currentTime,c=e.currentTime;o&&c>0&&(c-=o.duration+o.delay),t.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(m=>{if(!this._driver.validateStyleProperty(m))return void e.errors.push(`The provided animation property "${m}" is not a supported CSS property for animations`);const y=e.collectedStyles[e.currentQuerySelector],b=y[m];let C=!0;b&&(c!=s&&c>=b.startTime&&s<=b.endTime&&(e.errors.push(`The CSS property "${m}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${s}ms"`),C=!1),c=b.startTime),C&&(y[m]={startTime:c,endTime:s}),e.options&&function(i,t,e){const o=t.params||{},s=DS(i);s.length&&s.forEach(c=>{o.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(f[m],e.options,e.errors)})})}visitKeyframes(t,e){const o={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),o;let c=0;const f=[];let m=!1,y=!1,b=0;const C=t.steps.map(le=>{const me=this._makeStyleAst(le,e);let we=null!=me.offset?me.offset:function(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(os(e)&&e.hasOwnProperty("offset")){const o=e;t=parseFloat(o.offset),delete o.offset}});else if(os(i)&&i.hasOwnProperty("offset")){const e=i;t=parseFloat(e.offset),delete e.offset}return t}(me.styles),Oe=0;return null!=we&&(c++,Oe=me.offset=we),y=y||Oe<0||Oe>1,m=m||Oe<b,b=Oe,f.push(Oe),me});y&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),m&&e.errors.push("Please ensure that all keyframe offsets are in order");const D=t.steps.length;let T=0;c>0&&c<D?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(T=1/(D-1));const A=D-1,R=e.currentTime,V=e.currentAnimateTimings,Z=V.duration;return C.forEach((le,me)=>{const we=T>0?me==A?1:T*me:f[me],Oe=we*Z;e.currentTime=R+V.delay+Oe,V.duration=Oe,this._validateStyleAst(le,e),le.offset=we,o.styles.push(le)}),o}visitReference(t,e){return{type:8,animation:li(this,ng(t.animation),e),options:$s(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:$s(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:$s(t.options)}}visitQuery(t,e){const o=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[c,f]=function(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(GI,"")),[i=i.replace(/@\*/g,Xp).replace(/@\w+/g,e=>Xp+"-"+e.substr(1)).replace(/:animating/g,Wa),t]}(t.selector);e.currentQuerySelector=o.length?o+" "+c:c,Ni(e.collectedStyles,e.currentQuerySelector,{});const m=li(this,ng(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:c,limit:s.limit||0,optional:!!s.optional,includeSelf:f,animation:m,originalSelector:t.selector,options:$s(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const o="full"===t.timings?{duration:0,delay:0,easing:"full"}:tg(t.timings,e.errors,!0);return{type:12,animation:li(this,ng(t.animation),e),timings:o,options:null}}}class zI{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function os(i){return!Array.isArray(i)&&"object"==typeof i}function $s(i){return i?(i=ju(i)).params&&(i.params=function(i){return i?ju(i):null}(i.params)):i={},i}function Pv(i,t,e){return{duration:i,delay:t,easing:e}}function IS(i,t,e,o,s,c,f=null,m=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:o,duration:s,delay:c,totalTime:s+c,easing:f,subTimeline:m}}class zd{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let o=this._map.get(t);o||this._map.set(t,o=[]),o.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const WI=new RegExp(":enter","g"),ZI=new RegExp(":leave","g");function Vv(i,t,e,o,s,c={},f={},m,y,b=[]){return(new KI).buildKeyframes(i,t,e,o,s,c,f,m,y,b)}class KI{buildKeyframes(t,e,o,s,c,f,m,y,b,C=[]){b=b||new zd;const D=new Bv(t,e,b,s,c,C,[]);D.options=y,D.currentTimeline.setStyles([f],null,D.errors,y),li(this,o,D);const T=D.timelines.filter(A=>A.containsAnimation());if(T.length&&Object.keys(m).length){const A=T[T.length-1];A.allowOnlyTimelineStyles()||A.setStyles([m],null,D.errors,y)}return T.length?T.map(A=>A.buildKeyframes()):[IS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const o=e.subInstructions.consume(e.element);if(o){const s=e.createSubContext(t.options),c=e.currentTimeline.currentTime,f=this._visitSubInstructions(o,s,s.options);c!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const o=e.createSubContext(t.options);o.transformIntoNewTimeline(),this.visitReference(t.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,o){let c=e.currentTimeline.currentTime;const f=null!=o.duration?Uu(o.duration):null,m=null!=o.delay?Uu(o.delay):null;return 0!==f&&t.forEach(y=>{const b=e.appendInstructionToTimeline(y,f,m);c=Math.max(c,b.duration+b.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),li(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const o=e.subContextCount;let s=e;const c=t.options;if(c&&(c.params||c.delay)&&(s=e.createSubContext(c),s.transformIntoNewTimeline(),null!=c.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=ag);const f=Uu(c.delay);s.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>li(this,f,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>o&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const o=[];let s=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Uu(t.options.delay):0;t.steps.forEach(f=>{const m=e.createSubContext(t.options);c&&m.delayNextStep(c),li(this,f,m),s=Math.max(s,m.currentTimeline.currentTime),o.push(m.currentTimeline)}),o.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const o=t.strValue;return tg(e.params?rg(o,e.params,e.errors):o,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const o=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),s.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(o.duration),this.visitStyle(c,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const o=e.currentTimeline,s=e.currentAnimateTimings;!s&&o.getCurrentStyleProperties().length&&o.forwardFrame();const c=s&&s.easing||t.easing;t.isEmptyStep?o.applyEmptyStep(c):o.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const o=e.currentAnimateTimings,s=e.currentTimeline.duration,c=o.duration,m=e.createSubContext().currentTimeline;m.easing=o.easing,t.styles.forEach(y=>{m.forwardTime((y.offset||0)*c),m.setStyles(y.styles,y.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(s+c),e.previousNode=t}visitQuery(t,e){const o=e.currentTimeline.currentTime,s=t.options||{},c=s.delay?Uu(s.delay):0;c&&(6===e.previousNode.type||0==o&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ag);let f=o;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=m.length;let y=null;m.forEach((b,C)=>{e.currentQueryIndex=C;const D=e.createSubContext(t.options,b);c&&D.delayNextStep(c),b===e.element&&(y=D.currentTimeline),li(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),y&&(e.currentTimeline.mergeTimelineCollectedStyles(y),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const o=e.parentContext,s=e.currentTimeline,c=t.timings,f=Math.abs(c.duration),m=f*(e.currentQueryTotal-1);let y=f*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":y=m-y;break;case"full":y=o.currentStaggerTime}const C=e.currentTimeline;y&&C.delayNextStep(y);const D=C.currentTime;li(this,t.animation,e),e.previousNode=t,o.currentStaggerTime=s.currentTime-D+(s.startTime-o.currentTimeline.startTime)}}const ag={};class Bv{constructor(t,e,o,s,c,f,m,y){this._driver=t,this.element=e,this.subInstructions=o,this._enterClassName=s,this._leaveClassName=c,this.errors=f,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ag,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new lg(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const o=t;let s=this.options;null!=o.duration&&(s.duration=Uu(o.duration)),null!=o.delay&&(s.delay=Uu(o.delay));const c=o.params;if(c){let f=s.params;f||(f=this.options.params={}),Object.keys(c).forEach(m=>{(!e||!f.hasOwnProperty(m))&&(f[m]=rg(c[m],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const o=t.params={};Object.keys(e).forEach(s=>{o[s]=e[s]})}}return t}createSubContext(t=null,e,o){const s=e||this.element,c=new Bv(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,o||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=ag,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,o){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+t.delay,easing:""},c=new QI(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(c),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,o,s,c,f){let m=[];if(s&&m.push(this.element),t.length>0){t=(t=t.replace(WI,"."+this._enterClassName)).replace(ZI,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=o);0!==o&&(b=o<0?b.slice(b.length+o,b.length):b.slice(0,o)),m.push(...b)}return!c&&0==m.length&&f.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),m}}class lg{constructor(t,e,o,s){this._driver=t,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new lg(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Fr,this._currentKeyframe[e]=Fr}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,o,s){e&&(this._previousKeyframe.easing=e);const c=s&&s.params||{},f=function(i,t){const e={};let o;return i.forEach(s=>{"*"===s?(o=o||Object.keys(t),o.forEach(c=>{e[c]=Fr})):qs(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(f).forEach(m=>{const y=rg(f[m],c,o);this._pendingStyles[m]=y,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Fr),this._updateStyle(m,y)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(o=>{this._currentKeyframe[o]=t[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const o=this._styleSummary[e],s=t._styleSummary[e];(!o||s.time>o.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,o=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((m,y)=>{const b=qs(m,!0);Object.keys(b).forEach(C=>{const D=b[C];"!"==D?t.add(C):D==Fr&&e.add(C)}),o||(b.offset=y/this.duration),s.push(b)});const c=t.size?ig(t.values()):[],f=e.size?ig(e.values()):[];if(o){const m=s[0],y=ju(m);m.offset=0,y.offset=1,s=[m,y]}return IS(this.element,s,c,f,this.duration,this.startTime,this.easing,!1)}}class QI extends lg{constructor(t,e,o,s,c,f,m=!1){super(t,e,f.delay),this.keyframes=o,this.preStyleProps=s,this.postStyleProps=c,this._stretchStartingKeyframe=m,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:o,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],f=o+e,m=e/f,y=qs(t[0],!1);y.offset=0,c.push(y);const b=qs(t[0],!1);b.offset=RS(m),c.push(b);const C=t.length-1;for(let D=1;D<=C;D++){let T=qs(t[D],!1);T.offset=RS((e+T.offset*o)/f),c.push(T)}o=f,e=0,s="",t=c}return IS(this.element,t,this.preStyleProps,this.postStyleProps,o,e,s,!0)}}function RS(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class ug{}class OS extends ug{normalizePropertyName(t,e){return xv(t)}normalizeStyleValue(t,e,o,s){let c="";const f=o.toString().trim();if(kS[e]&&0!==o&&"0"!==o)if("number"==typeof o)c="px";else{const m=o.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&s.push(`Please provide a CSS unit value for ${t}:${o}`)}return f+c}}const kS=(()=>function(i){const t={};return i.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Uv(i,t,e,o,s,c,f,m,y,b,C,D,T){return{type:0,element:i,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:c,toState:o,toStyles:f,timelines:m,queriedElements:y,preStyleProps:b,postStyleProps:C,totalTime:D,errors:T}}const jv={};class FS{constructor(t,e,o){this._triggerName=t,this.ast=e,this._stateStyles=o}match(t,e,o,s){return function(i,t,e,o,s){return i.some(c=>c(t,e,o,s))}(this.ast.matchers,t,e,o,s)}buildStyles(t,e,o){const s=this._stateStyles["*"],c=this._stateStyles[t],f=s?s.buildStyles(e,o):{};return c?c.buildStyles(e,o):f}build(t,e,o,s,c,f,m,y,b,C){const D=[],T=this.ast.options&&this.ast.options.params||jv,R=this.buildStyles(o,m&&m.params||jv,D),V=y&&y.params||jv,Z=this.buildStyles(s,V,D),le=new Set,me=new Map,we=new Map,Oe="void"===s,Fe={params:Object.assign(Object.assign({},T),V)},ot=C?[]:Vv(t,e,this.ast.animation,c,f,R,Z,Fe,b,D);let Rt=0;if(ot.forEach(fi=>{Rt=Math.max(fi.duration+fi.delay,Rt)}),D.length)return Uv(e,this._triggerName,o,s,Oe,R,Z,[],[],me,we,Rt,D);ot.forEach(fi=>{const Uo=fi.element,m0=Ni(me,Uo,{});fi.preStyleProps.forEach(Th=>m0[Th]=!0);const _0=Ni(we,Uo,{});fi.postStyleProps.forEach(Th=>_0[Th]=!0),Uo!==e&&le.add(Uo)});const co=ig(le.values());return Uv(e,this._triggerName,o,s,Oe,R,Z,ot,co,me,we,Rt)}}class r1{constructor(t,e,o){this.styles=t,this.defaultParams=e,this.normalizer=o}buildStyles(t,e){const o={},s=ju(this.defaultParams);return Object.keys(t).forEach(c=>{const f=t[c];null!=f&&(s[c]=f)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const f=c;Object.keys(f).forEach(m=>{let y=f[m];y.length>1&&(y=rg(y,s,e));const b=this.normalizer.normalizePropertyName(m,e);y=this.normalizer.normalizeStyleValue(m,b,y,e),o[b]=y})}}),o}}class Wd{constructor(t,e,o){this.name=t,this.ast=e,this._normalizer=o,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new r1(s.style,s.options&&s.options.params||{},o)}),cg(this.states,"true","1"),cg(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new FS(t,s,this.states))}),this.fallbackTransition=function(i,t,e){return new FS(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,o,s){return this.transitionFactories.find(f=>f.match(t,e,o,s))||null}matchStyles(t,e,o){return this.fallbackTransition.buildStyles(t,e,o)}}function cg(i,t,e){i.hasOwnProperty(t)?i.hasOwnProperty(e)||(i[e]=i[t]):i.hasOwnProperty(e)&&(i[t]=i[e])}const No=new zd;class o1{constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(t,e){const o=[],s=Nv(this._driver,e,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,o){const s=t.element,c=Bu(0,this._normalizer,0,t.keyframes,e,o);return this._driver.animate(s,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,o={}){const s=[],c=this._animations[t];let f;const m=new Map;if(c?(f=Vv(this._driver,e,c,Mv,Kp,{},{},o,No,s),f.forEach(C=>{const D=Ni(m,C.element,{});C.postStyleProps.forEach(T=>D[T]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),f=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);m.forEach((C,D)=>{Object.keys(C).forEach(T=>{C[T]=this._driver.computeStyle(D,T,Fr)})});const b=$a(f.map(C=>{const D=m.get(C.element);return this._buildPlayer(C,{},D)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,o,s){const c=vv(e,"","","");return _v(this._getPlayer(t),o,c,s),()=>{}}command(t,e,o,s){if("register"==o)return void this.register(t,s[0]);if("create"==o)return void this.create(t,e,s[0]||{});const c=this._getPlayer(t);switch(o){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const Gu="ng-animate-queued",NS="ng-animate-disabled",a1=".ng-animate-disabled",PS=[],dg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qv={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Pi="__ng_removed";class zv{constructor(t,e=""){this.namespaceId=e;const o=t&&t.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(o?t.value:t),o){const c=ju(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const o=this.options.params;Object.keys(e).forEach(s=>{null==o[s]&&(o[s]=e[s])})}}}const Zd="void",$v=new zv(Zd);class LS{constructor(t,e,o){this.id=t,this.hostElement=e,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ao(e,this._hostClassName)}listen(t,e,o,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${e}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(o))throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${e}" is not supported!`);const c=Ni(this._elementListeners,t,[]),f={name:e,phase:o,callback:s};c.push(f);const m=Ni(this._engine.statesByElement,t,{});return m.hasOwnProperty(e)||(ao(t,Jp),ao(t,Jp+"-"+e),m[e]=$v),()=>{this._engine.afterFlush(()=>{const y=c.indexOf(f);y>=0&&c.splice(y,1),this._triggers[e]||delete m[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,o,s=!0){const c=this._getTrigger(e),f=new hg(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(ao(t,Jp),ao(t,Jp+"-"+e),this._engine.statesByElement.set(t,m={}));let y=m[e];const b=new zv(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),m[e]=b,y||(y=$v),b.value!==Zd&&y.value===b.value){if(!function(i,t){const e=Object.keys(i),o=Object.keys(t);if(e.length!=o.length)return!1;for(let s=0;s<e.length;s++){const c=e[s];if(!t.hasOwnProperty(c)||i[c]!==t[c])return!1}return!0}(y.params,b.params)){const V=[],Z=c.matchStyles(y.value,y.params,V),le=c.matchStyles(b.value,b.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{Hu(t,Z),Fo(t,le)})}return}const T=Ni(this._engine.playersByElement,t,[]);T.forEach(V=>{V.namespaceId==this.id&&V.triggerName==e&&V.queued&&V.destroy()});let A=c.matchTransition(y.value,b.value,t,b.params),R=!1;if(!A){if(!s)return;A=c.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:A,fromState:y,toState:b,player:f,isFallbackTransition:R}),R||(ao(t,Gu),f.onStart(()=>{kn(t,Gu)})),f.onDone(()=>{let V=this.players.indexOf(f);V>=0&&this.players.splice(V,1);const Z=this._engine.playersByElement.get(t);if(Z){let le=Z.indexOf(f);le>=0&&Z.splice(le,1)}}),this.players.push(f),T.push(f),f}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,o)=>{delete e[t]}),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const o=this._engine.driver.query(t,Xp,!0);o.forEach(s=>{if(s[Pi])return;const c=this._engine.fetchNamespacesByElement(s);c.size?c.forEach(f=>f.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,o,s){const c=this._engine.statesByElement.get(t);if(c){const f=[];if(Object.keys(c).forEach(m=>{if(this._triggers[m]){const y=this.trigger(t,m,Zd,s);y&&f.push(y)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),o&&$a(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),o=this._engine.statesByElement.get(t);if(e&&o){const s=new Set;e.forEach(c=>{const f=c.name;if(s.has(f))return;s.add(f);const y=this._triggers[f].fallbackTransition,b=o[f]||$v,C=new zv(Zd),D=new hg(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:y,fromState:b,toState:C,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const o=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(o.totalAnimations){const c=o.players.length?o.playersByQueriedElement.get(t):[];if(c&&c.length)s=!0;else{let f=t;for(;f=f.parentNode;)if(o.statesByElement.get(f)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)o.markElementAsRemoved(this.id,t,!1,e);else{const c=t[Pi];(!c||c===dg)&&(o.afterFlush(()=>this.clearElementCache(t)),o.destroyInnerAnimations(t),o._onRemovalComplete(t,e))}}insertNode(t,e){ao(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(o=>{const s=o.player;if(s.destroyed)return;const c=o.element,f=this._elementListeners.get(c);f&&f.forEach(m=>{if(m.name==o.triggerName){const y=vv(c,o.triggerName,o.fromState.value,o.toState.value);y._data=t,_v(o.player,m.phase,y,m.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(o)}),this._queue=[],e.sort((o,s)=>{const c=o.transition.ast.depCount,f=s.transition.ast.depCount;return 0==c||0==f?c-f:this._engine.driver.containsElement(o.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(o=>o.element===t)||e,e}}class Yv{constructor(t,e,o){this.bodyNode=t,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&t.push(o)})}),t}createNamespace(t,e){const o=new LS(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[t]=o}_balanceNamespaceList(t,e){const o=this._namespaceList.length-1;if(o>=0){let s=!1;for(let c=o;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let o=this._namespaceLookup[t];return o||(o=this.createNamespace(t,e)),o}registerTrigger(t,e,o){let s=this._namespaceLookup[t];s&&s.register(e,o)&&this.totalAnimations++}destroy(t,e){if(!t)return;const o=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(o);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>o.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,o=this.statesByElement.get(t);if(o){const s=Object.keys(o);for(let c=0;c<s.length;c++){const f=o[s[c]].namespaceId;if(f){const m=this._fetchNamespace(f);m&&e.add(m)}}}return e}trigger(t,e,o,s){if(Kd(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,o,s),!0}return!1}insertNode(t,e,o,s){if(!Kd(e))return;const c=e[Pi];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,o)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ao(t,NS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),kn(t,NS))}removeNode(t,e,o,s){if(Kd(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),o){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,o,s){this.collectedLeaveElements.push(e),e[Pi]={namespaceId:t,setForRemoval:s,hasAnimation:o,removedBeforeQueried:!1}}listen(t,e,o,s,c){return Kd(e)?this._fetchNamespace(t).listen(e,o,s,c):()=>{}}_buildInstruction(t,e,o,s,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,o,s,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,Xp,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Wa,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $a(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Pi];if(e&&e.setForRemoval){if(t[Pi]=dg,e.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(e.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,a1)&&this.markElementAsDisabled(t,!1),this.driver.query(t,a1,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,s)=>this._balanceNamespaceList(o,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)ao(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{e=this._flushAnimations(o,t)}finally{for(let s=0;s<o.length;s++)o[s]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],e.length?$a(e).onDone(()=>{o.forEach(s=>s())}):o.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const o=new zd,s=[],c=new Map,f=[],m=new Map,y=new Map,b=new Map,C=new Set;this.disabledNodes.forEach(Ve=>{C.add(Ve);const Ye=this.driver.query(Ve,".ng-animate-queued",!0);for(let it=0;it<Ye.length;it++)C.add(Ye[it])});const D=this.bodyNode,T=Array.from(this.statesByElement.keys()),A=US(T,this.collectedEnterElements),R=new Map;let V=0;A.forEach((Ve,Ye)=>{const it=Mv+V++;R.set(Ye,it),Ve.forEach(Ot=>ao(Ot,it))});const Z=[],le=new Set,me=new Set;for(let Ve=0;Ve<this.collectedLeaveElements.length;Ve++){const Ye=this.collectedLeaveElements[Ve],it=Ye[Pi];it&&it.setForRemoval&&(Z.push(Ye),le.add(Ye),it.hasAnimation?this.driver.query(Ye,".ng-star-inserted",!0).forEach(Ot=>le.add(Ot)):me.add(Ye))}const we=new Map,Oe=US(T,Array.from(le));Oe.forEach((Ve,Ye)=>{const it=Kp+V++;we.set(Ye,it),Ve.forEach(Ot=>ao(Ot,it))}),t.push(()=>{A.forEach((Ve,Ye)=>{const it=R.get(Ye);Ve.forEach(Ot=>kn(Ot,it))}),Oe.forEach((Ve,Ye)=>{const it=we.get(Ye);Ve.forEach(Ot=>kn(Ot,it))}),Z.forEach(Ve=>{this.processLeaveNode(Ve)})});const Fe=[],ot=[];for(let Ve=this._namespaceList.length-1;Ve>=0;Ve--)this._namespaceList[Ve].drainQueuedTransitions(e).forEach(it=>{const Ot=it.player,Er=it.element;if(Fe.push(Ot),this.collectedEnterElements.length){const na=Er[Pi];if(na&&na.setForMove)return void Ot.destroy()}const ta=!D||!this.driver.containsElement(D,Er),ho=we.get(Er),dc=R.get(Er),Nn=this._buildInstruction(it,o,dc,ho,ta);if(Nn.errors&&Nn.errors.length)ot.push(Nn);else{if(ta)return Ot.onStart(()=>Hu(Er,Nn.fromStyles)),Ot.onDestroy(()=>Fo(Er,Nn.toStyles)),void s.push(Ot);if(it.isFallbackTransition)return Ot.onStart(()=>Hu(Er,Nn.fromStyles)),Ot.onDestroy(()=>Fo(Er,Nn.toStyles)),void s.push(Ot);Nn.timelines.forEach(na=>na.stretchStartingKeyframe=!0),o.append(Er,Nn.timelines),f.push({instruction:Nn,player:Ot,element:Er}),Nn.queriedElements.forEach(na=>Ni(m,na,[]).push(Ot)),Nn.preStyleProps.forEach((na,y0)=>{const PT=Object.keys(na);if(PT.length){let Mh=y.get(y0);Mh||y.set(y0,Mh=new Set),PT.forEach(GR=>Mh.add(GR))}}),Nn.postStyleProps.forEach((na,y0)=>{const PT=Object.keys(na);let Mh=b.get(y0);Mh||b.set(y0,Mh=new Set),PT.forEach(GR=>Mh.add(GR))})}});if(ot.length){const Ve=[];ot.forEach(Ye=>{Ve.push(`@${Ye.triggerName} has failed due to:\n`),Ye.errors.forEach(it=>Ve.push(`- ${it}\n`))}),Fe.forEach(Ye=>Ye.destroy()),this.reportError(Ve)}const Rt=new Map,co=new Map;f.forEach(Ve=>{const Ye=Ve.element;o.has(Ye)&&(co.set(Ye,Ye),this._beforeAnimationBuild(Ve.player.namespaceId,Ve.instruction,Rt))}),s.forEach(Ve=>{const Ye=Ve.element;this._getPreviousPlayers(Ye,!1,Ve.namespaceId,Ve.triggerName,null).forEach(Ot=>{Ni(Rt,Ye,[]).push(Ot),Ot.destroy()})});const fi=Z.filter(Ve=>zu(Ve,y,b)),Uo=new Map;Zv(Uo,this.driver,me,b,Fr).forEach(Ve=>{zu(Ve,y,b)&&fi.push(Ve)});const _0=new Map;A.forEach((Ve,Ye)=>{Zv(_0,this.driver,new Set(Ve),y,"!")}),fi.forEach(Ve=>{const Ye=Uo.get(Ve),it=_0.get(Ve);Uo.set(Ve,Object.assign(Object.assign({},Ye),it))});const Th=[],UL=[],jL={};f.forEach(Ve=>{const{element:Ye,player:it,instruction:Ot}=Ve;if(o.has(Ye)){if(C.has(Ye))return it.onDestroy(()=>Fo(Ye,Ot.toStyles)),it.disabled=!0,it.overrideTotalTime(Ot.totalTime),void s.push(it);let Er=jL;if(co.size>1){let ho=Ye;const dc=[];for(;ho=ho.parentNode;){const Nn=co.get(ho);if(Nn){Er=Nn;break}dc.push(ho)}dc.forEach(Nn=>co.set(Nn,Er))}const ta=this._buildAnimation(it.namespaceId,Ot,Rt,c,_0,Uo);if(it.setRealPlayer(ta),Er===jL)Th.push(it);else{const ho=this.playersByElement.get(Er);ho&&ho.length&&(it.parentPlayer=$a(ho)),s.push(it)}}else Hu(Ye,Ot.fromStyles),it.onDestroy(()=>Fo(Ye,Ot.toStyles)),UL.push(it),C.has(Ye)&&s.push(it)}),UL.forEach(Ve=>{const Ye=c.get(Ve.element);if(Ye&&Ye.length){const it=$a(Ye);Ve.setRealPlayer(it)}}),s.forEach(Ve=>{Ve.parentPlayer?Ve.syncPlayerEvents(Ve.parentPlayer):Ve.destroy()});for(let Ve=0;Ve<Z.length;Ve++){const Ye=Z[Ve],it=Ye[Pi];if(kn(Ye,Kp),it&&it.hasAnimation)continue;let Ot=[];if(m.size){let ta=m.get(Ye);ta&&ta.length&&Ot.push(...ta);let ho=this.driver.query(Ye,Wa,!0);for(let dc=0;dc<ho.length;dc++){let Nn=m.get(ho[dc]);Nn&&Nn.length&&Ot.push(...Nn)}}const Er=Ot.filter(ta=>!ta.destroyed);Er.length?qu(this,Ye,Er):this.processLeaveNode(Ye)}return Z.length=0,Th.forEach(Ve=>{this.players.push(Ve),Ve.onDone(()=>{Ve.destroy();const Ye=this.players.indexOf(Ve);this.players.splice(Ye,1)}),Ve.play()}),Th}elementContainsData(t,e){let o=!1;const s=e[Pi];return s&&s.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(t).elementContainsData(e)||o}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,o,s,c){let f=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(f=m)}else{const m=this.playersByElement.get(t);if(m){const y=!c||c==Zd;m.forEach(b=>{b.queued||!y&&b.triggerName!=s||f.push(b)})}}return(o||s)&&(f=f.filter(m=>!(o&&o!=m.namespaceId||s&&s!=m.triggerName))),f}_beforeAnimationBuild(t,e,o){const c=e.element,f=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const y of e.timelines){const b=y.element,C=b!==c,D=Ni(o,b,[]);this._getPreviousPlayers(b,C,f,m,e.toState).forEach(A=>{const R=A.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),A.destroy(),D.push(A)})}Hu(c,e.fromStyles)}_buildAnimation(t,e,o,s,c,f){const m=e.triggerName,y=e.element,b=[],C=new Set,D=new Set,T=e.timelines.map(R=>{const V=R.element;C.add(V);const Z=V[Pi];if(Z&&Z.removedBeforeQueried)return new Gs(R.duration,R.delay);const le=V!==y,me=function(i){const t=[];return jS(i,t),t}((o.get(V)||PS).map(Rt=>Rt.getRealPlayer())).filter(Rt=>!!Rt.element&&Rt.element===V),we=c.get(V),Oe=f.get(V),Fe=Bu(0,this._normalizer,0,R.keyframes,we,Oe),ot=this._buildPlayer(R,Fe,me);if(R.subTimeline&&s&&D.add(V),le){const Rt=new hg(t,m,V);Rt.setRealPlayer(ot),b.push(Rt)}return ot});b.forEach(R=>{Ni(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>function(i,t,e){let o;if(i instanceof Map){if(o=i.get(t),o){if(o.length){const s=o.indexOf(e);o.splice(s,1)}0==o.length&&i.delete(t)}}else if(o=i[t],o){if(o.length){const s=o.indexOf(e);o.splice(s,1)}0==o.length&&delete i[t]}return o}(this.playersByQueriedElement,R.element,R))}),C.forEach(R=>ao(R,Av));const A=$a(T);return A.onDestroy(()=>{C.forEach(R=>kn(R,Av)),Fo(y,e.toStyles)}),D.forEach(R=>{Ni(s,R,[]).push(A)}),A}_buildPlayer(t,e,o){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,o):new Gs(t.duration,t.delay)}}class hg{constructor(t,e,o){this.namespaceId=t,this.triggerName=e,this.element=o,this._player=new Gs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(o=>_v(t,e,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ni(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Kd(i){return i&&1===i.nodeType}function Wv(i,t){const e=i.style.display;return i.style.display=null!=t?t:"none",e}function Zv(i,t,e,o,s){const c=[];e.forEach(y=>c.push(Wv(y)));const f=[];o.forEach((y,b)=>{const C={};y.forEach(D=>{const T=C[D]=t.computeStyle(b,D,s);(!T||0==T.length)&&(b[Pi]=qv,f.push(b))}),i.set(b,C)});let m=0;return e.forEach(y=>Wv(y,c[m++])),f}function US(i,t){const e=new Map;if(i.forEach(m=>e.set(m,[])),0==t.length)return e;const s=new Set(t),c=new Map;function f(m){if(!m)return 1;let y=c.get(m);if(y)return y;const b=m.parentNode;return y=e.has(b)?b:s.has(b)?1:f(b),c.set(m,y),y}return t.forEach(m=>{const y=f(m);1!==y&&e.get(y).push(m)}),e}const Qd="$$classes";function ao(i,t){if(i.classList)i.classList.add(t);else{let e=i[Qd];e||(e=i[Qd]={}),e[t]=!0}}function kn(i,t){if(i.classList)i.classList.remove(t);else{let e=i[Qd];e&&delete e[t]}}function qu(i,t,e){$a(e).onDone(()=>i.processLeaveNode(t))}function jS(i,t){for(let e=0;e<i.length;e++){const o=i[e];o instanceof $p?jS(o.players,t):t.push(o)}}function zu(i,t,e){const o=e.get(i);if(!o)return!1;let s=t.get(i);return s?o.forEach(c=>s.add(c)):t.set(i,o),e.delete(i),!0}class fg{constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(s,c)=>{},this._transitionEngine=new Yv(t,e,o),this._timelineEngine=new o1(t,e,o),this._transitionEngine.onRemovalComplete=(s,c)=>this.onRemovalComplete(s,c)}registerTrigger(t,e,o,s,c){const f=t+"-"+s;let m=this._triggerCache[f];if(!m){const y=[],b=Nv(this._driver,c,y);if(y.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${y.join("\n - ")}`);m=function(i,t,e){return new Wd(i,t,e)}(s,b,this._normalizer),this._triggerCache[f]=m}this._transitionEngine.registerTrigger(e,s,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,o,s){this._transitionEngine.insertNode(t,e,o,s)}onRemove(t,e,o,s){this._transitionEngine.removeNode(t,e,s||!1,o)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,o,s){if("@"==o.charAt(0)){const[c,f]=PI(o);this._timelineEngine.command(c,e,f,s)}else this._transitionEngine.trigger(t,e,o,s)}listen(t,e,o,s,c){if("@"==o.charAt(0)){const[f,m]=PI(o);return this._timelineEngine.listen(f,e,m,c)}return this._transitionEngine.listen(t,e,o,s,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function pg(i,t){let e=null,o=null;return Array.isArray(t)&&t.length?(e=gg(t[0]),t.length>1&&(o=gg(t[t.length-1]))):t&&(e=gg(t)),e||o?new $u(i,e,o):null}class $u{constructor(t,e,o){this._element=t,this._startStyles=e,this._endStyles=o,this._state=0;let s=$u.initialStylesByElement.get(t);s||$u.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Fo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Fo(this._element,this._initialStyles),this._endStyles&&(Fo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($u.initialStylesByElement.delete(this._element),this._startStyles&&(Hu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hu(this._element,this._endStyles),this._endStyles=null),Fo(this._element,this._initialStyles),this._state=3)}}function gg(i){let t=null;const e=Object.keys(i);for(let o=0;o<e.length;o++){const s=e[o];d1(s)&&(t=t||{},t[s]=i[s])}return t}function d1(i){return"display"===i||"position"===i}$u.initialStylesByElement=new WeakMap;const mg="animation",Kv="animationend";class _g{constructor(t,e,o,s,c,f,m){this._element=t,this._name=e,this._duration=o,this._delay=s,this._easing=c,this._fillMode=f,this._onDoneFn=m,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=y=>this._handleCallback(y)}apply(){(function(i,t){const e=Qv(i,"").trim();let o=0;e.length&&(function(i,t){let e=0;for(let o=0;o<i.length;o++)","===i.charAt(o)&&e++;return e}(e)+1,t=`${e}, ${t}`),Xd(i,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Jd(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){yg(this._element,this._name,"paused")}resume(){yg(this._element,this._name,"running")}setPosition(t){const e=qS(this._element,this._name);this._position=t*this._duration,Xd(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Jd(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,t){const o=Qv(i,"").split(","),s=vg(o,t);s>=0&&(o.splice(s,1),Xd(i,"",o.join(",")))}(this._element,this._name))}}function yg(i,t,e){Xd(i,"PlayState",e,qS(i,t))}function qS(i,t){const e=Qv(i,"");return e.indexOf(",")>0?vg(e.split(","),t):vg([e],t)}function vg(i,t){for(let e=0;e<i.length;e++)if(i[e].indexOf(t)>=0)return e;return-1}function Jd(i,t,e){e?i.removeEventListener(Kv,t):i.addEventListener(Kv,t)}function Xd(i,t,e,o){const s=mg+t;if(null!=o){const c=i.style[s];if(c.length){const f=c.split(",");f[o]=e,e=f.join(",")}}i.style[s]=e}function Qv(i,t){return i.style[mg+t]||""}class zS{constructor(t,e,o,s,c,f,m,y){this.element=t,this.keyframes=e,this.animationName=o,this._duration=s,this._delay=c,this._finalStyles=m,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=s+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new _g(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(t[o]=e?this._finalStyles[o]:zs(this.element,o))})}this.currentSnapshot=t}}class $S extends Gs{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Zp(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class WS{constructor(){this._count=0}validateStyleProperty(t){return Cv(t)}matchesElement(t,e){return Sv(t,e)}containsElement(t,e){return Dv(t,e)}query(t,e,o){return Wp(t,e,o)}computeStyle(t,e,o){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,o){o=o.map(m=>Zp(m));let s=`@keyframes ${e} {\n`,c="";o.forEach(m=>{c=" ";const y=parseFloat(m.offset);s+=`${c}${100*y}% {\n`,c+=" ",Object.keys(m).forEach(b=>{const C=m[b];switch(b){case"offset":return;case"easing":return void(C&&(s+=`${c}animation-timing-function: ${C};\n`));default:return void(s+=`${c}${b}: ${C};\n`)}}),s+=`${c}}\n`}),s+="}\n";const f=document.createElement("style");return f.textContent=s,f}animate(t,e,o,s,c,f=[],m){const y=f.filter(Z=>Z instanceof zS),b={};Rv(o,s)&&y.forEach(Z=>{let le=Z.currentSnapshot;Object.keys(le).forEach(me=>b[me]=le[me])});const C=function(i){let t={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(s=>{"offset"==s||"easing"==s||(t[s]=o[s])})}),t}(e=og(t,e,b));if(0==o)return new $S(t,C);const D="gen_css_kf_"+this._count++,T=this.buildKeyframeElement(t,D,e);(function(i){var t;const e=null===(t=i.getRootNode)||void 0===t?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(T);const R=pg(t,e),V=new zS(t,e,D,o,s,c,C,R);return V.onDestroy(()=>function(i){i.parentNode.removeChild(i)}(T)),V}}class JS{constructor(t,e,o,s){this.element=t,this.keyframes=e,this.options=o,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,o){return t.animate(e,o)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:zs(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class XS{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(tb().toString()),this._cssKeyframesDriver=new WS}validateStyleProperty(t){return Cv(t)}matchesElement(t,e){return Sv(t,e)}containsElement(t,e){return Dv(t,e)}query(t,e,o){return Wp(t,e,o)}computeStyle(t,e,o){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,o,s,c,f=[],m){if(!m&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,o,s,c,f);const C={duration:o,delay:s,fill:0==s?"both":"forwards"};c&&(C.easing=c);const D={},T=f.filter(R=>R instanceof JS);Rv(o,s)&&T.forEach(R=>{let V=R.currentSnapshot;Object.keys(V).forEach(Z=>D[Z]=V[Z])});const A=pg(t,e=og(t,e=e.map(R=>qs(R,!1)),D));return new JS(t,e,C,A)}}function tb(){return NI()&&Element.prototype.animate||{}}let tD=(()=>{class i extends Pu{constructor(e,o){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(o.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(e){const o=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?Vu(e):e;return nD(this._renderer,null,o,"register",[s]),new m1(o,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.FYo),d.LFG(j))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class m1 extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new _1(this._id,t,e||{},this._renderer)}}class _1{constructor(t,e,o,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return nD(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function nD(i,t,e,o,s){return i.setProperty(t,`@@${e}:${o}`,s)}const y1="@.disabled";let $O=(()=>{class i{constructor(e,o,s){this.delegate=e,this.engine=o,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(c,f)=>{f&&f.parentNode(c)&&f.removeChild(c.parentNode,c)}}createRenderer(e,o){const c=this.delegate.createRenderer(e,o);if(!(e&&o&&o.data&&o.data.animation)){let C=this._rendererCache.get(c);return C||(C=new v1("",c,this.engine),this._rendererCache.set(c,C)),C}const f=o.id,m=o.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const y=C=>{Array.isArray(C)?C.forEach(y):this.engine.registerTrigger(f,m,e,C.name,C)};return o.data.animation.forEach(y),new YO(this,m,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,o,s){e>=0&&e<this._microtaskId?this._zone.run(()=>o(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,m]=c;f(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.FYo),d.LFG(fg),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();class v1{constructor(t,e,o){this.namespaceId=t,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,o,s=!0){this.delegate.insertBefore(t,e,o),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,o,s){this.delegate.setAttribute(t,e,o,s)}removeAttribute(t,e,o){this.delegate.removeAttribute(t,e,o)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,o,s){this.delegate.setStyle(t,e,o,s)}removeStyle(t,e,o){this.delegate.removeStyle(t,e,o)}setProperty(t,e,o){"@"==e.charAt(0)&&e==y1?this.disableAnimations(t,!!o):this.delegate.setProperty(t,e,o)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,o){return this.delegate.listen(t,e,o)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class YO extends v1{constructor(t,e,o,s){super(e,o,s),this.factory=t,this.namespaceId=e}setProperty(t,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&e==y1?this.disableAnimations(t,o=void 0===o||!!o):this.engine.process(this.namespaceId,t,e.substr(1),o):this.delegate.setProperty(t,e,o)}listen(t,e,o){if("@"==e.charAt(0)){const s=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let c=e.substr(1),f="";return"@"!=c.charAt(0)&&([c,f]=function(i){const t=i.indexOf(".");return[i.substring(0,t),i.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,s,c,f,m=>{this.factory.scheduleListenerCallback(m._data||-1,o,m)})}return this.delegate.listen(t,e,o)}}let KO=(()=>{class i extends fg{constructor(e,o,s){super(e.body,o,s)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j),d.LFG(Tv),d.LFG(ug))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const lo=new d.OlP("AnimationModuleType"),b1=[{provide:Pu,useClass:tD},{provide:ug,useFactory:function(){return new OS}},{provide:fg,useClass:KO},{provide:d.FYo,useFactory:function(i,t,e){return new $O(i,t,e)},deps:[qo,fg,d.R0b]}],w1=[{provide:Tv,useFactory:function(){return"function"==typeof tb()?new XS:new WS}},{provide:lo,useValue:"BrowserAnimations"},...b1],C1=[{provide:Tv,useClass:wS},{provide:lo,useValue:"NoopAnimations"},...b1];let ek=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?C1:w1}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:w1,imports:[Dm]}),i})();var nb=k(9796),E1=k(1555);function rD(...i){if(1===i.length){const t=i[0];if((0,nb.k)(t))return bg(t,null);if((0,E1.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return bg(e.map(o=>t[o]),e)}}if("function"==typeof i[i.length-1]){const t=i.pop();return bg(i=1===i.length&&(0,nb.k)(i[0])?i[0]:i,null).pipe((0,Le.U)(e=>t(...e)))}return bg(i,null)}function bg(i,t){return new Vt.y(e=>{const o=i.length;if(0===o)return void e.complete();const s=new Array(o);let c=0,f=0;for(let m=0;m<o;m++){const y=(0,Jt.D)(i[m]);let b=!1;e.add(y.subscribe({next:C=>{b||(b=!0,f++),s[m]=C},error:C=>e.error(C),complete:()=>{c++,(c===o||!b)&&(f===o&&e.next(t?t.reduce((C,D,T)=>(C[D]=s[T],C),{}):s),e.complete())}}))}})}let S1=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.Qsj),d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i}),i})(),Yu=(()=>{class i extends S1{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();const uo=new d.OlP("NgValueAccessor"),T1={provide:uo,useExisting:(0,d.Gpc)(()=>Za),multi:!0},nk=new d.OlP("CompositionEventMode");let Za=(()=>{class i extends S1{constructor(e,o,s){super(e,o),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=ce()?ce().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(nk,8))},i.\u0275dir=d.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&d.NdJ("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[d._Bn([T1]),d.qOj]}),i})();function Ka(i){return null==i||0===i.length}function oD(i){return null!=i&&"number"==typeof i.length}const Cr=new d.OlP("NgValidators"),Ys=new d.OlP("NgAsyncValidators"),rb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ss{static min(t){return function(i){return t=>{if(Ka(t.value)||Ka(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function(i){return t=>{if(Ka(t.value)||Ka(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return aD(t)}static requiredTrue(t){return function(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function(i){return Ka(i.value)||rb.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function(i){return t=>Ka(t.value)||!oD(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(i){return t=>oD(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(i){if(!i)return as;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),o=>{if(Ka(o.value))return null;const s=o.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return x1(t)}static composeAsync(t){return uD(t)}}function aD(i){return Ka(i.value)?{required:!0}:null}function as(i){return null}function th(i){return null!=i}function lb(i){const t=(0,d.QGY)(i)?(0,Jt.D)(i):i;return(0,d.CqO)(t),t}function A1(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function I1(i,t){return t.map(e=>e(i))}function lD(i){return i.map(t=>function(i){return!i.validate}(t)?t:e=>t.validate(e))}function x1(i){if(!i)return null;const t=i.filter(th);return 0==t.length?null:function(e){return A1(I1(e,t))}}function Wu(i){return null!=i?x1(lD(i)):null}function uD(i){if(!i)return null;const t=i.filter(th);return 0==t.length?null:function(e){return rD(I1(e,t).map(lb)).pipe((0,Le.U)(A1))}}function cD(i){return null!=i?uD(lD(i)):null}function R1(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Cg(i){return i._rawValidators}function dD(i){return i._rawAsyncValidators}function hD(i){return i?Array.isArray(i)?i:[i]:[]}function ub(i,t){return Array.isArray(i)?i.includes(t):i===t}function fD(i,t){const e=hD(t);return hD(i).forEach(s=>{ub(e,s)||e.push(s)}),e}function O1(i,t){return hD(t).filter(e=>!ub(i,e))}let cb=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Wu(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i}),i})(),Pr=(()=>{class i extends cb{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(i)))(o||i)}}(),i.\u0275dir=d.lG2({type:i,features:[d.qOj]}),i})();class ls extends cb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class k1{constructor(t){this._cd=t}is(t){var e,o,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===s?void 0:s[t])}}let Zu=(()=>{class i extends k1{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(ls,2))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[d.qOj]}),i})(),db=(()=>{class i extends k1{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Pr,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&d.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[d.qOj]}),i})();function Sg(i,t){return[...t.path,i]}function cr(i,t){fb(i,t),t.valueAccessor.writeValue(i.value),function(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&mD(i,t)})}(i,t),function(i,t){const e=(o,s)=>{t.valueAccessor.writeValue(o),s&&t.viewToModelUpdate(o)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&mD(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function(i,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function Dg(i,t,e=!0){const o=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(o),t.valueAccessor.registerOnTouched(o)),Qu(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Ku(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function fb(i,t){const e=Cg(i);null!==t.validator?i.setValidators(R1(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const o=dD(i);null!==t.asyncValidator?i.setAsyncValidators(R1(o,t.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const s=()=>i.updateValueAndValidity();Ku(t._rawValidators,s),Ku(t._rawAsyncValidators,s)}function Qu(i,t){let e=!1;if(null!==i){if(null!==t.validator){const s=Cg(i);if(Array.isArray(s)&&s.length>0){const c=s.filter(f=>f!==t.validator);c.length!==s.length&&(e=!0,i.setValidators(c))}}if(null!==t.asyncValidator){const s=dD(i);if(Array.isArray(s)&&s.length>0){const c=s.filter(f=>f!==t.asyncValidator);c.length!==s.length&&(e=!0,i.setAsyncValidators(c))}}}const o=()=>{};return Ku(t._rawValidators,o),Ku(t._rawAsyncValidators,o),e}function mD(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function pb(i,t){fb(i,t)}function Tg(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Mg(i,t){i._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function mb(i,t){if(!t)return null;let e,o,s;return Array.isArray(t),t.forEach(c=>{c.constructor===Za?e=c:function(i){return Object.getPrototypeOf(i.constructor)===Yu}(c)?o=c:s=c}),s||o||e||null}function Yr(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Ag="VALID",Ig="INVALID",nh="PENDING",rh="DISABLED";function _b(i){return(bb(i)?i.validators:i)||null}function L1(i){return Array.isArray(i)?Wu(i):i||null}function yb(i,t){return(bb(t)?t.asyncValidators:i)||null}function vb(i){return Array.isArray(i)?cD(i):i||null}function bb(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class wb{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=L1(this._rawValidators),this._composedAsyncValidatorFn=vb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ag}get invalid(){return this.status===Ig}get pending(){return this.status==nh}get disabled(){return this.status===rh}get enabled(){return this.status!==rh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=L1(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=vb(t)}addValidators(t){this.setValidators(fD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(O1(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(O1(t,this._rawAsyncValidators))}hasValidator(t){return ub(this._rawValidators,t)}hasAsyncValidator(t){return ub(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=nh,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=rh,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ag,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ag||this.status===nh)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rh:Ag}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=nh,this._hasOwnPendingAsyncValidator=!0;const e=lb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let o=i;return t.forEach(s=>{o=o instanceof ih?o.controls.hasOwnProperty(s)?o.controls[s]:null:o instanceof vD&&o.at(s)||null}),o}(this,t)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?rh:this.errors?Ig:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nh)?nh:this._anyControlsHaveStatus(Ig)?Ig:Ag}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Vi extends wb{constructor(t=null,e,o){super(_b(e),yb(o,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Yr(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Yr(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class ih extends wb{constructor(t,e,o){super(_b(e),yb(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,s)=>{o.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e instanceof Vi?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&t(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,o)=>((e.enabled||this.disabled)&&(t[o]=e.value),t))}_reduceChildren(t,e){let o=t;return this._forEachChild((s,c)=>{o=e(o,s,c)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class vD extends wb{constructor(t,e,o){super(_b(e),yb(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((o,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((o,s)=>{this.at(s)&&this.at(s).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,s)=>{o.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Vi?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const bD={provide:Pr,useExisting:(0,d.Gpc)(()=>sh)},oh=(()=>Promise.resolve(null))();let sh=(()=>{class i extends Pr{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new d.vpe,this.form=new ih({},Wu(e),cD(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){oh.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),cr(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){oh.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),Yr(this._directives,e)})}addFormGroup(e){oh.then(()=>{const o=this._findContainer(e.path),s=new ih({});pb(s,e),o.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){oh.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){oh.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Mg(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Cr,10),d.Y36(Ys,10))},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&d.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([bD]),d.qOj]}),i})();const B1={provide:ls,useExisting:(0,d.Gpc)(()=>wD)},U1=(()=>Promise.resolve(null))();let wD=(()=>{class i extends ls{constructor(e,o,s,c){super(),this.control=new Vi,this._registered=!1,this.update=new d.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=mb(0,c)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Tg(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Sg(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){U1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,s=""===o||o&&"false"!==o;U1.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Pr,9),d.Y36(Cr,10),d.Y36(Ys,10),d.Y36(uo,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([B1]),d.qOj,d.TTD]}),i})(),CD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),SD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const Mb=new d.OlP("NgModelWithFormControlWarning"),Ab={provide:ls,useExisting:(0,d.Gpc)(()=>Dn)};let Dn=(()=>{class i extends ls{constructor(e,o,s,c){super(),this._ngModelWarningConfig=c,this.update=new d.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(o),this.valueAccessor=mb(0,s)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const o=e.form.previousValue;o&&Dg(o,this,!1),cr(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Tg(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Dg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Cr,10),d.Y36(Ys,10),d.Y36(uo,10),d.Y36(Mb,8))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[d._Bn([Ab]),d.qOj,d.TTD]}),i._ngModelWarningSentOnce=!1,i})();const ck={provide:Pr,useExisting:(0,d.Gpc)(()=>Ws)};let Ws=(()=>{class i extends Pr{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return cr(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){Dg(e.control||null,e,!1),Yr(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,Mg(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,s=this.form.get(e.path);o!==s&&(Dg(o||null,e),s instanceof Vi&&(cr(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);pb(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function(i,t){return Qu(i,t)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){fb(this.form,this),this._oldForm&&Qu(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Cr,10),d.Y36(Ys,10))},i.\u0275dir=d.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&d.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([ck]),d.qOj,d.TTD]}),i})();const MD={provide:ls,useExisting:(0,d.Gpc)(()=>Po)};let Po=(()=>{class i extends ls{constructor(e,o,s,c,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=mb(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Tg(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Sg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Pr,13),d.Y36(Cr,10),d.Y36(Ys,10),d.Y36(uo,10),d.Y36(Mb,8))},i.\u0275dir=d.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([MD]),d.qOj,d.TTD]}),i._ngModelWarningSentOnce=!1,i})();const hk={provide:Cr,useExisting:(0,d.Gpc)(()=>Pg),multi:!0};let Pg=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?aD(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,o){2&e&&d.uIk("required",o.required?"":null)},inputs:{required:"required"},features:[d._Bn([hk])]}),i})(),PD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[SD]]}),i})(),LD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[PD]}),i})(),ui=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Mb,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[PD]}),i})(),VD=(()=>{class i{group(e,o=null){const s=this._reduceControls(e);let m,c=null,f=null;return null!=o&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(o)?(c=null!=o.validators?o.validators:null,f=null!=o.asyncValidators?o.asyncValidators:null,m=null!=o.updateOn?o.updateOn:void 0):(c=null!=o.validator?o.validator:null,f=null!=o.asyncValidator?o.asyncValidator:null)),new ih(s,{asyncValidators:f,updateOn:m,validators:c})}control(e,o,s){return new Vi(e,o,s)}array(e,o,s){const c=e.map(f=>this._createControl(f));return new vD(c,o,s)}_reduceControls(e){const o={};return Object.keys(e).forEach(s=>{o[s]=this._createControl(e[s])}),o}_createControl(e){return e instanceof Vi||e instanceof ih||e instanceof vD?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,d.Yz7)({factory:function(){return new i},token:i,providedIn:ui}),i})();function ft(i){return null!=i&&"false"!=`${i}`}function Lo(i,t=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function Lg(i){return Array.isArray(i)?i:[i]}function Fn(i){return null==i?"":"string"==typeof i?i:`${i}px`}function ci(i){return i instanceof d.SBq?i.nativeElement:i}var vk=k(9105);function Vg(i,t,e,o){return(0,vk.m)(e)&&(o=e,e=void 0),o?Vg(i,t,e).pipe((0,Le.U)(s=>(0,nb.k)(s)?o(...s):o(s))):new Vt.y(s=>{tx(i,t,function(f){s.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},s,e)})}function tx(i,t,e,o,s){let c;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const f=i;i.addEventListener(t,e,s),c=()=>f.removeEventListener(t,e,s)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const f=i;i.on(t,e),c=()=>f.off(t,e)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const f=i;i.addListener(t,e),c=()=>f.removeListener(t,e)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let f=0,m=i.length;f<m;f++)tx(i[f],t,e,o,s)}o.add(c)}var rx=k(6465),Ck=k(6102);new class extends Ck.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let o,s=-1,c=e.length;t=t||e.shift();do{if(o=t.execute(t.state,t.delay))break}while(++s<c&&(t=e.shift()));if(this.active=!1,o){for(;++s<c&&(t=e.shift());)t.unsubscribe();throw o}}}(class extends rx.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,o=0){return null!==o&&o>0?super.requestAsyncId(t,e,o):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(t,e,o);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});var di=k(4581);class lx{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new UD(t,this.durationSelector))}}class UD extends kr.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const o=(0,kr.ft)(e,new kr.IY(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:t,hasValue:e,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Nb=k(6561);function Pb(i){const{index:t,period:e,subscriber:o}=i;if(o.next(t),!o.closed){if(-1===e)return o.complete();i.index=t+1,this.schedule(i,e)}}function Ju(i,t=$h.P){return function(i){return function(e){return e.lift(new lx(i))}}(()=>function(i=0,t,e){let o=-1;return(0,Nb.k)(t)?o=Number(t)<1?1:Number(t):(0,Nm.K)(t)&&(e=t),(0,Nm.K)(e)||(e=$h.P),new Vt.y(s=>{const c=(0,Nb.k)(i)?i:+i-e.now();return e.schedule(Pb,c,{index:0,period:o,subscriber:s})})}(i,t))}function rr(i){return t=>t.lift(new Bg(i))}class Bg{constructor(t){this.notifier=t}call(t,e){const o=new Ug(t),s=(0,kr.ft)(this.notifier,new kr.IY(o));return s&&!o.seenValue?(o.add(s),e.subscribe(o)):o}}class Ug extends kr.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let jg;try{jg="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){jg=!1}let Xu,Dt=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(i){return"browser"===i}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jg)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.Lbi))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(d.Lbi))},token:i,providedIn:"root"}),i})(),ah=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();const Lb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function HD(){if(Xu)return Xu;if("object"!=typeof document||!document)return Xu=new Set(Lb),Xu;let i=document.createElement("input");return Xu=new Set(Lb.filter(t=>(i.setAttribute("type",t),i.type===t))),Xu}let lh,Tn,Gg;function Qa(i){return function(){if(null==lh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>lh=!0}))}finally{lh=lh||!1}return lh}()?i:!!i.capture}function ec(){if(null==Tn){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tn=!1,Tn;if("scrollBehavior"in document.documentElement.style)Tn=!0;else{const i=Element.prototype.scrollTo;Tn=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Tn}function zg(i){if(function(){if(null==Gg){const i="undefined"!=typeof document?document.head:null;Gg=!(!i||!i.createShadowRoot&&!i.attachShadow)}return Gg}()){const t=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ks(){let i="undefined"!=typeof document&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function us(i){return i.composedPath?i.composedPath()[0]:i.target}const GD=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,d.f3M)(j)}});let Bi=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new d.vpe,e){const s=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||s;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(GD,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(GD,8))},token:i,providedIn:"root"}),i})(),tc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();class $g{constructor(t=!1,e,o=!0){this._multiple=t,this._emitChanges=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new je.xQ,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let Ui=(()=>{class i{constructor(e,o,s){this._ngZone=e,this._platform=o,this._scrolled=new je.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const o=this.scrollContainers.get(e);o&&(o.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Vt.y(o=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(Ju(e)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ne.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(e,o){const s=this.getAncestorScrollContainers(e);return this.scrolled(o).pipe(Ft(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(e){const o=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,e)&&o.push(c)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,o){let s=ci(o),c=e.getElementRef().nativeElement;do{if(s==c)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Vg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.R0b),d.LFG(Dt),d.LFG(j,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(d.R0b),d.LFG(Dt),d.LFG(j,8))},token:i,providedIn:"root"}),i})(),Qs=(()=>{class i{constructor(e,o,s){this._platform=e,this._change=new je.xQ,this._changeListener=c=>{this._change.next(c)},this._document=s,o.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:o,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+o,height:s,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,o=this._getWindow(),s=e.documentElement,c=s.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||o.scrollY||s.scrollTop||0,left:-c.left||e.body.scrollLeft||o.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Ju(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Dt),d.LFG(d.R0b),d.LFG(j,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Dt),d.LFG(d.R0b),d.LFG(j,8))},token:i,providedIn:"root"}),i})(),Yg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),Ub=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[tc,ah,Yg],tc,Yg]}),i})();class ch{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Xa extends ch{constructor(t,e,o,s){super(),this.component=t,this.viewContainerRef=e,this.injector=o,this.componentFactoryResolver=s}}class Js extends ch{constructor(t,e,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class xk extends ch{constructor(t){super(),this.element=t instanceof d.SBq?t.nativeElement:t}}class Wg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Xa?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Js?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof xk?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Cx extends Wg{constructor(t,e,o,s,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=o,this._defaultInjector=s,this.attachDomPortal=f=>{const m=f.element,y=this._document.createComment("dom-portal");m.parentNode.insertBefore(y,m),this.outletElement.appendChild(m),this._attachedPortal=f,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(m,y)})},this._document=c}attachComponentPortal(t){const o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(o,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=o.create(t.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,o=e.createEmbeddedView(t.templateRef,t.context);return o.rootNodes.forEach(s=>this.outletElement.appendChild(s)),o.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(o);-1!==s&&e.remove(s)}),this._attachedPortal=t,o}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let el=(()=>{class i extends Wg{constructor(e,o,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=c=>{const f=c.element,m=this._document.createComment("dom-portal");c.setAttachedHost(this),f.parentNode.insertBefore(m,f),this._getRootNode().appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(f,m)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const o=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),f=o.createComponent(c,o.length,e.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=e,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(e){e.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(j))},i.\u0275dir=d.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),i})(),jb=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function sc(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}const Pk=ec();class aV{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Fn(-this._previousScrollPosition.left),t.style.top=Fn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,o=t.style,s=this._document.body.style,c=o.scrollBehavior||"",f=s.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Pk&&(o.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Pk&&(o.scrollBehavior=c,s.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,o=this._viewportRuler.getViewportSize();return e.scrollHeight>o.height||e.scrollWidth>o.width}}class lV{constructor(t,e,o,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=o,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Lk{enable(){}disable(){}attach(){}}function Ex(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function Vk(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class uV{constructor(t,e,o,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=o,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:s}=this._viewportRuler.getViewportSize();Ex(e,[{width:o,height:s,bottom:s,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let cV=(()=>{class i{constructor(e,o,s,c){this._scrollDispatcher=e,this._viewportRuler=o,this._ngZone=s,this.noop=()=>new Lk,this.close=f=>new lV(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new aV(this._viewportRuler,this._document),this.reposition=f=>new uV(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=c}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Ui),d.LFG(Qs),d.LFG(d.R0b),d.LFG(j))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Ui),d.LFG(Qs),d.LFG(d.R0b),d.LFG(j))},token:i,providedIn:"root"}),i})();class Kg{constructor(t){if(this.scrollStrategy=new Lk,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const o of e)void 0!==t[o]&&(this[o]=t[o])}}}class dV{constructor(t,e,o,s,c){this.offsetX=o,this.offsetY=s,this.panelClass=c,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class hV{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Bk=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const o=this._attachedOverlays.indexOf(e);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(j))},token:i,providedIn:"root"}),i})(),fV=(()=>{class i extends Bk{constructor(e){super(e),this._keydownListener=o=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){s[c]._keydownEvents.next(o);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(j))},token:i,providedIn:"root"}),i})(),pV=(()=>{class i extends Bk{constructor(e,o){super(e),this._platform=o,this._cursorStyleIsSet=!1,this._clickListener=s=>{const c=us(s),f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const y=f[m];if(!(y._outsidePointerEvents.observers.length<1)&&y.hasAttached()){if(y.overlayElement.contains(c))break;y._outsidePointerEvents.next(s)}}}}add(e){if(super.add(e),!this._isAttached){const o=this._document.body;o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j),d.LFG(Dt))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(j),d.LFG(Dt))},token:i,providedIn:"root"}),i})();const ac="undefined"!=typeof window?window:{},Uk=void 0!==ac.__karma__&&!!ac.__karma__||void 0!==ac.jasmine&&!!ac.jasmine||void 0!==ac.jest&&!!ac.jest||void 0!==ac.Mocha&&!!ac.Mocha;let Gb=(()=>{class i{constructor(e,o){this._platform=o,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Uk){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].parentNode.removeChild(s[c])}const o=this._document.createElement("div");o.classList.add(e),Uk?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(j),d.LFG(Dt))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(j),d.LFG(Dt))},token:i,providedIn:"root"}),i})();class gV{constructor(t,e,o,s,c,f,m,y,b){this._portalOutlet=t,this._host=e,this._pane=o,this._config=s,this._ngZone=c,this._keyboardDispatcher=f,this._document=m,this._location=y,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new je.xQ,this._attachments=new je.xQ,this._detachments=new je.xQ,this._locationChanges=ur.w.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._keydownEvents=new je.xQ,this._outsidePointerEvents=new je.xQ,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(dn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Fn(this._config.width),t.height=Fn(this._config.height),t.minWidth=Fn(this._config.minWidth),t.minHeight=Fn(this._config.minHeight),t.maxWidth=Fn(this._config.maxWidth),t.maxHeight=Fn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(!t)return;let e,o=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",o),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",o)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(t,e,o){const s=t.classList;Lg(e).forEach(c=>{c&&(o?s.add(c):s.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(rr((0,si.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const jk="cdk-overlay-connected-position-bounding-box",mV=/([A-Za-z%]+)$/;class Hk{constructor(t,e,o,s,c){this._viewportRuler=e,this._document=o,this._platform=s,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new je.xQ,this._resizeSubscription=ur.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(jk),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,o=this._viewportRect,s=[];let c;for(let f of this._preferredPositions){let m=this._getOriginPoint(t,f),y=this._getOverlayPoint(m,e,f),b=this._getOverlayFit(y,e,o,f);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,m);this._canFitWithFlexibleDimensions(b,y,o)?s.push({position:f,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,f)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:y,originPoint:m,position:f,overlayRect:e})}if(s.length){let f=null,m=-1;for(const y of s){const b=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);b>m&&(m=b,f=y)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ph(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jk),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let o,s;if("center"==e.originX)o=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;o="start"==e.originX?c:f}return s="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:o,y:s}}_getOverlayPoint(t,e,o){let s,c;return s="center"==o.overlayX?-e.width/2:"start"===o.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==o.overlayY?-e.height/2:"top"==o.overlayY?0:-e.height,{x:t.x+s,y:t.y+c}}_getOverlayFit(t,e,o,s){const c=qk(e);let{x:f,y:m}=t,y=this._getOffset(s,"x"),b=this._getOffset(s,"y");y&&(f+=y),b&&(m+=b);let T=0-m,A=m+c.height-o.height,R=this._subtractOverflows(c.width,0-f,f+c.width-o.width),V=this._subtractOverflows(c.height,T,A),Z=R*V;return{visibleArea:Z,isCompletelyWithinViewport:c.width*c.height===Z,fitsInViewportVertically:V===c.height,fitsInViewportHorizontally:R==c.width}}_canFitWithFlexibleDimensions(t,e,o){if(this._hasFlexibleDimensions){const s=o.bottom-e.y,c=o.right-e.x,f=Gk(this._overlayRef.getConfig().minHeight),m=Gk(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=m&&m<=c;return(t.fitsInViewportVertically||null!=f&&f<=s)&&b}return!1}_pushOverlayOnScreen(t,e,o){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=qk(e),c=this._viewportRect,f=Math.max(t.x+s.width-c.width,0),m=Math.max(t.y+s.height-c.height,0),y=Math.max(c.top-o.top-t.y,0),b=Math.max(c.left-o.left-t.x,0);let C=0,D=0;return C=s.width<=c.width?b||-f:t.x<this._viewportMargin?c.left-o.left-t.x:0,D=s.height<=c.height?y||-m:t.y<this._viewportMargin?c.top-o.top-t.y:0,this._previousPushAmount={x:C,y:D},{x:t.x+C,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const o=this._getScrollVisibility(),s=new hV(t,o);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,s=t.overlayY;o="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${o} ${s}`}_calculateBoundingBoxRect(t,e){const o=this._viewportRect,s=this._isRtl();let c,f,m,C,D,T;if("top"===e.overlayY)f=t.y,c=o.height-f+this._viewportMargin;else if("bottom"===e.overlayY)m=o.height-t.y+2*this._viewportMargin,c=o.height-m+this._viewportMargin;else{const A=Math.min(o.bottom-t.y+o.top,t.y),R=this._lastBoundingBoxSize.height;c=2*A,f=t.y-A,c>R&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.y-R/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)T=o.width-t.x+this._viewportMargin,C=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)D=t.x,C=o.right-t.x;else{const A=Math.min(o.right-t.x+o.left,t.x),R=this._lastBoundingBoxSize.width;C=2*A,D=t.x-A,C>R&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-R/2)}return{top:f,left:D,bottom:m,right:T,width:C,height:c}}_setBoundingBoxStyles(t,e){const o=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;s.height=Fn(o.height),s.top=Fn(o.top),s.bottom=Fn(o.bottom),s.width=Fn(o.width),s.left=Fn(o.left),s.right=Fn(o.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(s.maxHeight=Fn(c)),f&&(s.maxWidth=Fn(f))}this._lastBoundingBoxSize=o,ph(this._boundingBox.style,s)}_resetBoundingBoxStyles(){ph(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ph(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const o={},s=this._hasExactPosition(),c=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(s){const C=this._viewportRuler.getViewportScrollPosition();ph(o,this._getExactOverlayY(e,t,C)),ph(o,this._getExactOverlayX(e,t,C))}else o.position="static";let m="",y=this._getOffset(e,"x"),b=this._getOffset(e,"y");y&&(m+=`translateX(${y}px) `),b&&(m+=`translateY(${b}px)`),o.transform=m.trim(),f.maxHeight&&(s?o.maxHeight=Fn(f.maxHeight):c&&(o.maxHeight="")),f.maxWidth&&(s?o.maxWidth=Fn(f.maxWidth):c&&(o.maxWidth="")),ph(this._pane.style,o)}_getExactOverlayY(t,e,o){let s={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=f,"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":s.top=Fn(c.y),s}_getExactOverlayX(t,e,o){let f,s={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o)),f=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===f?s.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":s.left=Fn(c.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),o=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Vk(t,o),isOriginOutsideView:Ex(t,o),isOverlayClipped:Vk(e,o),isOverlayOutsideView:Ex(e,o)}}_subtractOverflows(t,...e){return e.reduce((o,s)=>o-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+t-this._viewportMargin,bottom:o.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Lg(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof d.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,o=t.height||0;return{top:t.y,bottom:t.y+o,left:t.x,right:t.x+e,height:o,width:e}}}function ph(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function Gk(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(mV);return e&&"px"!==e?null:parseFloat(t)}return i||null}function qk(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}class _V{constructor(t,e,o,s,c,f,m){this._preferredPositions=[],this._positionStrategy=new Hk(o,s,c,f,m).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,o,s){const c=new dV(t,e,o,s);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const zk="cdk-global-overlay-wrapper";class yV{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(zk),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:s,height:c,maxWidth:f,maxHeight:m}=o,y=!("100%"!==s&&"100vw"!==s||f&&"100%"!==f&&"100vw"!==f),b=!("100%"!==c&&"100vh"!==c||m&&"100%"!==m&&"100vh"!==m);t.position=this._cssPosition,t.marginLeft=y?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,y?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,o=e.style;e.classList.remove(zk),o.justifyContent=o.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let vV=(()=>{class i{constructor(e,o,s,c){this._viewportRuler=e,this._document=o,this._platform=s,this._overlayContainer=c}global(){return new yV}connectedTo(e,o,s){return new _V(o,s,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new Hk(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Qs),d.LFG(j),d.LFG(Dt),d.LFG(Gb))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Qs),d.LFG(j),d.LFG(Dt),d.LFG(Gb))},token:i,providedIn:"root"}),i})(),bV=0,Vo=(()=>{class i{constructor(e,o,s,c,f,m,y,b,C,D,T){this.scrollStrategies=e,this._overlayContainer=o,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=f,this._injector=m,this._ngZone=y,this._document=b,this._directionality=C,this._location=D,this._outsideClickDispatcher=T}create(e){const o=this._createHostElement(),s=this._createPaneElement(o),c=this._createPortalOutlet(s),f=new Kg(e);return f.direction=f.direction||this._directionality.value,new gV(c,o,s,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const o=this._document.createElement("div");return o.id="cdk-overlay-"+bV++,o.classList.add("cdk-overlay-pane"),e.appendChild(o),o}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new Cx(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(cV),d.LFG(Gb),d.LFG(d._Vd),d.LFG(vV),d.LFG(fV),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(j),d.LFG(Bi),d.LFG(ut),d.LFG(pV))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const EV={provide:new d.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Vo],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let XD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[Vo,EV],imports:[[tc,jb,Ub],Ub]}),i})();class hi extends je.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new lS.N;return this._value}next(t){super.next(this._value=t)}}var ir=k(3342);function Sx(i,t=$h.P){return e=>e.lift(new SV(i,t))}class SV{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new DV(t,this.dueTime,this.scheduler))}}class DV extends sn.L{constructor(t,e,o){super(t),this.dueTime=e,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(TV,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function TV(i){i.debouncedNext()}function Yk(i){return t=>t.lift(new MV(i))}class MV{constructor(t){this.total=t}call(t,e){return e.subscribe(new AV(t,this.total))}}class AV extends sn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}let Dx=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),Wk=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,o)=>this._cleanupObserver(o))}observe(e){const o=ci(e);return new Vt.y(s=>{const f=this._observeElement(o).subscribe(s);return()=>{f.unsubscribe(),this._unobserveElement(o)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const o=new je.xQ,s=this._mutationObserverFactory.create(c=>o.next(c));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:o,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:o,stream:s}=this._observedElements.get(e);o&&o.disconnect(),s.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Dx))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Dx))},token:i,providedIn:"root"}),i})(),Zk=(()=>{class i{constructor(e,o,s){this._contentObserver=e,this._elementRef=o,this._ngZone=s,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ft(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Lo(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Sx(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Wk),d.Y36(d.SBq),d.Y36(d.R0b))},i.\u0275dir=d.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),Tx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[Dx]}),i})();class Jk extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new je.xQ,this._typeaheadSubscription=ur.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new je.xQ,this.change=new je.xQ,t instanceof d.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ir.b)(e=>this._pressedLetters.push(e)),Sx(t),Ft(()=>this._pressedLetters.length>0),(0,Le.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const o=this._getItemsArray();for(let s=1;s<o.length+1;s++){const c=(this._activeItemIndex+s)%o.length,f=o[c];if(!this._skipPredicateFn(f)&&0===f.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||sc(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),o="number"==typeof t?t:e.indexOf(t),s=e[o];this._activeItem=null==s?null:s,this._activeItemIndex=o}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let o=1;o<=e.length;o++){const s=(this._activeItemIndex+t*o+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const o=this._getItemsArray();if(o[t]){for(;this._skipPredicateFn(o[t]);)if(!o[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof d.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Xk=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const o=function(i){try{return i.frameElement}catch(t){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(o&&(-1===tF(o)||!this.isVisible(o)))return!1;let s=e.nodeName.toLowerCase(),c=tF(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==c:"video"===s?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,o){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||eF(i))}(e)&&!this.isDisabled(e)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Dt))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Dt))},token:i,providedIn:"root"}),i})();function eF(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function tF(i){if(!eF(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class HV{constructor(t,e,o,s,c=!1){this._element=t,this._checker=e,this._ngZone=o,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let o=0;o<e.length;o++)e[o].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[o]):e[o].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[o]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const o=this._getFirstTabbableElement(e);return null==o||o.focus(t),!!o}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let o=0;o<e.length;o++){let s=e[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[o]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let o=e.length-1;o>=0;o--){let s=e[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[o]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(dn(1)).subscribe(t)}}let Mx=(()=>{class i{constructor(e,o,s){this._checker=e,this._ngZone=o,this._document=s}create(e,o=!1){return new HV(e,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Xk),d.LFG(d.R0b),d.LFG(j))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Xk),d.LFG(d.R0b),d.LFG(j))},token:i,providedIn:"root"}),i})();function Ax(i){return 0===i.offsetX&&0===i.offsetY}function Ix(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const nF=new d.OlP("cdk-input-modality-detector-options"),YV={ignoreKeys:[18,17,224,91,16]},Qg=Qa({passive:!0,capture:!0});let iF=(()=>{class i{constructor(e,o,s,c){this._platform=e,this._mostRecentTarget=null,this._modality=new hi(null),this._lastTouchMs=0,this._onKeydown=f=>{var m,y;(null===(y=null===(m=this._options)||void 0===m?void 0:m.ignoreKeys)||void 0===y?void 0:y.some(b=>b===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=us(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ax(f)?"keyboard":"mouse"),this._mostRecentTarget=us(f))},this._onTouchstart=f=>{Ix(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=us(f))},this._options=Object.assign(Object.assign({},YV),c),this.modalityDetected=this._modality.pipe(Yk(1)),this.modalityChanged=this.modalityDetected.pipe(Tl()),e.isBrowser&&o.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Qg),s.addEventListener("mousedown",this._onMousedown,Qg),s.addEventListener("touchstart",this._onTouchstart,Qg)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,Qg),document.removeEventListener("mousedown",this._onMousedown,Qg),document.removeEventListener("touchstart",this._onTouchstart,Qg))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Dt),d.LFG(d.R0b),d.LFG(j),d.LFG(nF,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Dt),d.LFG(d.R0b),d.LFG(j),d.LFG(nF,8))},token:i,providedIn:"root"}),i})();const oF=new d.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),sF=new d.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let xx=(()=>{class i{constructor(e,o,s,c){this._ngZone=o,this._defaultOptions=c,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...o){const s=this._defaultOptions;let c,f;return 1===o.length&&"number"==typeof o[0]?f=o[0]:[c,f]=o,this.clear(),clearTimeout(this._previousTimeout),c||(c=s&&s.politeness?s.politeness:"polite"),null==f&&s&&(f=s.duration),this._liveElement.setAttribute("aria-live",c),this._ngZone.runOutsideAngular(()=>new Promise(m=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,m(),"number"==typeof f&&(this._previousTimeout=setTimeout(()=>this.clear(),f))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const e="cdk-live-announcer-element",o=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let c=0;c<o.length;c++)o[c].parentNode.removeChild(o[c]);return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(oF,8),d.LFG(d.R0b),d.LFG(j),d.LFG(sF,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(oF,8),d.LFG(d.R0b),d.LFG(j),d.LFG(sF,8))},token:i,providedIn:"root"}),i})();const aF=new d.OlP("cdk-focus-monitor-default-options"),eT=Qa({passive:!0,capture:!0});let lc=(()=>{class i{constructor(e,o,s,c,f){this._ngZone=e,this._platform=o,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new je.xQ,this._rootNodeFocusAndBlurListener=m=>{const y=us(m),b="focus"===m.type?this._onFocus:this._onBlur;for(let C=y;C;C=C.parentElement)b.call(this,m,C)},this._document=c,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(e,o=!1){const s=ci(e);if(!this._platform.isBrowser||1!==s.nodeType)return(0,Ne.of)(null);const c=zg(s)||this._getDocument(),f=this._elementInfo.get(s);if(f)return o&&(f.checkChildren=!0),f.subject;const m={checkChildren:o,subject:new je.xQ,rootNode:c};return this._elementInfo.set(s,m),this._registerGlobalListeners(m),m.subject}stopMonitoring(e){const o=ci(e),s=this._elementInfo.get(o);s&&(s.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(s))}focusVia(e,o,s){const c=ci(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([m,y])=>this._originChanged(m,o,y)):(this._setOrigin(o),"function"==typeof c.focus&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,o,s){s?e.classList.add(o):e.classList.remove(o)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,o){this._toggleClass(e,"cdk-focused",!!o),this._toggleClass(e,"cdk-touch-focused","touch"===o),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===o),this._toggleClass(e,"cdk-mouse-focused","mouse"===o),this._toggleClass(e,"cdk-program-focused","program"===o)}_setOrigin(e,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,o){const s=this._elementInfo.get(o),c=us(e);!s||!s.checkChildren&&o!==c||this._originChanged(o,this._getFocusOrigin(c),s)}_onBlur(e,o){const s=this._elementInfo.get(o);!s||s.checkChildren&&e.relatedTarget instanceof Node&&o.contains(e.relatedTarget)||(this._setClasses(o),this._emitOrigin(s.subject,null))}_emitOrigin(e,o){this._ngZone.run(()=>e.next(o))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const o=e.rootNode,s=this._rootNodeFocusListenerCount.get(o)||0;s||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,eT),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,eT)}),this._rootNodeFocusListenerCount.set(o,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(rr(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const o=e.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const s=this._rootNodeFocusListenerCount.get(o);s>1?this._rootNodeFocusListenerCount.set(o,s-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,eT),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,eT),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,o,s){this._setClasses(e,o),this._emitOrigin(s.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(e){const o=[];return this._elementInfo.forEach((s,c)=>{(c===e||s.checkChildren&&c.contains(e))&&o.push([c,s])}),o}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.R0b),d.LFG(Dt),d.LFG(iF),d.LFG(j,8),d.LFG(aF,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(d.R0b),d.LFG(Dt),d.LFG(iF),d.LFG(j,8),d.LFG(aF,8))},token:i,providedIn:"root"}),i})();const lF="cdk-high-contrast-black-on-white",uF="cdk-high-contrast-white-on-black",Rx="cdk-high-contrast-active";let cF=(()=>{class i{constructor(e,o){this._platform=e,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const o=this._document.defaultView||window,s=o&&o.getComputedStyle?o.getComputedStyle(e):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Rx),e.remove(lF),e.remove(uF),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(e.add(Rx),e.add(lF)):2===o&&(e.add(Rx),e.add(uF))}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Dt),d.LFG(j))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Dt),d.LFG(j))},token:i,providedIn:"root"}),i})();const dF=new d.GfV("12.2.0");let hF=(()=>{class i{}return i.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",i.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",i.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",i.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",i})(),fF=(()=>{class i{}return i.COMPLEX="375ms",i.ENTERING="225ms",i.EXITING="195ms",i})();const pF=new d.GfV("12.2.0"),t2=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let mh,Tt=(()=>{class i{constructor(e,o,s){this._hasDoneGlobalChecks=!1,this._document=s,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return(0,d.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const o=this._document.createElement("div");o.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(o);const s=getComputedStyle(o);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(o)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&pF.full!==dF.full&&console.warn("The Angular Material version ("+pF.full+") does not match the Angular CDK version ("+dF.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(cF),d.LFG(t2,8),d.LFG(j))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[tc],tc]}),i})();function tT(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ft(t)}}}function gh(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const o=e||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function qb(i){return class extends i{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ft(t)}}}function gF(i,t=0){return class extends i{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Lo(e):this.defaultTabIndex}}}function mF(i){return class extends i{constructor(...t){super(...t),this.stateChanges=new je.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==t&&(this.errorState=c,this.stateChanges.next())}}}try{mh="undefined"!=typeof Intl}catch(i){mh=!1}let rT=(()=>{class i{isErrorState(e,o){return!!(e&&e.invalid&&(e.touched||o&&o.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})();class p2{constructor(t,e,o){this._renderer=t,this.element=e,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const yF={enterDuration:225,exitDuration:150},Ox=Qa({passive:!0}),vF=["mousedown","touchstart"],bF=["mouseup","mouseleave","touchend","touchcancel"];class wF{constructor(t,e,o,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=ci(o))}fadeInRipple(t,e,o={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},yF),o.animation);o.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const f=o.radius||function(i,t,e){const o=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(o*o+s*s)}(t,e,s),m=t-s.left,y=e-s.top,b=c.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=m-f+"px",C.style.top=y-f+"px",C.style.height=2*f+"px",C.style.width=2*f+"px",null!=o.color&&(C.style.backgroundColor=o.color),C.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(C),function(i){window.getComputedStyle(i).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const D=new p2(this,C,o);return D.state=0,this._activeRipples.add(D),o.persistent||(this._mostRecentTransientRipple=D),this._runTimeoutOutsideZone(()=>{const T=D===this._mostRecentTransientRipple;D.state=1,!o.persistent&&(!T||!this._isPointerDown)&&D.fadeOut()},b),D}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const o=t.element,s=Object.assign(Object.assign({},yF),t.config.animation);o.style.transitionDuration=`${s.exitDuration}ms`,o.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,o.parentNode.removeChild(o)},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=ci(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(vF))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(bF),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Ax(t),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!o&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ix(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let o=0;o<e.length;o++)this.fadeInRipple(e[o].clientX,e[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Ox)})})}_removeTriggerEvents(){this._triggerElement&&(vF.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ox)}),this._pointerUpEventsRegistered&&bF.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ox)}))}}const CF=new d.OlP("mat-ripple-global-options");let _h=(()=>{class i{constructor(e,o,s,c,f){this._elementRef=e,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new wF(this,o,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,o=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,o,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Dt),d.Y36(CF,8),d.Y36(lo,8))},i.\u0275dir=d.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,o){2&e&&d.ekj("mat-ripple-unbounded",o.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),i})(),$b=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Tt,ah],Tt]}),i})();class TF extends sn.L{notifyNext(t,e,o,s,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class D2 extends sn.L{constructor(t,e,o){super(),this.parent=t,this.outerValue=e,this.outerIndex=o,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var T2=k(7444);function MF(i,t,e,o,s=new D2(i,e,o)){if(!s.closed)return t instanceof Vt.y?t.subscribe(s):(0,T2.s)(t)(s)}var M2=k(6693);const AF={};function kx(...i){let t,e;return(0,Nm.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(t=i.pop()),1===i.length&&(0,nb.k)(i[0])&&(i=i[0]),(0,M2.n)(i,e).lift(new A2(t))}class A2{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new I2(t,this.resultSelector))}}class I2 extends TF{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(AF),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(MF(this,t[o],void 0,o))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,o){const s=this.values,f=this.toRespond?s[o]===AF?--this.toRespond:this.toRespond:0;s[o]=e,0===f&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const IF=new Set;let Jg,xF=(()=>{class i{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):R2}matchMedia(e){return this._platform.WEBKIT&&function(i){if(!IF.has(i))try{Jg||(Jg=document.createElement("style"),Jg.setAttribute("type","text/css"),document.head.appendChild(Jg)),Jg.sheet&&(Jg.sheet.insertRule(`@media ${i} {.fx-query-test{ }}`,0),IF.add(i))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Dt))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Dt))},token:i,providedIn:"root"}),i})();function R2(i){return{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{}}}let Fx=(()=>{class i{constructor(e,o){this._mediaMatcher=e,this._zone=o,this._queries=new Map,this._destroySubject=new je.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return RF(Lg(e)).some(s=>this._registerQuery(s).mql.matches)}observe(e){let c=kx(RF(Lg(e)).map(f=>this._registerQuery(f).observable));return c=$o(c.pipe(dn(1)),c.pipe(Yk(1),Sx(0))),c.pipe((0,Le.U)(f=>{const m={matches:!1,breakpoints:{}};return f.forEach(({matches:y,query:b})=>{m.matches=m.matches||y,m.breakpoints[b]=y}),m}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const o=this._mediaMatcher.matchMedia(e),c={observable:new Vt.y(f=>{const m=y=>this._zone.run(()=>f.next(y));return o.addListener(m),()=>{o.removeListener(m)}}).pipe(mr(o),(0,Le.U)(({matches:f})=>({query:e,matches:f})),rr(this._destroySubject)),mql:o};return this._queries.set(e,c),c}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(xF),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(xF),d.LFG(d.R0b))},token:i,providedIn:"root"}),i})();function RF(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const yh_Medium="(min-width: 960px) and (max-width: 1279.98px)",yh_Large="(min-width: 1280px) and (max-width: 1919.98px)";function O2(i,t){}const k2=new d.OlP("MatBottomSheetData");class Nx{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const F2={bottomSheetState:Lu("state",[Oo("void, hidden",On({transform:"translateY(100%)"})),Oo("visible",On({transform:"translateY(0%)"})),ko("visible => void, visible => hidden",oo(`${fF.COMPLEX} ${hF.ACCELERATION_CURVE}`)),ko("void => visible",oo(`${fF.EXITING} ${hF.DECELERATION_CURVE}`))])};let N2=(()=>{class i extends Wg{constructor(e,o,s,c,f,m){super(),this._elementRef=e,this._changeDetectorRef=o,this._focusTrapFactory=s,this.bottomSheetConfig=m,this._animationState="void",this._animationStateChanged=new d.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=y=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(y)),this._document=f,this._breakpointSubscription=c.observe([yh_Medium,yh_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",c.isMatched(yh_Medium)),this._toggleClass("mat-bottom-sheet-container-large",c.isMatched(yh_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",c.isMatched("(min-width: 1920px)"))})}attachComponentPortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(e){"hidden"===e.toState?this._restoreFocus():"visible"===e.toState&&this._trapFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_toggleClass(e,o){const s=this._elementRef.nativeElement.classList;o?s.add(e):s.remove(e)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){const e=this._elementRef.nativeElement,o=this.bottomSheetConfig.panelClass;Array.isArray(o)?o.forEach(s=>e.classList.add(s)):o&&e.classList.add(o)}_trapFocus(){const e=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(e)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const o=Ks();o!==e&&!e.contains(o)&&e.focus()}}_restoreFocus(){const e=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&e&&"function"==typeof e.focus){const o=Ks(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&e.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=Ks(),this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Mx),d.Y36(Fx),d.Y36(j,8),d.Y36(Nx))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(e,o){if(1&e&&d.Gf(el,7),2&e){let s;d.iGM(s=d.CRH())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(e,o){1&e&&d.WFA("@state.start",function(c){return o._onAnimationStart(c)})("@state.done",function(c){return o._onAnimationDone(c)}),2&e&&(d.uIk("aria-label",null==o.bottomSheetConfig?null:o.bottomSheetConfig.ariaLabel),d.d8E("@state",o._animationState))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,o){1&e&&d.YNc(0,O2,0,0,"ng-template",0)},directives:[el],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[F2.bottomSheetState]}}),i})(),Px=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[XD,Tt,jb],Tt]}),i})();class Lx{constructor(t,e){this._overlayRef=e,this._afterDismissed=new je.xQ,this._afterOpened=new je.xQ,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(Ft(o=>"done"===o.phaseName&&"visible"===o.toState),dn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Ft(o=>"done"===o.phaseName&&"hidden"===o.toState),dn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe(dn(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,si.T)(e.backdropClick(),e.keydownEvents().pipe(Ft(o=>27===o.keyCode))).subscribe(o=>{!this.disableClose&&("keydown"!==o.type||!sc(o))&&(o.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Ft(e=>"start"===e.phaseName),dn(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const OF=new d.OlP("mat-bottom-sheet-default-options");let P2=(()=>{class i{constructor(e,o,s,c){this._overlay=e,this._injector=o,this._parentBottomSheet=s,this._defaultOptions=c,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}open(e,o){const s=function(i,t){return Object.assign(Object.assign({},i),t)}(this._defaultOptions||new Nx,o),c=this._createOverlay(s),f=this._attachContainer(c,s),m=new Lx(f,c);if(e instanceof d.Rgc)f.attachTemplatePortal(new Js(e,null,{$implicit:s.data,bottomSheetRef:m}));else{const y=new Xa(e,void 0,this._createInjector(s,m)),b=f.attachComponentPortal(y);m.instance=b.instance}return m.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==m&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>m.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):m.containerInstance.enter(),this._openedBottomSheetRef=m,m}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(e,o){const c=d.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:Nx,useValue:o}]}),f=new Xa(N2,o.viewContainerRef,c);return e.attach(f).instance}_createOverlay(e){const o=new Kg({direction:e.direction,hasBackdrop:e.hasBackdrop,disposeOnNavigation:e.closeOnNavigation,maxWidth:"100%",scrollStrategy:e.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return e.backdropClass&&(o.backdropClass=e.backdropClass),this._overlay.create(o)}_createInjector(e,o){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=[{provide:Lx,useValue:o},{provide:k2,useValue:e.data}];return e.direction&&(!s||!s.get(Bi,null,d.XFs.Optional))&&c.push({provide:Bi,useValue:{value:e.direction,change:(0,Ne.of)()}}),d.zs3.create({parent:s||this._injector,providers:c})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Vo),d.LFG(d.zs3),d.LFG(i,12),d.LFG(OF,8))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Vo),d.LFG(d.gxx),d.LFG(i,12),d.LFG(OF,8))},token:i,providedIn:Px}),i})();const kF=["mat-button",""],FF=["*"],B2=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],U2=gh(tT(qb(class{constructor(i){this._elementRef=i}})));let tl=(()=>{class i extends U2{constructor(e,o,s){super(e),this._focusMonitor=o,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of B2)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,o){e?this._focusMonitor.focusVia(this._getHostElement(),e,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(lc),d.Y36(lo,8))},i.\u0275cmp=d.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,o){if(1&e&&d.Gf(_h,5),2&e){let s;d.iGM(s=d.CRH())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,o){2&e&&(d.uIk("disabled",o.disabled||null),d.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[d.qOj],attrs:kF,ngContentSelectors:FF,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,o){1&e&&(d.F$t(),d.TgZ(0,"span",0),d.Hsn(1),d.qZA(),d._UZ(2,"span",1),d._UZ(3,"span",2)),2&e&&(d.xp6(2),d.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),d.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[_h],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),Vx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[$b,Tt],Tt]}),i})();const j2=["button"],H2=["*"],PF=new d.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),LF=new d.OlP("MatButtonToggleGroup"),G2={provide:uo,useExisting:(0,d.Gpc)(()=>UF),multi:!0};let VF=0;class BF{constructor(t,e){this.source=t,this.value=e}}let UF=(()=>{class i{constructor(e,o){this._changeDetector=e,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name="mat-button-toggle-group-"+VF++,this.valueChange=new d.vpe,this.change=new d.vpe,this.appearance=o&&o.appearance?o.appearance:"standard"}get name(){return this._name}set name(e){this._name=e,this._buttonToggles&&this._buttonToggles.forEach(o=>{o.name=this._name,o._markForCheck()})}get vertical(){return this._vertical}set vertical(e){this._vertical=ft(e)}get value(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(o=>o.value):e[0]?e[0].value:void 0}set value(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}get selected(){const e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}get multiple(){return this._multiple}set multiple(e){this._multiple=ft(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=ft(e),this._buttonToggles&&this._buttonToggles.forEach(o=>o._markForCheck())}ngOnInit(){this._selectionModel=new $g(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(e=>e.checked))}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_emitChangeEvent(){const e=this.selected,o=Array.isArray(e)?e[e.length-1]:e,s=new BF(o,this.value);this._controlValueAccessorChangeFn(s.value),this.change.emit(s)}_syncButtonToggle(e,o,s=!1,c=!1){!this.multiple&&this.selected&&!e.checked&&(this.selected.checked=!1),this._selectionModel?o?this._selectionModel.select(e):this._selectionModel.deselect(e):c=!0,c?Promise.resolve().then(()=>this._updateModelValue(s)):this._updateModelValue(s)}_isSelected(e){return this._selectionModel&&this._selectionModel.isSelected(e)}_isPrechecked(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(o=>null!=e.value&&o===e.value):e.value===this._rawValue)}_setSelectionByValue(e){this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(o=>this._selectValue(o))):(this._clearSelection(),this._selectValue(e)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(e=>e.checked=!1)}_selectValue(e){const o=this._buttonToggles.find(s=>null!=s.value&&s.value===e);o&&(o.checked=!0,this._selectionModel.select(o))}_updateModelValue(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.sBO),d.Y36(PF,8))},i.\u0275dir=d.lG2({type:i,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,o,s){if(1&e&&d.Suo(s,jF,5),2&e){let c;d.iGM(c=d.CRH())&&(o._buttonToggles=c)}},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,o){2&e&&(d.uIk("aria-disabled",o.disabled),d.ekj("mat-button-toggle-vertical",o.vertical)("mat-button-toggle-group-appearance-standard","standard"===o.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[d._Bn([G2,{provide:LF,useExisting:i}])]}),i})();const q2=qb(class{});let jF=(()=>{class i extends q2{constructor(e,o,s,c,f,m){super(),this._changeDetectorRef=o,this._elementRef=s,this._focusMonitor=c,this._isSingleSelector=!1,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new d.vpe;const y=Number(f);this.tabIndex=y||0===y?y:null,this.buttonToggleGroup=e,this.appearance=m&&m.appearance?m.appearance:"standard"}get buttonId(){return`${this.id}-button`}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(e){this._appearance=e}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(e){const o=ft(e);o!==this._checked&&(this._checked=o,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(e){this._disabled=ft(e)}ngOnInit(){const e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+VF++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){const e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}focus(e){this._buttonElement.nativeElement.focus(e)}_onButtonClick(){const e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new BF(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(LF,8),d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(lc),d.$8M("tabindex"),d.Y36(PF,8))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-button-toggle"]],viewQuery:function(e,o){if(1&e&&d.Gf(j2,5),2&e){let s;d.iGM(s=d.CRH())&&(o._buttonElement=s.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,o){1&e&&d.NdJ("focus",function(){return o.focus()}),2&e&&(d.uIk("aria-label",null)("aria-labelledby",null)("id",o.id)("name",null),d.ekj("mat-button-toggle-standalone",!o.buttonToggleGroup)("mat-button-toggle-checked",o.checked)("mat-button-toggle-disabled",o.disabled)("mat-button-toggle-appearance-standard","standard"===o.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[d.qOj],ngContentSelectors:H2,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,o){if(1&e&&(d.F$t(),d.TgZ(0,"button",0,1),d.NdJ("click",function(){return o._onButtonClick()}),d.TgZ(2,"span",2),d.Hsn(3),d.qZA(),d.qZA(),d._UZ(4,"span",3),d._UZ(5,"span",4)),2&e){const s=d.MAs(1);d.Q6J("id",o.buttonId)("disabled",o.disabled||null),d.uIk("tabindex",o.disabled?-1:o.tabIndex)("aria-pressed",o.checked)("name",o.name||null)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby),d.xp6(5),d.Q6J("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)}},directives:[_h],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),i})(),HF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Tt,$b],Tt]}),i})();const z2=["*",[["mat-card-footer"]]],$2=["*","mat-card-footer"];let Q2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),J2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),X2=(()=>{class i{constructor(){this.align="start"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,o){2&e&&d.ekj("mat-card-actions-align-end","end"===o.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),i})(),eB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),i})(),tB=(()=>{class i{constructor(e){this._animationMode=e}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(lo,8))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,o){2&e&&d.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)},exportAs:["matCard"],ngContentSelectors:$2,decls:2,vars:0,template:function(e,o){1&e&&(d.F$t(z2),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),GF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Tt],Tt]}),i})();const nB=["underline"],rB=["connectionContainer"],iB=["inputContainer"],oB=["label"];function sB(i,t){1&i&&(d.ynx(0),d.TgZ(1,"div",14),d._UZ(2,"div",15),d._UZ(3,"div",16),d._UZ(4,"div",17),d.qZA(),d.TgZ(5,"div",18),d._UZ(6,"div",15),d._UZ(7,"div",16),d._UZ(8,"div",17),d.qZA(),d.BQk())}function aB(i,t){1&i&&(d.TgZ(0,"div",19),d.Hsn(1,1),d.qZA())}function lB(i,t){if(1&i&&(d.ynx(0),d.Hsn(1,2),d.TgZ(2,"span"),d._uU(3),d.qZA(),d.BQk()),2&i){const e=d.oxw(2);d.xp6(3),d.Oqu(e._control.placeholder)}}function uB(i,t){1&i&&d.Hsn(0,3,["*ngSwitchCase","true"])}function cB(i,t){1&i&&(d.TgZ(0,"span",23),d._uU(1," *"),d.qZA())}function dB(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"label",20,21),d.NdJ("cdkObserveContent",function(){return d.CHM(e),d.oxw().updateOutlineGap()}),d.YNc(2,lB,4,1,"ng-container",12),d.YNc(3,uB,1,0,"ng-content",12),d.YNc(4,cB,2,0,"span",22),d.qZA()}if(2&i){const e=d.oxw();d.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),d.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),d.uIk("for",e._control.id)("aria-owns",e._control.id),d.xp6(2),d.Q6J("ngSwitchCase",!1),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function hB(i,t){1&i&&(d.TgZ(0,"div",24),d.Hsn(1,4),d.qZA())}function fB(i,t){if(1&i&&(d.TgZ(0,"div",25,26),d._UZ(2,"span",27),d.qZA()),2&i){const e=d.oxw();d.xp6(2),d.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function pB(i,t){if(1&i&&(d.TgZ(0,"div"),d.Hsn(1,5),d.qZA()),2&i){const e=d.oxw();d.Q6J("@transitionMessages",e._subscriptAnimationState)}}function gB(i,t){if(1&i&&(d.TgZ(0,"div",31),d._uU(1),d.qZA()),2&i){const e=d.oxw(2);d.Q6J("id",e._hintLabelId),d.xp6(1),d.Oqu(e.hintLabel)}}function mB(i,t){if(1&i&&(d.TgZ(0,"div",28),d.YNc(1,gB,2,2,"div",29),d.Hsn(2,6),d._UZ(3,"div",30),d.Hsn(4,7),d.qZA()),2&i){const e=d.oxw();d.Q6J("@transitionMessages",e._subscriptAnimationState),d.xp6(1),d.Q6J("ngIf",e.hintLabel)}}const _B=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yB=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let vB=0;const qF=new d.OlP("MatError");let zF=(()=>{class i{constructor(e,o){this.id="mat-error-"+vB++,e||o.nativeElement.setAttribute("aria-live","polite")}}return i.\u0275fac=function(e){return new(e||i)(d.$8M("aria-live"),d.Y36(d.SBq))},i.\u0275dir=d.lG2({type:i,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,o){2&e&&d.uIk("id",o.id)},inputs:{id:"id"},features:[d._Bn([{provide:qF,useExisting:i}])]}),i})();const bB={transitionMessages:Lu("transitionMessages",[Oo("enter",On({opacity:1,transform:"translateY(0%)"})),ko("void => enter",[On({opacity:0,transform:"translateY(-5px)"}),oo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let iT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i}),i})();const $F=new d.OlP("MatHint");let uc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["mat-label"]]}),i})(),CB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const YF=new d.OlP("MatPrefix"),WF=new d.OlP("MatSuffix");let Bx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","matSuffix",""]],features:[d._Bn([{provide:WF,useExisting:i}])]}),i})(),ZF=0;const SB=gh(class{constructor(i){this._elementRef=i}},"primary"),QF=new d.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),JF=new d.OlP("MatFormField");let Yb=(()=>{class i extends SB{constructor(e,o,s,c,f,m,y,b){super(e),this._changeDetectorRef=o,this._dir=c,this._defaults=f,this._platform=m,this._ngZone=y,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new je.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ZF++,this._labelId="mat-form-field-label-"+ZF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==b,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const o=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&o!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ft(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(mr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(rr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(rr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,si.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(mr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(mr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(rr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const o=this._control?this._control.ngControl:null;return o&&o[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Vg(this._label.nativeElement,"transitionend").pipe(dn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const o=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,s=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,s=0;const c=this._connectionContainerRef.nativeElement,f=c.querySelectorAll(".mat-form-field-outline-start"),m=c.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const y=c.getBoundingClientRect();if(0===y.width&&0===y.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const b=this._getStartEnd(y),C=e.children,D=this._getStartEnd(C[0].getBoundingClientRect());let T=0;for(let A=0;A<C.length;A++)T+=C[A].offsetWidth;o=Math.abs(D-b)-5,s=T>0?.75*T+10:0}for(let y=0;y<f.length;y++)f[y].style.width=`${o}px`;for(let y=0;y<m.length;y++)m[y].style.width=`${s}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const o=e.getRootNode();return o&&o!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(d.SBq),d.Y36(Bi,8),d.Y36(QF,8),d.Y36(Dt),d.Y36(d.R0b),d.Y36(lo,8))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,o,s){if(1&e&&(d.Suo(s,iT,5),d.Suo(s,iT,7),d.Suo(s,uc,5),d.Suo(s,uc,7),d.Suo(s,CB,5),d.Suo(s,qF,5),d.Suo(s,$F,5),d.Suo(s,YF,5),d.Suo(s,WF,5)),2&e){let c;d.iGM(c=d.CRH())&&(o._controlNonStatic=c.first),d.iGM(c=d.CRH())&&(o._controlStatic=c.first),d.iGM(c=d.CRH())&&(o._labelChildNonStatic=c.first),d.iGM(c=d.CRH())&&(o._labelChildStatic=c.first),d.iGM(c=d.CRH())&&(o._placeholderChild=c.first),d.iGM(c=d.CRH())&&(o._errorChildren=c),d.iGM(c=d.CRH())&&(o._hintChildren=c),d.iGM(c=d.CRH())&&(o._prefixChildren=c),d.iGM(c=d.CRH())&&(o._suffixChildren=c)}},viewQuery:function(e,o){if(1&e&&(d.Gf(nB,5),d.Gf(rB,7),d.Gf(iB,5),d.Gf(oB,5)),2&e){let s;d.iGM(s=d.CRH())&&(o.underlineRef=s.first),d.iGM(s=d.CRH())&&(o._connectionContainerRef=s.first),d.iGM(s=d.CRH())&&(o._inputContainerRef=s.first),d.iGM(s=d.CRH())&&(o._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,o){2&e&&d.ekj("mat-form-field-appearance-standard","standard"==o.appearance)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-appearance-legacy","legacy"==o.appearance)("mat-form-field-invalid",o._control.errorState)("mat-form-field-can-float",o._canLabelFloat())("mat-form-field-should-float",o._shouldLabelFloat())("mat-form-field-has-label",o._hasFloatingLabel())("mat-form-field-hide-placeholder",o._hideControlPlaceholder())("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-focused",o._control.focused)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))("_mat-animation-noopable",!o._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[d._Bn([{provide:JF,useExisting:i}]),d.qOj],ngContentSelectors:yB,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,o){1&e&&(d.F$t(_B),d.TgZ(0,"div",0),d.TgZ(1,"div",1,2),d.NdJ("click",function(c){return o._control.onContainerClick&&o._control.onContainerClick(c)}),d.YNc(3,sB,9,0,"ng-container",3),d.YNc(4,aB,2,0,"div",4),d.TgZ(5,"div",5,6),d.Hsn(7),d.TgZ(8,"span",7),d.YNc(9,dB,5,16,"label",8),d.qZA(),d.qZA(),d.YNc(10,hB,2,0,"div",9),d.qZA(),d.YNc(11,fB,3,4,"div",10),d.TgZ(12,"div",11),d.YNc(13,pB,2,1,"div",12),d.YNc(14,mB,5,2,"div",13),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngIf","outline"==o.appearance),d.xp6(1),d.Q6J("ngIf",o._prefixChildren.length),d.xp6(5),d.Q6J("ngIf",o._hasFloatingLabel()),d.xp6(1),d.Q6J("ngIf",o._suffixChildren.length),d.xp6(1),d.Q6J("ngIf","outline"!=o.appearance),d.xp6(1),d.Q6J("ngSwitch",o._getDisplayedMessages()),d.xp6(1),d.Q6J("ngSwitchCase","error"),d.xp6(1),d.Q6J("ngSwitchCase","hint"))},directives:[Kr,_i,jn,Zk],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[bB.transitionMessages]},changeDetection:0}),i})(),XF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[mo,Tt,Tx],Tt]}),i})();const DB=["*"],eN=new d.OlP("MatChipRemove"),tN=new d.OlP("MatChipAvatar"),nN=new d.OlP("MatChipTrailingIcon");class TB{constructor(t){this._elementRef=t}}const MB=gF(gh(qb(TB),"primary"),-1);let oT=(()=>{class i extends MB{constructor(e,o,s,c,f,m,y,b){super(e),this._ngZone=o,this._changeDetectorRef=f,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new je.xQ,this._onBlur=new je.xQ,this.selectionChange=new d.vpe,this.destroyed=new d.vpe,this.removed=new d.vpe,this._addHostClassName(),this._chipRippleTarget=m.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new wF(this,o,this._chipRippleTarget,s),this._chipRipple.setupTriggerEvents(e),this.rippleConfig=c||{},this._animationsDisabled="NoopAnimations"===y,this.tabIndex=null!=b&&parseInt(b)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(e){const o=ft(e);o!==this._selected&&(this._selected=o,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(e){this._value=e}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=ft(e)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(e){this._disabled=ft(e)}get removable(){return this._removable}set removable(e){this._removable=ft(e)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const e="mat-basic-chip",o=this._elementRef.nativeElement;o.hasAttribute(e)||o.tagName.toLowerCase()===e?o.classList.add(e):o.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(e=!1){return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(e){this.disabled?e.preventDefault():e.stopPropagation()}_handleKeydown(e){if(!this.disabled)switch(e.keyCode){case 46:case 8:this.remove(),e.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}_blur(){this._ngZone.onStable.pipe(dn(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(e=!1){this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Dt),d.Y36(CF,8),d.Y36(d.sBO),d.Y36(j),d.Y36(lo,8),d.$8M("tabindex"))},i.\u0275dir=d.lG2({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,o,s){if(1&e&&(d.Suo(s,tN,5),d.Suo(s,nN,5),d.Suo(s,eN,5)),2&e){let c;d.iGM(c=d.CRH())&&(o.avatar=c.first),d.iGM(c=d.CRH())&&(o.trailingIcon=c.first),d.iGM(c=d.CRH())&&(o.removeIcon=c.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,o){1&e&&d.NdJ("click",function(c){return o._handleClick(c)})("keydown",function(c){return o._handleKeydown(c)})("focus",function(){return o.focus()})("blur",function(){return o._blur()}),2&e&&(d.uIk("tabindex",o.disabled?null:o.tabIndex)("disabled",o.disabled||null)("aria-disabled",o.disabled.toString())("aria-selected",o.ariaSelected),d.ekj("mat-chip-selected",o.selected)("mat-chip-with-avatar",o.avatar)("mat-chip-with-trailing-icon",o.trailingIcon||o.removeIcon)("mat-chip-disabled",o.disabled)("_mat-animation-noopable",o._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[d.qOj]}),i})();const rN=new d.OlP("mat-chips-default-options"),RB=mF(class{constructor(i,t,e,o){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=o}});let OB=0;class kB{constructor(t,e){this.source=t,this.value=e}}let iN=(()=>{class i extends RB{constructor(e,o,s,c,f,m,y){super(m,c,f,y),this._elementRef=e,this._changeDetectorRef=o,this._dir=s,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new je.xQ,this._uid="mat-chip-list-"+OB++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(b,C)=>b===C,this._required=!1,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new d.vpe,this.valueChange=new d.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(e){this._multiple=ft(e),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){return this._required}set required(e){this._required=ft(e),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ft(e),this._syncChipsState()}get selectable(){return this._selectable}set selectable(e){this._selectable=ft(e),this.chips&&this.chips.forEach(o=>o.chipListSelectable=this._selectable)}set tabIndex(e){this._userTabIndex=e,this._tabIndex=e}get chipSelectionChanges(){return(0,si.T)(...this.chips.map(e=>e.selectionChange))}get chipFocusChanges(){return(0,si.T)(...this.chips.map(e=>e._onFocus))}get chipBlurChanges(){return(0,si.T)(...this.chips.map(e=>e._onBlur))}get chipRemoveChanges(){return(0,si.T)(...this.chips.map(e=>e.destroyed))}ngAfterContentInit(){this._keyManager=new Jk(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(rr(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.tabOut.pipe(rr(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(mr(null),rr(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new $g(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}writeValue(e){this.chips&&this._setSelectionByValue(e,!1)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}onContainerClick(e){this._originatesFromChip(e)||this.focus()}focus(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}_focusInput(e){this._chipInput&&this._chipInput.focus(e)}_keydown(e){const o=e.target;o&&o.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(e){return e>=0&&e<this.chips.length}_setSelectionByValue(e,o=!0){if(this._clearSelection(),this.chips.forEach(s=>s.deselect()),Array.isArray(e))e.forEach(s=>this._selectValue(s,o)),this._sortValues();else{const s=this._selectValue(e,o);s&&o&&this._keyManager.setActiveItem(s)}}_selectValue(e,o=!0){const s=this.chips.find(c=>null!=c.value&&this._compareWith(c.value,e));return s&&(o?s.selectViaInteraction():s.select(),this._selectionModel.select(s)),s}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(e){this._selectionModel.clear(),this.chips.forEach(o=>{o!==e&&o.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(e=>{e.selected&&this._selectionModel.select(e)}),this.stateChanges.next())}_propagateChanges(e){let o=null;o=Array.isArray(this.selected)?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=o,this.change.emit(new kB(this,o)),this.valueChange.emit(o),this._onChange(o),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(e=>{e.source.selected?this._selectionModel.select(e.source):this._selectionModel.deselect(e.source),this.multiple||this.chips.forEach(o=>{!this._selectionModel.isSelected(o)&&o.selected&&o.deselect()}),e.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(e=>{let o=this.chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&this._keyManager.updateActiveItem(o),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(e=>{const o=e.chip,s=this.chips.toArray().indexOf(e.chip);this._isValidIndex(s)&&o._hasFocus&&(this._lastDestroyedChipIndex=s)})}_originatesFromChip(e){let o=e.target;for(;o&&o!==this._elementRef.nativeElement;){if(o.classList.contains("mat-chip"))return!0;o=o.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(e=>e._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(e=>{e._chipListDisabled=this._disabled,e._chipListMultiple=this.multiple})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Bi,8),d.Y36(sh,8),d.Y36(Ws,8),d.Y36(rT),d.Y36(ls,10))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-chip-list"]],contentQueries:function(e,o,s){if(1&e&&d.Suo(s,oT,5),2&e){let c;d.iGM(c=d.CRH())&&(o.chips=c)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,o){1&e&&d.NdJ("focus",function(){return o.focus()})("blur",function(){return o._blur()})("keydown",function(c){return o._keydown(c)}),2&e&&(d.Ikx("id",o._uid),d.uIk("tabindex",o.disabled?null:o._tabIndex)("aria-describedby",o._ariaDescribedby||null)("aria-required",o.role?o.required:null)("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-multiselectable",o.multiple)("role",o.role)("aria-orientation",o.ariaOrientation),d.ekj("mat-chip-list-disabled",o.disabled)("mat-chip-list-invalid",o.errorState)("mat-chip-list-required",o.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[d._Bn([{provide:iT,useExisting:i}]),d.qOj],ngContentSelectors:DB,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,o){1&e&&(d.F$t(),d.TgZ(0,"div",0),d.Hsn(1),d.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),i})();const PB={separatorKeyCodes:[13]};let oN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[rT,{provide:rN,useValue:PB}],imports:[[Tt]]}),i})();function Ux(i){return new Vt.y(t=>{let e;try{e=i()}catch(s){return void t.error(s)}return(e?(0,Jt.D)(e):(0,Ro.c)()).subscribe(t)})}function LB(i,t){}class jx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const VB={dialogContainer:Lu("dialogContainer",[Oo("void, exit",On({opacity:0,transform:"scale(0.7)"})),Oo("enter",On({transform:"none"})),ko("* => enter",oo("150ms cubic-bezier(0, 0, 0.2, 1)",On({transform:"none",opacity:1}))),ko("* => void, * => exit",oo("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",On({opacity:0})))])};let BB=(()=>{class i extends Wg{constructor(e,o,s,c,f,m){super(),this._elementRef=e,this._focusTrapFactory=o,this._changeDetectorRef=s,this._config=f,this._focusMonitor=m,this._animationStateChanged=new d.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=y=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(y)),this._ariaLabelledBy=f.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const o=Ks(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Ks())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,o=Ks();return e===o||e.contains(o)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(Mx),d.Y36(d.sBO),d.Y36(j,8),d.Y36(jx),d.Y36(lc))},i.\u0275dir=d.lG2({type:i,viewQuery:function(e,o){if(1&e&&d.Gf(el,7),2&e){let s;d.iGM(s=d.CRH())&&(o._portalOutlet=s.first)}},features:[d.qOj]}),i})(),UB=(()=>{class i extends BB{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:o}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:o})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:o}))}_onAnimationStart({toState:e,totalTime:o}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(i)))(o||i)}}(),i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,o){1&e&&d.WFA("@dialogContainer.start",function(c){return o._onAnimationStart(c)})("@dialogContainer.done",function(c){return o._onAnimationDone(c)}),2&e&&(d.Ikx("id",o._id),d.uIk("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),d.d8E("@dialogContainer",o._state))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,o){1&e&&d.YNc(0,LB,0,0,"ng-template",0)},directives:[el],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[VB.dialogContainer]}}),i})(),jB=0;class Wb{constructor(t,e,o="mat-dialog-"+jB++){this._overlayRef=t,this._containerInstance=e,this.id=o,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new je.xQ,this._afterClosed=new je.xQ,this._beforeClosed=new je.xQ,this._state=0,e._id=o,e._animationStateChanged.pipe(Ft(s=>"opened"===s.state),dn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ft(s=>"closed"===s.state),dn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Ft(s=>27===s.keyCode&&!this.disableClose&&!sc(s))).subscribe(s=>{s.preventDefault(),Hx(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Hx(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ft(e=>"closing"===e.state),dn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Hx(i,t,e){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=t),i.close(e)}const Gx=new d.OlP("MatDialogData"),HB=new d.OlP("mat-dialog-default-options"),sN=new d.OlP("mat-dialog-scroll-strategy"),qB={provide:sN,deps:[Vo],useFactory:function(i){return()=>i.scrollStrategies.block()}};let zB=(()=>{class i{constructor(e,o,s,c,f,m,y,b,C){this._overlay=e,this._injector=o,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=f,this._dialogRefConstructor=y,this._dialogContainerType=b,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new je.xQ,this._afterOpenedAtThisLevel=new je.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Ux(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(mr(void 0))),this._scrollStrategy=m}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,o){(o=function(i,t){return Object.assign(Object.assign({},t),i)}(o,this._defaultOptions||new jx)).id&&this.getDialogById(o.id);const s=this._createOverlay(o),c=this._attachDialogContainer(s,o),f=this._attachDialogContent(e,c,s,o);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.afterClosed().subscribe(()=>this._removeOpenDialog(f)),this.afterOpened.next(f),c._initializeWithAttachedContent(),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(o=>o.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const o=this._getOverlayConfig(e);return this._overlay.create(o)}_getOverlayConfig(e){const o=new Kg({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(o.backdropClass=e.backdropClass),o}_attachDialogContainer(e,o){const c=d.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:jx,useValue:o}]}),f=new Xa(this._dialogContainerType,o.viewContainerRef,c,o.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,o,s,c){const f=new this._dialogRefConstructor(s,o,c.id);if(e instanceof d.Rgc)o.attachTemplatePortal(new Js(e,null,{$implicit:c.data,dialogRef:f}));else{const m=this._createInjector(c,f,o),y=o.attachComponentPortal(new Xa(e,c.viewContainerRef,m));f.componentInstance=y.instance}return f.updateSize(c.width,c.height).updatePosition(c.position),f}_createInjector(e,o,s){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,f=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:o}];return e.direction&&(!c||!c.get(Bi,null,d.XFs.Optional))&&f.push({provide:Bi,useValue:{value:e.direction,change:(0,Ne.of)()}}),d.zs3.create({parent:c||this._injector,providers:f})}_removeOpenDialog(e){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const o=e.parentElement.children;for(let s=o.length-1;s>-1;s--){let c=o[s];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let o=e.length;for(;o--;)e[o].close()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Vo),d.Y36(d.zs3),d.Y36(void 0),d.Y36(void 0),d.Y36(Gb),d.Y36(void 0),d.Y36(d.DyG),d.Y36(d.DyG),d.Y36(d.OlP))},i.\u0275dir=d.lG2({type:i}),i})(),Xg=(()=>{class i extends zB{constructor(e,o,s,c,f,m,y){super(e,o,c,m,y,f,Wb,UB,Gx)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Vo),d.LFG(d.zs3),d.LFG(ut,8),d.LFG(HB,8),d.LFG(sN),d.LFG(i,12),d.LFG(Gb))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),qx=(()=>{class i{constructor(e,o,s){this.dialogRef=e,this._elementRef=o,this._dialog=s,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(i,t){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(o=>o.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const o=e._matDialogClose||e._matDialogCloseResult;o&&(this.dialogResult=o.currentValue)}_onButtonClick(e){Hx(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Wb,8),d.Y36(d.SBq),d.Y36(Xg))},i.\u0275dir=d.lG2({type:i,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,o){1&e&&d.NdJ("click",function(c){return o._onButtonClick(c)}),2&e&&d.uIk("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[d.TTD]}),i})(),zx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),i})();let lN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[Xg,qB],imports:[[XD,jb,Tt],Tt]}),i})(),uN=(()=>{class i{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=ft(e)}get inset(){return this._inset}set inset(e){this._inset=ft(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,o){2&e&&(d.uIk("aria-orientation",o.vertical?"vertical":"horizontal"),d.ekj("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,o){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),i})(),cN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Tt],Tt]}),i})();var WB=k(205);function nl(i){return function(e){const o=new ZB(i),s=e.lift(o);return o.caught=s}}class ZB{constructor(t){this.selector=t}call(t,e){return e.subscribe(new KB(t,this.selector,this.caught))}}class KB extends kr.Ds{constructor(t,e,o){super(t),this.selector=e,this.caught=o}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const o=new kr.IY(this);this.add(o);const s=(0,kr.ft)(e,o);s!==o&&this.add(s)}}}function dN(i){return t=>t.lift(new QB(i))}class QB{constructor(t){this.callback=t}call(t,e){return e.subscribe(new JB(t,this.callback))}}class JB extends sn.L{constructor(t,e){super(t),this.add(new ur.w(e))}}var XB=k(8819);const eU=["*"];function hN(i){return Error(`Unable to find icon with the name "${i}"`)}function fN(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function pN(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class vh{constructor(t,e,o){this.url=t,this.svgText=e,this.options=o}}let sT=(()=>{class i{constructor(e,o,s,c){this._httpClient=e,this._sanitizer=o,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,o,s){return this.addSvgIconInNamespace("",e,o,s)}addSvgIconLiteral(e,o,s){return this.addSvgIconLiteralInNamespace("",e,o,s)}addSvgIconInNamespace(e,o,s,c){return this._addSvgIconConfig(e,o,new vh(s,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,o,s,c){const f=this._sanitizer.sanitize(d.q3G.HTML,s);if(!f)throw pN(s);return this._addSvgIconConfig(e,o,new vh("",f,c))}addSvgIconSet(e,o){return this.addSvgIconSetInNamespace("",e,o)}addSvgIconSetLiteral(e,o){return this.addSvgIconSetLiteralInNamespace("",e,o)}addSvgIconSetInNamespace(e,o,s){return this._addSvgIconSetConfig(e,new vh(o,null,s))}addSvgIconSetLiteralInNamespace(e,o,s){const c=this._sanitizer.sanitize(d.q3G.HTML,o);if(!c)throw pN(o);return this._addSvgIconSetConfig(e,new vh("",c,s))}registerFontClassAlias(e,o=e){return this._fontCssClassesByAlias.set(e,o),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const o=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,e);if(!o)throw fN(e);const s=this._cachedIconsByUrl.get(o);return s?(0,Ne.of)(aT(s)):this._loadSvgIconFromConfig(new vh(e,null)).pipe((0,ir.b)(c=>this._cachedIconsByUrl.set(o,c)),(0,Le.U)(c=>aT(c)))}getNamedSvgIcon(e,o=""){const s=gN(o,e);let c=this._svgIconConfigs.get(s);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(o,e),c)return this._svgIconConfigs.set(s,c),this._getSvgFromConfig(c);const f=this._iconSetConfigs.get(o);return f?this._getSvgFromIconSetConfigs(e,f):(0,WB._)(hN(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Ne.of)(aT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Le.U)(o=>aT(o)))}_getSvgFromIconSetConfigs(e,o){const s=this._extractIconWithNameFromAnySet(e,o);return s?(0,Ne.of)(s):rD(o.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(nl(m=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(d.q3G.RESOURCE_URL,f.url)} failed: ${m.message}`;return this._errorHandler.handleError(new Error(b)),(0,Ne.of)(null)})))).pipe((0,Le.U)(()=>{const f=this._extractIconWithNameFromAnySet(e,o);if(!f)throw hN(e);return f}))}_extractIconWithNameFromAnySet(e,o){for(let s=o.length-1;s>=0;s--){const c=o[s];if(c.svgText&&c.svgText.indexOf(e)>-1){const f=this._svgElementFromConfig(c),m=this._extractSvgIconFromSet(f,e,c.options);if(m)return m}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ir.b)(o=>e.svgText=o),(0,Le.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Ne.of)(null):this._fetchIcon(e).pipe((0,ir.b)(o=>e.svgText=o))}_extractSvgIconFromSet(e,o,s){const c=e.querySelector(`[id="${o}"]`);if(!c)return null;const f=c.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,s);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),s);const m=this._svgElementFromString("<svg></svg>");return m.appendChild(f),this._setSvgAttributes(m,s)}_svgElementFromString(e){const o=this._document.createElement("DIV");o.innerHTML=e;const s=o.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const o=this._svgElementFromString("<svg></svg>"),s=e.attributes;for(let c=0;c<s.length;c++){const{name:f,value:m}=s[c];"id"!==f&&o.setAttribute(f,m)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&o.appendChild(e.childNodes[c].cloneNode(!0));return o}_setSvgAttributes(e,o){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),o&&o.viewBox&&e.setAttribute("viewBox",o.viewBox),e}_fetchIcon(e){var o;const{url:s,options:c}=e,f=null!==(o=null==c?void 0:c.withCredentials)&&void 0!==o&&o;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const m=this._sanitizer.sanitize(d.q3G.RESOURCE_URL,s);if(!m)throw fN(s);const y=this._inProgressUrlFetches.get(m);if(y)return y;const b=this._httpClient.get(m,{responseType:"text",withCredentials:f}).pipe(dN(()=>this._inProgressUrlFetches.delete(m)),(0,XB.B)());return this._inProgressUrlFetches.set(m,b),b}_addSvgIconConfig(e,o,s){return this._svgIconConfigs.set(gN(e,o),s),this}_addSvgIconSetConfig(e,o){const s=this._iconSetConfigs.get(e);return s?s.push(o):this._iconSetConfigs.set(e,[o]),this}_svgElementFromConfig(e){if(!e.svgElement){const o=this._svgElementFromString(e.svgText);this._setSvgAttributes(o,e.options),e.svgElement=o}return e.svgElement}_getIconConfigFromResolvers(e,o){for(let s=0;s<this._resolvers.length;s++){const c=this._resolvers[s](o,e);if(c)return rU(c)?new vh(c.url,null,c.options):new vh(c,null)}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Ec,8),d.LFG(_l),d.LFG(j,8),d.LFG(d.qLn))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Ec,8),d.LFG(_l),d.LFG(j,8),d.LFG(d.qLn))},token:i,providedIn:"root"}),i})();function aT(i){return i.cloneNode(!0)}function gN(i,t){return i+":"+t}function rU(i){return!(!i.url||!i.options)}const iU=gh(class{constructor(i){this._elementRef=i}}),oU=new d.OlP("mat-icon-location",{providedIn:"root",factory:function(){const i=(0,d.f3M)(j),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),mN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lU=mN.map(i=>`[${i}]`).join(", "),uU=/^url\(['"]?#(.*?)['"]?\)$/;let Zb=(()=>{class i extends iU{constructor(e,o,s,c,f){super(e),this._iconRegistry=o,this._location=c,this._errorHandler=f,this._inline=!1,this._currentIconFetch=ur.w.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ft(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const o=this._cleanupFontValue(e);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const o=this._cleanupFontValue(e);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const o=e.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const o=e.querySelectorAll("style");for(let c=0;c<o.length;c++)o[c].textContent+=" ";const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let o=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const s=e.childNodes[o];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&e.removeChild(s)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,o=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();o!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),o&&e.classList.add(o),this._previousFontSetClass=o),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const o=this._elementsWithExternalReferences;o&&o.forEach((s,c)=>{s.forEach(f=>{c.setAttribute(f.name,`url('${e}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(e){const o=e.querySelectorAll(lU),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<o.length;c++)mN.forEach(f=>{const m=o[c],y=m.getAttribute(f),b=y?y.match(uU):null;if(b){let C=s.get(m);C||(C=[],s.set(m,C)),C.push({name:f,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[o,s]=this._splitIconName(e);o&&(this._svgNamespace=o),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,o).pipe(dn(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${s}! ${c.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(sT),d.$8M("aria-hidden"),d.Y36(oU),d.Y36(d.qLn))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,o){2&e&&(d.uIk("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),d.ekj("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[d.qOj],ngContentSelectors:eU,decls:1,vars:0,template:function(e,o){1&e&&(d.F$t(),d.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),_N=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Tt],Tt]}),i})();const yN=Qa({passive:!0});let vN=(()=>{class i{constructor(e,o){this._platform=e,this._ngZone=o,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ro.E;const o=ci(e),s=this._monitoredElements.get(o);if(s)return s.subject;const c=new je.xQ,f="cdk-text-field-autofilled",m=y=>{"cdk-text-field-autofill-start"!==y.animationName||o.classList.contains(f)?"cdk-text-field-autofill-end"===y.animationName&&o.classList.contains(f)&&(o.classList.remove(f),this._ngZone.run(()=>c.next({target:y.target,isAutofilled:!1}))):(o.classList.add(f),this._ngZone.run(()=>c.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",m,yN),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:c,unlisten:()=>{o.removeEventListener("animationstart",m,yN)}}),c}stopMonitoring(e){const o=ci(e),s=this._monitoredElements.get(o);s&&(s.unlisten(),s.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((e,o)=>this.stopMonitoring(o))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Dt),d.LFG(d.R0b))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Dt),d.LFG(d.R0b))},token:i,providedIn:"root"}),i})(),bN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[ah]]}),i})();const dU=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),hU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let fU=0;const pU=mF(class{constructor(i,t,e,o){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=o}});let Kb=(()=>{class i extends pU{constructor(e,o,s,c,f,m,y,b,C,D){super(m,c,f,s),this._elementRef=e,this._platform=o,this._autofillMonitor=b,this._formField=D,this._uid="mat-input-"+fU++,this.focused=!1,this.stateChanges=new je.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(R=>HD().has(R));const T=this._elementRef.nativeElement,A=T.nodeName.toLowerCase();this._inputValueAccessor=y||T,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&C.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",R=>{const V=R.target;!V.value&&0===V.selectionStart&&0===V.selectionEnd&&(V.setSelectionRange(1,1),V.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===A,this._isTextarea="textarea"===A,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ft(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=ft(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&HD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ft(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,o;const s=(null===(o=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===o?void 0:o.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=s,s?c.setAttribute("placeholder",s):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){hU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,o=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&o&&o.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(Dt),d.Y36(ls,10),d.Y36(sh,8),d.Y36(Ws,8),d.Y36(rT),d.Y36(dU,10),d.Y36(vN),d.Y36(d.R0b),d.Y36(JF,8))},i.\u0275dir=d.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,o){1&e&&d.NdJ("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&e&&(d.Ikx("disabled",o.disabled)("required",o.required),d.uIk("id",o.id)("data-placeholder",o.placeholder)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required),d.ekj("mat-input-server",o._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[d._Bn([{provide:iT,useExisting:i}]),d.qOj,d.TTD]}),i})(),wN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[rT],imports:[[bN,XF,Tt],bN,XF]}),i})();var Qb=k(3098);function CN(i,t=$h.P){const o=function(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-t.now():Math.abs(i);return s=>s.lift(new mU(o,t))}class mU{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new $x(t,this.delay,this.scheduler))}}class $x extends sn.L{constructor(t,e,o){super(t),this.delay=e,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,o=e.queue,s=t.scheduler,c=t.destination;for(;o.length>0&&o[0].time-s.now()<=0;)o.shift().notification.observe(c);if(o.length>0){const f=Math.max(0,o[0].time-s.now());this.schedule(t,f)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule($x.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,o=new _U(e.now()+this.delay,t);this.queue.push(o),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Qb.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Qb.P.createComplete()),this.unsubscribe()}}class _U{constructor(t,e){this.time=t,this.notification=e}}const yU=["mat-menu-item",""];function vU(i,t){1&i&&(d.O4$(),d.TgZ(0,"svg",2),d._UZ(1,"polygon",3),d.qZA())}const EN=["*"];function bU(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"div",0),d.NdJ("keydown",function(s){return d.CHM(e),d.oxw()._handleKeydown(s)})("click",function(){return d.CHM(e),d.oxw().closed.emit("click")})("@transformMenu.start",function(s){return d.CHM(e),d.oxw()._onAnimationStart(s)})("@transformMenu.done",function(s){return d.CHM(e),d.oxw()._onAnimationDone(s)}),d.TgZ(1,"div",1),d.Hsn(2),d.qZA(),d.qZA()}if(2&i){const e=d.oxw();d.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),d.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const lT={transformMenu:Lu("transformMenu",[Oo("void",On({opacity:0,transform:"scale(0.8)"})),ko("void => enter",oo("120ms cubic-bezier(0, 0, 0.2, 1)",On({opacity:1,transform:"scale(1)"}))),ko("* => void",oo("100ms 25ms linear",On({opacity:0})))]),fadeInItems:Lu("fadeInItems",[Oo("showing",On({opacity:1})),ko("void => *",[On({opacity:0}),oo("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},SN=new d.OlP("MatMenuContent"),Yx=new d.OlP("MAT_MENU_PANEL"),wU=qb(tT(class{}));let Jb=(()=>{class i extends wU{constructor(e,o,s,c,f){super(),this._elementRef=e,this._focusMonitor=s,this._parentMenu=c,this._changeDetectorRef=f,this.role="menuitem",this._hovered=new je.xQ,this._focused=new je.xQ,this._highlighted=!1,this._triggersSubmenu=!1,c&&c.addItem&&c.addItem(this)}focus(e,o){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,o):this._getHostElement().focus(o),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,o;const s=this._elementRef.nativeElement.cloneNode(!0),c=s.querySelectorAll("mat-icon, .material-icons");for(let f=0;f<c.length;f++){const m=c[f];null===(e=m.parentNode)||void 0===e||e.removeChild(m)}return(null===(o=s.textContent)||void 0===o?void 0:o.trim())||""}_setHighlighted(e){var o;this._highlighted=e,null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(j),d.Y36(lc),d.Y36(Yx,8),d.Y36(d.sBO))},i.\u0275cmp=d.Xpm({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,o){1&e&&d.NdJ("click",function(c){return o._checkDisabled(c)})("mouseenter",function(){return o._handleMouseEnter()}),2&e&&(d.uIk("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled.toString())("disabled",o.disabled||null),d.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",o._highlighted)("mat-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[d.qOj],attrs:yU,ngContentSelectors:EN,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,o){1&e&&(d.F$t(),d.Hsn(0),d._UZ(1,"div",0),d.YNc(2,vU,2,0,"svg",1)),2&e&&(d.xp6(1),d.Q6J("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),d.xp6(1),d.Q6J("ngIf",o._triggersSubmenu))},directives:[_h,Kr],encapsulation:2,changeDetection:0}),i})();const DN=new d.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let EU=0,Xb=(()=>{class i{constructor(e,o,s){this._elementRef=e,this._ngZone=o,this._defaultOptions=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new d.n_E,this._tabSubscription=ur.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new je.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new d.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+EU++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=ft(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ft(e)}set panelClass(e){const o=this._previousPanelClass;o&&o.length&&o.split(" ").forEach(s=>{this._classList[s]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(s=>{this._classList[s]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Jk(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(mr(this._directDescendantItems),Rn(e=>(0,si.T)(...e.map(o=>o._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(mr(this._directDescendantItems),Rn(o=>(0,si.T)(...o.map(s=>s._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const o=e.keyCode,s=this._keyManager;switch(o){case 27:sc(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===o||40===o)&&s.setFocusOrigin("keyboard"),s.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(dn(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const o=this._keyManager;if(o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&this._directDescendantItems.length){let s=this._directDescendantItems.first._getHostElement().parentElement;for(;s;){if("menu"===s.getAttribute("role")){s.focus();break}s=s.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const o=Math.min(this._baseElevation+e,24),s=`${this._elevationPrefix}${o}`,c=Object.keys(this._classList).find(f=>f.startsWith(this._elevationPrefix));(!c||c===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[s]=!0,this._previousElevation=s)}setPositionClasses(e=this.xPosition,o=this.yPosition){const s=this._classList;s["mat-menu-before"]="before"===e,s["mat-menu-after"]="after"===e,s["mat-menu-above"]="above"===o,s["mat-menu-below"]="below"===o}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(mr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(o=>o._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(DN))},i.\u0275dir=d.lG2({type:i,contentQueries:function(e,o,s){if(1&e&&(d.Suo(s,SN,5),d.Suo(s,Jb,5),d.Suo(s,Jb,4)),2&e){let c;d.iGM(c=d.CRH())&&(o.lazyContent=c.first),d.iGM(c=d.CRH())&&(o._allItems=c),d.iGM(c=d.CRH())&&(o.items=c)}},viewQuery:function(e,o){if(1&e&&d.Gf(d.Rgc,5),2&e){let s;d.iGM(s=d.CRH())&&(o.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),i})(),TN=(()=>{class i extends Xb{constructor(e,o,s){super(e,o,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(DN))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,o){2&e&&d.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[d._Bn([{provide:Yx,useExisting:i}]),d.qOj],ngContentSelectors:EN,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,o){1&e&&(d.F$t(),d.YNc(0,bU,3,6,"ng-template"))},directives:[dl],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[lT.transformMenu,lT.fadeInItems]},changeDetection:0}),i})();const MN=new d.OlP("mat-menu-scroll-strategy"),AN={provide:MN,deps:[Vo],useFactory:function(i){return()=>i.scrollStrategies.reposition()}},xN=Qa({passive:!0});let RN=(()=>{class i{constructor(e,o,s,c,f,m,y,b){this._overlay=e,this._element=o,this._viewContainerRef=s,this._menuItemInstance=m,this._dir=y,this._focusMonitor=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ur.w.EMPTY,this._hoverSubscription=ur.w.EMPTY,this._menuCloseSubscription=ur.w.EMPTY,this._handleTouchStart=C=>{Ix(C)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new d.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new d.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=f instanceof Xb?f:void 0,o.nativeElement.addEventListener("touchstart",this._handleTouchStart,xN),m&&(m._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(o=>{this._destroyMenu(o),("click"===o||"tab"===o)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(o)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,xN),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),o=e.getConfig();this._setPosition(o.positionStrategy),o.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Xb&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,o){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,o):this._element.nativeElement.focus(o)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const o=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,o instanceof Xb?(o._resetAnimation(),o.lazyContent?o._animationDone.pipe(Ft(s=>"void"===s.toState),dn(1),rr(o.lazyContent._attached)).subscribe({next:()=>o.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),o.lazyContent&&o.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,o=this.menu.parentMenu;for(;o;)e++,o=o.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Kg({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(o=>{this.menu.setPositionClasses("start"===o.connectionPair.overlayX?"after":"before","top"===o.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[o,s]="before"===this.menu.xPosition?["end","start"]:["start","end"],[c,f]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[m,y]=[c,f],[b,C]=[o,s],D=0;this.triggersSubmenu()?(C=o="before"===this.menu.xPosition?"start":"end",s=b="end"===o?"start":"end",D="bottom"===c?8:-8):this.menu.overlapTrigger||(m="top"===c?"bottom":"top",y="top"===f?"bottom":"top"),e.withPositions([{originX:o,originY:m,overlayX:b,overlayY:c,offsetY:D},{originX:s,originY:m,overlayX:C,overlayY:c,offsetY:D},{originX:o,originY:y,overlayX:b,overlayY:f,offsetY:-D},{originX:s,originY:y,overlayX:C,overlayY:f,offsetY:-D}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),o=this._overlayRef.detachments(),s=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Ne.of)(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ft(f=>f!==this._menuItemInstance),Ft(()=>this._menuOpen)):(0,Ne.of)();return(0,si.T)(e,s,c,o)}_handleMousedown(e){Ax(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const o=e.keyCode;(13===o||32===o)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===o&&"ltr"===this.dir||37===o&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Ft(e=>e===this._menuItemInstance&&!e.disabled),CN(0,di.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Xb&&this.menu._isAnimating?this.menu._animationDone.pipe(dn(1),CN(0,di.E),rr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new Js(this.menu.templateRef,this._viewContainerRef)),this._portal}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Vo),d.Y36(d.SBq),d.Y36(d.s_b),d.Y36(MN),d.Y36(Yx,8),d.Y36(Jb,10),d.Y36(Bi,8),d.Y36(lc))},i.\u0275dir=d.lG2({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,o){1&e&&d.NdJ("mousedown",function(c){return o._handleMousedown(c)})("keydown",function(c){return o._handleKeydown(c)})("click",function(c){return o._handleClick(c)}),2&e&&d.uIk("aria-expanded",o.menuOpen||null)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),i})(),ON=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[AN],imports:[Tt]}),i})(),kN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[AN],imports:[[mo,Tt,$b,XD,ON],Yg,Tt,ON]}),i})();function DU(i,t){if(1&i&&(d.O4$(),d._UZ(0,"circle",3)),2&i){const e=d.oxw();d.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),d.uIk("r",e._getCircleRadius())}}function TU(i,t){if(1&i&&(d.O4$(),d._UZ(0,"circle",3)),2&i){const e=d.oxw();d.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),d.uIk("r",e._getCircleRadius())}}function MU(i,t){if(1&i&&(d.O4$(),d._UZ(0,"circle",3)),2&i){const e=d.oxw();d.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),d.uIk("r",e._getCircleRadius())}}function AU(i,t){if(1&i&&(d.O4$(),d._UZ(0,"circle",3)),2&i){const e=d.oxw();d.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%"),d.uIk("r",e._getCircleRadius())}}const FN=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",xU=gh(class{constructor(i){this._elementRef=i}},"primary"),NN=new d.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class rl extends xU{constructor(t,e,o,s,c){super(t),this._document=o,this._diameter=100,this._value=0,this._fallbackAnimation=!1,this.mode="determinate";const f=rl._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),f.has(o.head)||f.set(o.head,new Set([100])),this._fallbackAnimation=e.EDGE||e.TRIDENT,this._noopAnimations="NoopAnimations"===s&&!!c&&!c._forceAnimations,c&&(c.diameter&&(this.diameter=c.diameter),c.strokeWidth&&(this.strokeWidth=c.strokeWidth))}get diameter(){return this._diameter}set diameter(t){this._diameter=Lo(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Lo(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Lo(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=zg(t)||this._document.head,this._attachStyleNode(),t.classList.add(`mat-progress-spinner-indeterminate${this._fallbackAnimation?"-fallback":""}-animation`)}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,o=rl._diameters;let s=o.get(t);if(!s||!s.has(e)){const c=this._document.createElement("style");c.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),c.textContent=this._getAnimationText(),t.appendChild(c),s||(s=new Set,o.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}rl.\u0275fac=function(t){return new(t||rl)(d.Y36(d.SBq),d.Y36(Dt),d.Y36(j,8),d.Y36(lo,8),d.Y36(NN))},rl.\u0275cmp=d.Xpm({type:rl,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(d.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),d.Udp("width",e.diameter,"px")("height",e.diameter,"px"),d.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[d.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(d.O4$(),d.TgZ(0,"svg",0),d.YNc(1,DU,1,9,"circle",1),d.YNc(2,TU,1,7,"circle",2),d.qZA()),2&t&&(d.Udp("width",e.diameter,"px")("height",e.diameter,"px"),d.Q6J("ngSwitch","indeterminate"===e.mode),d.uIk("viewBox",e._getViewBox()),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngSwitchCase",!1))},directives:[_i,jn],styles:[FN],encapsulation:2,changeDetection:0}),rl._diameters=new WeakMap;let kU=(()=>{class i extends rl{constructor(e,o,s,c,f){super(e,o,s,c,f),this.mode="indeterminate"}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(Dt),d.Y36(j,8),d.Y36(lo,8),d.Y36(NN))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,o){2&e&&(d.Udp("width",o.diameter,"px")("height",o.diameter,"px"),d.ekj("_mat-animation-noopable",o._noopAnimations))},inputs:{color:"color"},features:[d.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,o){1&e&&(d.O4$(),d.TgZ(0,"svg",0),d.YNc(1,MU,1,9,"circle",1),d.YNc(2,AU,1,7,"circle",2),d.qZA()),2&e&&(d.Udp("width",o.diameter,"px")("height",o.diameter,"px"),d.Q6J("ngSwitch","indeterminate"===o.mode),d.uIk("viewBox",o._getViewBox()),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngSwitchCase",!1))},directives:[_i,jn],styles:[FN],encapsulation:2,changeDetection:0}),i})(),PN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Tt,mo],Tt]}),i})();const FU=["thumbContainer"],NU=["toggleBar"],PU=["input"],LU=function(i){return{enterDuration:i}},VU=["*"],BU=new d.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let UU=0;const jU={provide:uo,useExisting:(0,d.Gpc)(()=>LN),multi:!0};class HU{constructor(t,e){this.source=t,this.checked=e}}const GU=gF(gh(qb(tT(class{constructor(i){this._elementRef=i}}))));let LN=(()=>{class i extends GU{constructor(e,o,s,c,f,m){super(e),this._focusMonitor=o,this._changeDetectorRef=s,this.defaults=f,this._onChange=y=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++UU,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new d.vpe,this.toggleChange=new d.vpe,this.tabIndex=parseInt(c)||0,this.color=this.defaultColor=f.color||"accent",this._noopAnimations="NoopAnimations"===m}get required(){return this._required}set required(e){this._required=ft(e)}get checked(){return this._checked}set checked(e){this._checked=ft(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._inputElement.nativeElement.focus():e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,o){o?this._focusMonitor.focusVia(this._inputElement,o,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new HU(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(lc),d.Y36(d.sBO),d.$8M("tabindex"),d.Y36(BU),d.Y36(lo,8))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(e,o){if(1&e&&(d.Gf(FU,5),d.Gf(NU,5),d.Gf(PU,5)),2&e){let s;d.iGM(s=d.CRH())&&(o._thumbEl=s.first),d.iGM(s=d.CRH())&&(o._thumbBarEl=s.first),d.iGM(s=d.CRH())&&(o._inputElement=s.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,o){2&e&&(d.Ikx("id",o.id),d.uIk("tabindex",o.disabled?null:-1)("aria-label",null)("aria-labelledby",null),d.ekj("mat-checked",o.checked)("mat-disabled",o.disabled)("mat-slide-toggle-label-before","before"==o.labelPosition)("_mat-animation-noopable",o._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked",ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[d._Bn([jU]),d.qOj],ngContentSelectors:VU,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,o){if(1&e&&(d.F$t(),d.TgZ(0,"label",0,1),d.TgZ(2,"div",2,3),d.TgZ(4,"input",4,5),d.NdJ("change",function(c){return o._onChangeEvent(c)})("click",function(c){return o._onInputClick(c)}),d.qZA(),d.TgZ(6,"div",6,7),d._UZ(8,"div",8),d.TgZ(9,"div",9),d._UZ(10,"div",10),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"span",11,12),d.NdJ("cdkObserveContent",function(){return o._onLabelTextChange()}),d.TgZ(13,"span",13),d._uU(14,"\xa0"),d.qZA(),d.Hsn(15),d.qZA(),d.qZA()),2&e){const s=d.MAs(1),c=d.MAs(12);d.uIk("for",o.inputId),d.xp6(2),d.ekj("mat-slide-toggle-bar-no-side-margin",!c.textContent||!c.textContent.trim()),d.xp6(2),d.Q6J("id",o.inputId)("required",o.required)("tabIndex",o.tabIndex)("checked",o.checked)("disabled",o.disabled),d.uIk("name",o.name)("aria-checked",o.checked.toString())("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby),d.xp6(5),d.Q6J("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",d.VKq(18,LU,o._noopAnimations?0:150))}},directives:[_h,Zk],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),i})(),VN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),BN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[VN,$b,Tt,Tx],VN,Tt]}),i})();function $U(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"div",1),d.TgZ(1,"button",2),d.NdJ("click",function(){return d.CHM(e),d.oxw().action()}),d._uU(2),d.qZA(),d.qZA()}if(2&i){const e=d.oxw();d.xp6(2),d.Oqu(e.data.action)}}function YU(i,t){}const UN=new d.OlP("MatSnackBarData");class uT{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const WU=Math.pow(2,31)-1;class Zx{constructor(t,e){this._overlayRef=e,this._afterDismissed=new je.xQ,this._afterOpened=new je.xQ,this._onAction=new je.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,WU))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let ZU=(()=>{class i{constructor(e,o){this.snackBarRef=e,this.data=o}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Zx),d.Y36(UN))},i.\u0275cmp=d.Xpm({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,o){1&e&&(d.TgZ(0,"span"),d._uU(1),d.qZA(),d.YNc(2,$U,3,1,"div",0)),2&e&&(d.xp6(1),d.Oqu(o.data.message),d.xp6(1),d.Q6J("ngIf",o.hasAction))},directives:[Kr,tl],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),i})();const KU={snackBarState:Lu("state",[Oo("void, hidden",On({transform:"scale(0.8)",opacity:0})),Oo("visible",On({transform:"scale(1)",opacity:1})),ko("* => visible",oo("150ms cubic-bezier(0, 0, 0.2, 1)")),ko("* => void, * => hidden",oo("75ms cubic-bezier(0.4, 0.0, 1, 1)",On({opacity:0})))])};let QU=(()=>{class i extends Wg{constructor(e,o,s,c,f){super(),this._ngZone=e,this._elementRef=o,this._changeDetectorRef=s,this._platform=c,this.snackBarConfig=f,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new je.xQ,this._onExit=new je.xQ,this._onEnter=new je.xQ,this._animationState="void",this.attachDomPortal=m=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(m)),this._live="assertive"!==f.politeness||f.announcementMessage?"off"===f.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:o,toState:s}=e;if(("void"===s&&"void"!==o||"hidden"===s)&&this._completeExit(),"visible"===s){const c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(dn(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,o=this.snackBarConfig.panelClass;o&&(Array.isArray(o)?o.forEach(s=>e.classList.add(s)):e.classList.add(o)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),o=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&o){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(s=document.activeElement),e.removeAttribute("aria-hidden"),o.appendChild(e),null==s||s.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Dt),d.Y36(uT))},i.\u0275cmp=d.Xpm({type:i,selectors:[["snack-bar-container"]],viewQuery:function(e,o){if(1&e&&d.Gf(el,7),2&e){let s;d.iGM(s=d.CRH())&&(o._portalOutlet=s.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,o){1&e&&d.WFA("@state.done",function(c){return o.onAnimationEnd(c)}),2&e&&d.d8E("@state",o._animationState)},features:[d.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.YNc(1,YU,0,0,"ng-template",1),d.qZA(),d._UZ(2,"div")),2&e&&(d.xp6(2),d.uIk("aria-live",o._live)("role",o._role))},directives:[el],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[KU.snackBarState]}}),i})(),Kx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[XD,jb,mo,Vx,Tt],Tt]}),i})();const jN=new d.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new uT}});let XU=(()=>{class i{constructor(e,o,s,c,f,m){this._overlay=e,this._live=o,this._injector=s,this._breakpointObserver=c,this._parentSnackBar=f,this._defaultConfig=m,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=ZU,this.snackBarContainerComponent=QU,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,o){return this._attach(e,o)}openFromTemplate(e,o){return this._attach(e,o)}open(e,o="",s){const c=Object.assign(Object.assign({},this._defaultConfig),s);return c.data={message:e,action:o},c.announcementMessage===e&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,o){const c=d.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:uT,useValue:o}]}),f=new Xa(this.snackBarContainerComponent,o.viewContainerRef,c),m=e.attach(f);return m.instance.snackBarConfig=o,m.instance}_attach(e,o){const s=Object.assign(Object.assign(Object.assign({},new uT),this._defaultConfig),o),c=this._createOverlay(s),f=this._attachSnackBarContainer(c,s),m=new Zx(f,c);if(e instanceof d.Rgc){const y=new Js(e,null,{$implicit:s.data,snackBarRef:m});m.instance=f.attachTemplatePortal(y)}else{const y=this._createInjector(s,m),b=new Xa(e,void 0,y),C=f.attachComponentPortal(b);m.instance=C.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(rr(c.detachments())).subscribe(y=>{const b=c.overlayElement.classList;y.matches?b.add(this.handsetCssClass):b.remove(this.handsetCssClass)}),s.announcementMessage&&f._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(m,s),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(e,o){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),o.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),o.duration&&o.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(o.duration))}_createOverlay(e){const o=new Kg;o.direction=e.direction;let s=this._overlay.position().global();const c="rtl"===e.direction,f="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!c||"end"===e.horizontalPosition&&c,m=!f&&"center"!==e.horizontalPosition;return f?s.left("0"):m?s.right("0"):s.centerHorizontally(),"top"===e.verticalPosition?s.top("0"):s.bottom("0"),o.positionStrategy=s,this._overlay.create(o)}_createInjector(e,o){return d.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Zx,useValue:o},{provide:UN,useValue:e.data}]})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Vo),d.LFG(xx),d.LFG(d.zs3),d.LFG(Fx),d.LFG(i,12),d.LFG(jN))},i.\u0275prov=d.Yz7({factory:function(){return new i(d.LFG(Vo),d.LFG(xx),d.LFG(d.gxx),d.LFG(Fx),d.LFG(i,12),d.LFG(jN))},token:i,providedIn:Kx}),i})();const e3=["*",[["mat-toolbar-row"]]],t3=["*","mat-toolbar-row"],n3=gh(class{constructor(i){this._elementRef=i}});let r3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=d.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),i3=(()=>{class i extends n3{constructor(e,o,s){super(e),this._platform=o,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(d.SBq),d.Y36(Dt),d.Y36(j))},i.\u0275cmp=d.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(e,o,s){if(1&e&&d.Suo(s,r3,5),2&e){let c;d.iGM(c=d.CRH())&&(o._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,o){2&e&&d.ekj("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",0===o._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[d.qOj],ngContentSelectors:t3,decls:2,vars:0,template:function(e,o){1&e&&(d.F$t(e3),d.Hsn(0),d.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),HN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[Tt],Tt]}),i})();const o3=[Vx,HF,GF,oN,lN,cN,_N,wN,kN,PN,Px,BN,Kx,HN];let cT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({providers:[{provide:QF,useValue:{appearance:"outline"}}],imports:[[...o3],Vx,HF,GF,oN,lN,cN,_N,wN,kN,PN,Px,BN,Kx,HN]}),i})(),s3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[cT,mo,LD]]}),i})();const GN_firebase={apiKey:"AIzaSyA0NznxcWKIz1wkJvyymt7k1BM2heetSeY",authDomain:"lego-inventory-69234.firebaseapp.com",projectId:"lego-inventory-69234",storageBucket:"lego-inventory-69234.appspot.com",messagingSenderId:"171441323763",appId:"1:171441323763:web:9f481feac459007ba8c186"};var a3=k(2441);function Qx(i){return function(e){return 0===i?(0,Ro.c)():e.lift(new l3(i))}}class l3{constructor(t){if(this.total=t,this.total<0)throw new js}call(t,e){return e.subscribe(new u3(t,this.total))}}class u3 extends sn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,o=this.total,s=this.count++;e.length<o?e.push(t):e[s%o]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,s=this.ring;for(let c=0;c<o;c++){const f=e++%o;t.next(s[f])}}t.complete()}}var d3=k(1307);class il{constructor(t,e){this.id=t,this.url=e}}class Jx extends il{constructor(t,e,o="imperative",s=null){super(t,e),this.navigationTrigger=o,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class e0 extends il{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qN extends il{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class h3 extends il{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class f3 extends il{constructor(t,e,o,s){super(t,e),this.urlAfterRedirects=o,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p3 extends il{constructor(t,e,o,s){super(t,e),this.urlAfterRedirects=o,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g3 extends il{constructor(t,e,o,s,c){super(t,e),this.urlAfterRedirects=o,this.state=s,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class m3 extends il{constructor(t,e,o,s){super(t,e),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _3 extends il{constructor(t,e,o,s){super(t,e),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zN{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $N{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class y3{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v3{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b3{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w3{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YN{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _t="primary";class C3{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function em(i){return new C3(i)}const WN="ngNavigationCancelingError";function Xx(i){const t=Error("NavigationCancelingError: "+i);return t[WN]=!0,t}function S3(i,t,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<i.length))return null;const s={};for(let c=0;c<o.length;c++){const f=o[c],m=i[c];if(f.startsWith(":"))s[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:i.slice(0,o.length),posParams:s}}function Xs(i,t){const e=i?Object.keys(i):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let s;for(let c=0;c<e.length;c++)if(s=e[c],!ZN(i[s],t[s]))return!1;return!0}function ZN(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),o=[...t].sort();return e.every((s,c)=>o[c]===s)}return i===t}function KN(i){return Array.prototype.concat.apply([],i)}function QN(i){return i.length>0?i[i.length-1]:null}function Lr(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function ea(i){return(0,d.CqO)(i)?i:(0,d.QGY)(i)?(0,Jt.D)(Promise.resolve(i)):(0,Ne.of)(i)}const M3={exact:function eP(i,t,e){if(!wh(i.segments,t.segments)||!dT(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!i.children[o]||!eP(i.children[o],t.children[o],e))return!1;return!0},subset:tP},JN={exact:function(i,t){return Xs(i,t)},subset:function(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>ZN(i[e],t[e]))},ignored:()=>!0};function XN(i,t,e){return M3[e.paths](i.root,t.root,e.matrixParams)&&JN[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function tP(i,t,e){return nP(i,t,t.segments,e)}function nP(i,t,e,o){if(i.segments.length>e.length){const s=i.segments.slice(0,e.length);return!(!wh(s,e)||t.hasChildren()||!dT(s,e,o))}if(i.segments.length===e.length){if(!wh(i.segments,e)||!dT(i.segments,e,o))return!1;for(const s in t.children)if(!i.children[s]||!tP(i.children[s],t.children[s],o))return!1;return!0}{const s=e.slice(0,i.segments.length),c=e.slice(i.segments.length);return!!(wh(i.segments,s)&&dT(i.segments,s,o)&&i.children[_t])&&nP(i.children[_t],t,c,o)}}function dT(i,t,e){return t.every((o,s)=>JN[e](i[s].parameters,o.parameters))}class bh{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=em(this.queryParams)),this._queryParamMap}toString(){return O3.serialize(this)}}class Et{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Lr(e,(o,s)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hT(this)}}class t0{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=em(this.parameters)),this._parameterMap}toString(){return sP(this)}}function wh(i,t){return i.length===t.length&&i.every((e,o)=>e.path===t[o].path)}class eR{}class rP{parse(t){const e=new j3(t);return new bh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${n0(t.root,!0)}`}${function(i){const t=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(s=>`${fT(e)}=${fT(s)}`).join("&"):`${fT(e)}=${fT(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(i){return encodeURI(i)}(t.fragment)}`:""}`}}const O3=new rP;function hT(i){return i.segments.map(t=>sP(t)).join("/")}function n0(i,t){if(!i.hasChildren())return hT(i);if(t){const e=i.children[_t]?n0(i.children[_t],!1):"",o=[];return Lr(i.children,(s,c)=>{c!==_t&&o.push(`${c}:${n0(s,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,t){let e=[];return Lr(i.children,(o,s)=>{s===_t&&(e=e.concat(t(o,s)))}),Lr(i.children,(o,s)=>{s!==_t&&(e=e.concat(t(o,s)))}),e}(i,(o,s)=>s===_t?[n0(i.children[_t],!1)]:[`${s}:${n0(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[_t]?`${hT(i)}/${e[0]}`:`${hT(i)}/(${e.join("//")})`}}function iP(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fT(i){return iP(i).replace(/%3B/gi,";")}function tR(i){return iP(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pT(i){return decodeURIComponent(i)}function oP(i){return pT(i.replace(/\+/g,"%20"))}function sP(i){return`${tR(i.path)}${function(i){return Object.keys(i).map(t=>`;${tR(t)}=${tR(i[t])}`).join("")}(i.parameters)}`}const P3=/^[^\/()?;=#]+/;function gT(i){const t=i.match(P3);return t?t[0]:""}const L3=/^[^=?&#]+/,B3=/^[^?&#]+/;class j3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Et([],{}):new Et([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[_t]=new Et(t,e)),o}parseSegment(){const t=gT(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new t0(pT(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gT(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const s=gT(this.remaining);s&&(o=s,this.capture(o))}t[pT(e)]=pT(o)}parseQueryParam(t){const e=function(i){const t=i.match(L3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const f=function(i){const t=i.match(B3);return t?t[0]:""}(this.remaining);f&&(o=f,this.capture(o))}const s=oP(e),c=oP(o);if(t.hasOwnProperty(s)){let f=t[s];Array.isArray(f)||(f=[f],t[s]=f),f.push(c)}else t[s]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=gT(this.remaining),s=this.remaining[o.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let c;o.indexOf(":")>-1?(c=o.substr(0,o.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=_t);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[_t]:new Et([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class aP{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=nR(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=nR(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=rR(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return rR(t,this._root).map(e=>e.value)}}function nR(i,t){if(i===t.value)return t;for(const e of t.children){const o=nR(i,e);if(o)return o}return null}function rR(i,t){if(i===t.value)return[t];for(const e of t.children){const o=rR(i,e);if(o.length)return o.unshift(t),o}return[]}class ol{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function r0(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class lP extends aP{constructor(t,e){super(t),this.snapshot=e,iR(this,t)}toString(){return this.snapshot.toString()}}function uP(i,t){const e=function(i,t){const f=new mT([],{},{},"",{},_t,t,null,i.root,-1,{});return new dP("",new ol(f,[]))}(i,t),o=new hi([new t0("",{})]),s=new hi({}),c=new hi({}),f=new hi({}),m=new hi(""),y=new tm(o,s,f,m,c,_t,t,e.root);return y.snapshot=e.root,new lP(new ol(y,[]),e)}class tm{constructor(t,e,o,s,c,f,m,y){this.url=t,this.params=e,this.queryParams=o,this.fragment=s,this.data=c,this.outlet=f,this.component=m,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Le.U)(t=>em(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Le.U)(t=>em(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cP(i,t="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const s=e[o],c=e[o-1];if(s.routeConfig&&""===s.routeConfig.path)o--;else{if(c.component)break;o--}}return function(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class mT{constructor(t,e,o,s,c,f,m,y,b,C,D){this.url=t,this.params=e,this.queryParams=o,this.fragment=s,this.data=c,this.outlet=f,this.component=m,this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=C,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=em(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=em(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dP extends aP{constructor(t,e){super(e),this.url=t,iR(this,e)}toString(){return hP(this._root)}}function iR(i,t){t.value._routerState=i,t.children.forEach(e=>iR(i,e))}function hP(i){const t=i.children.length>0?` { ${i.children.map(hP).join(", ")} } `:"";return`${i.value}${t}`}function oR(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Xs(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),Xs(t.params,e.params)||i.params.next(e.params),function(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Xs(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),Xs(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function sR(i,t){return Xs(i.params,t.params)&&function(i,t){return wh(i,t)&&i.every((e,o)=>Xs(e.parameters,t[o].parameters))}(i.url,t.url)&&!(!i.parent!=!t.parent)&&(!i.parent||sR(i.parent,t.parent))}function _T(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const s=function(i,t,e){return t.children.map(o=>{for(const s of e.children)if(i.shouldReuseRoute(o.value,s.value.snapshot))return _T(i,o,s);return _T(i,o)})}(i,t,e);return new ol(o,s)}{if(i.shouldAttach(t.value)){const c=i.retrieve(t.value);if(null!==c){const f=c.route;return fP(t,f),f}}const o=function(i){return new tm(new hi(i.url),new hi(i.params),new hi(i.queryParams),new hi(i.fragment),new hi(i.data),i.outlet,i.component,i)}(t.value),s=t.children.map(c=>_T(i,c));return new ol(o,s)}}function fP(i,t){if(i.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)fP(i.children[e],t.children[e])}function yT(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function o0(i){return"object"==typeof i&&null!=i&&i.outlets}function aR(i,t,e,o,s){let c={};return o&&Lr(o,(f,m)=>{c[m]=Array.isArray(f)?f.map(y=>`${y}`):`${f}`}),new bh(e.root===i?t:pP(e.root,i,t),c,s)}function pP(i,t,e){const o={};return Lr(i.children,(s,c)=>{o[c]=s===t?e:pP(s,t,e)}),new Et(i.segments,o)}class gP{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&yT(o[0]))throw new Error("Root segment cannot have matrix parameters");const s=o.find(o0);if(s&&s!==QN(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lR{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function mP(i,t,e){if(i||(i=new Et([],{})),0===i.segments.length&&i.hasChildren())return vT(i,t,e);const o=function(i,t,e){let o=0,s=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(o>=e.length)return c;const f=i.segments[s],m=e[o];if(o0(m))break;const y=`${m}`,b=o<e.length-1?e[o+1]:null;if(s>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!yP(y,b,f))return c;o+=2}else{if(!yP(y,{},f))return c;o++}s++}return{match:!0,pathIndex:s,commandIndex:o}}(i,t,e),s=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const c=new Et(i.segments.slice(0,o.pathIndex),{});return c.children[_t]=new Et(i.segments.slice(o.pathIndex),i.children),vT(c,0,s)}return o.match&&0===s.length?new Et(i.segments,{}):o.match&&!i.hasChildren()?uR(i,t,e):o.match?vT(i,0,s):uR(i,t,e)}function vT(i,t,e){if(0===e.length)return new Et(i.segments,{});{const o=function(i){return o0(i[0])?i[0].outlets:{[_t]:i}}(e),s={};return Lr(o,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(s[f]=mP(i.children[f],t,c))}),Lr(i.children,(c,f)=>{void 0===o[f]&&(s[f]=c)}),new Et(i.segments,s)}}function uR(i,t,e){const o=i.segments.slice(0,t);let s=0;for(;s<e.length;){const c=e[s];if(o0(c)){const y=X3(c.outlets);return new Et(o,y)}if(0===s&&yT(e[0])){o.push(new t0(i.segments[t].path,_P(e[0]))),s++;continue}const f=o0(c)?c.outlets[_t]:`${c}`,m=s<e.length-1?e[s+1]:null;f&&m&&yT(m)?(o.push(new t0(f,_P(m))),s+=2):(o.push(new t0(f,{})),s++)}return new Et(o,{})}function X3(i){const t={};return Lr(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=uR(new Et([],{}),0,e))}),t}function _P(i){const t={};return Lr(i,(e,o)=>t[o]=`${e}`),t}function yP(i,t,e){return i==e.path&&Xs(t,e.parameters)}class tj{constructor(t,e,o,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=s}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),oR(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const s=r0(e);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,s[f],o),delete s[f]}),Lr(s,(c,f)=>{this.deactivateRouteAndItsChildren(c,o)})}deactivateRoutes(t,e,o){const s=t.value,c=e?e.value:null;if(s===c)if(s.component){const f=o.getContext(s.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,o);else c&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet);if(o&&o.outlet){const s=o.outlet.detach(),c=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),s=o&&t.value.component?o.children:e,c=r0(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],s);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const s=r0(e);t.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],o),this.forwardEvent(new w3(c.value.snapshot))}),t.children.length&&this.forwardEvent(new v3(t.value.snapshot))}activateRoutes(t,e,o){const s=t.value,c=e?e.value:null;if(oR(s),s===c)if(s.component){const f=o.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,o);else if(s.component){const f=o.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),vP(m.route)}else{const m=function(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),y=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=s,f.resolver=y,f.outlet&&f.outlet.activateWith(s,y),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,o)}}function vP(i){oR(i.value),i.children.forEach(vP)}class cR{constructor(t,e){this.routes=t,this.module=e}}function cc(i){return"function"==typeof i}function Ch(i){return i instanceof bh}const s0=Symbol("INITIAL_VALUE");function a0(){return Rn(i=>kx(i.map(t=>t.pipe(dn(1),mr(s0)))).pipe(Dl((t,e)=>{let o=!1;return e.reduce((s,c,f)=>s!==s0?s:(c===s0&&(o=!0),o||!1!==c&&f!==e.length-1&&!Ch(c)?s:c),t)},s0),Ft(t=>t!==s0),(0,Le.U)(t=>Ch(t)?t:!0===t),dn(1)))}let bP=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&d._UZ(0,"router-outlet")},directives:function(){return[_R]},encapsulation:2}),i})();function wP(i,t=""){for(let e=0;e<i.length;e++){const o=i[e];lj(o,uj(t,o))}}function lj(i,t){i.children&&wP(i.children,t)}function uj(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function dR(i){const t=i.children&&i.children.map(dR),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==_t&&(e.component=bP),e}function Bo(i){return i.outlet||_t}function CP(i,t){const e=i.filter(o=>Bo(o)===t);return e.push(...i.filter(o=>Bo(o)!==t)),e}const EP={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function bT(i,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},EP):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||S3)(e,i,t);if(!c)return Object.assign({},EP);const f={};Lr(c.posParams,(y,b)=>{f[b]=y.path});const m=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:m,positionalParamSegments:null!==(o=c.posParams)&&void 0!==o?o:{}}}function wT(i,t,e,o,s="corrected"){if(e.length>0&&function(i,t,e){return e.some(o=>CT(i,t,o)&&Bo(o)!==_t)}(i,e,o)){const f=new Et(t,function(i,t,e,o){const s={};s[_t]=o,o._sourceSegment=i,o._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Bo(c)!==_t){const f=new Et([],{});f._sourceSegment=i,f._segmentIndexShift=t.length,s[Bo(c)]=f}return s}(i,t,o,new Et(e,i.children)));return f._sourceSegment=i,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function(i,t,e){return e.some(o=>CT(i,t,o))}(i,e,o)){const f=new Et(i.segments,function(i,t,e,o,s,c){const f={};for(const m of o)if(CT(i,e,m)&&!s[Bo(m)]){const y=new Et([],{});y._sourceSegment=i,y._segmentIndexShift="legacy"===c?i.segments.length:t.length,f[Bo(m)]=y}return Object.assign(Object.assign({},s),f)}(i,t,e,o,i.children,s));return f._sourceSegment=i,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const c=new Et(i.segments,i.children);return c._sourceSegment=i,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function CT(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function SP(i,t,e,o){return!!(Bo(i)===o||o!==_t&&CT(t,e,i))&&("**"===i.path||bT(t,i,e).matched)}function DP(i,t,e){return 0===t.length&&!i.children[e]}class l0{constructor(t){this.segmentGroup=t||null}}class TP{constructor(t){this.urlTree=t}}function ET(i){return new Vt.y(t=>t.error(new l0(i)))}function MP(i){return new Vt.y(t=>t.error(new TP(i)))}function pj(i){return new Vt.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class _j{constructor(t,e,o,s,c){this.configLoader=e,this.urlSerializer=o,this.urlTree=s,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(d.h0i)}apply(){const t=wT(this.urlTree.root,[],[],this.config).segmentGroup,e=new Et(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,_t).pipe((0,Le.U)(c=>this.createUrlTree(hR(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nl(c=>{if(c instanceof TP)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof l0?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,_t).pipe((0,Le.U)(s=>this.createUrlTree(hR(s),t.queryParams,t.fragment))).pipe(nl(s=>{throw s instanceof l0?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const s=t.segments.length>0?new Et([],{[_t]:t}):t;return new bh(s,e,o)}expandSegmentGroup(t,e,o,s){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,Le.U)(c=>new Et([],c))):this.expandSegment(t,o,e,o.segments,s,!0)}expandChildren(t,e,o){const s=[];for(const c of Object.keys(o.children))"primary"===c?s.unshift(c):s.push(c);return(0,Jt.D)(s).pipe(vl(c=>{const f=o.children[c],m=CP(e,c);return this.expandSegmentGroup(t,m,f,c).pipe((0,Le.U)(y=>({segment:y,outlet:c})))}),Dl((c,f)=>(c[f.outlet]=f.segment,c),{}),function(i,t){const e=arguments.length>=2;return o=>o.pipe(i?Ft((s,c)=>i(s,c,o)):hv.y,Qx(1),e?Pd(t):cv(()=>new Hp))}())}expandSegment(t,e,o,s,c,f){return(0,Jt.D)(o).pipe(vl(m=>this.expandSegmentAgainstRoute(t,e,o,m,s,c,f).pipe(nl(b=>{if(b instanceof l0)return(0,Ne.of)(null);throw b}))),za(m=>!!m),nl((m,y)=>{if(m instanceof Hp||"EmptyError"===m.name){if(DP(e,s,c))return(0,Ne.of)(new Et([],{}));throw new l0(e)}throw m}))}expandSegmentAgainstRoute(t,e,o,s,c,f,m){return SP(s,e,c,f)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,c,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,s,c,f):ET(e):ET(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,s,c,f){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,s,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,s,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,s){const c=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?MP(c):this.lineralizeSegments(o,c).pipe((0,mn.zg)(f=>{const m=new Et(f,{});return this.expandSegment(t,m,e,f,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,s,c,f){const{matched:m,consumedSegments:y,lastChild:b,positionalParamSegments:C}=bT(e,s,c);if(!m)return ET(e);const D=this.applyRedirectCommands(y,s.redirectTo,C);return s.redirectTo.startsWith("/")?MP(D):this.lineralizeSegments(s,D).pipe((0,mn.zg)(T=>this.expandSegment(t,e,o,T.concat(c.slice(b)),f,!1)))}matchSegmentAgainstRoute(t,e,o,s,c){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Ne.of)(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,Le.U)(T=>(o._loadedConfig=T,new Et(s,{})))):(0,Ne.of)(new Et(s,{}));const{matched:f,consumedSegments:m,lastChild:y}=bT(e,o,s);if(!f)return ET(e);const b=s.slice(y);return this.getChildConfig(t,o,s).pipe((0,mn.zg)(D=>{const T=D.module,A=D.routes,{segmentGroup:R,slicedSegments:V}=wT(e,m,b,A),Z=new Et(R.segments,R.children);if(0===V.length&&Z.hasChildren())return this.expandChildren(T,A,Z).pipe((0,Le.U)(Oe=>new Et(m,Oe)));if(0===A.length&&0===V.length)return(0,Ne.of)(new Et(m,{}));const le=Bo(o)===c;return this.expandSegment(T,Z,A,V,le?_t:c,!0).pipe((0,Le.U)(we=>new Et(m.concat(we.segments),we.children)))}))}getChildConfig(t,e,o){return e.children?(0,Ne.of)(new cR(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ne.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,mn.zg)(s=>s?this.configLoader.load(t.injector,e).pipe((0,Le.U)(c=>(e._loadedConfig=c,c))):function(i){return new Vt.y(t=>t.error(Xx(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(e))):(0,Ne.of)(new cR([],t))}runCanLoadGuards(t,e,o){const s=e.canLoad;if(!s||0===s.length)return(0,Ne.of)(!0);const c=s.map(f=>{const m=t.get(f);let y;if(function(i){return i&&cc(i.canLoad)}(m))y=m.canLoad(e,o);else{if(!cc(m))throw new Error("Invalid CanLoad guard");y=m(e,o)}return ea(y)});return(0,Ne.of)(c).pipe(a0(),(0,ir.b)(f=>{if(!Ch(f))return;const m=Xx(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,Le.U)(f=>!0===f))}lineralizeSegments(t,e){let o=[],s=e.root;for(;;){if(o=o.concat(s.segments),0===s.numberOfChildren)return(0,Ne.of)(o);if(s.numberOfChildren>1||!s.children[_t])return pj(t.redirectTo);s=s.children[_t]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,s){const c=this.createSegmentGroup(t,e.root,o,s);return new bh(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return Lr(t,(s,c)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);o[c]=e[m]}else o[c]=s}),o}createSegmentGroup(t,e,o,s){const c=this.createSegments(t,e.segments,o,s);let f={};return Lr(e.children,(m,y)=>{f[y]=this.createSegmentGroup(t,m,o,s)}),new Et(c,f)}createSegments(t,e,o,s){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,s):this.findOrReturn(c,o))}findPosParam(t,e,o){const s=o[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let o=0;for(const s of e){if(s.path===t.path)return e.splice(o),s;o++}return t}}function hR(i){const t={};for(const o of Object.keys(i.children)){const c=hR(i.children[o]);(c.segments.length>0||c.hasChildren())&&(t[o]=c)}return function(i){if(1===i.numberOfChildren&&i.children[_t]){const t=i.children[_t];return new Et(i.segments.concat(t.segments),t.children)}return i}(new Et(i.segments,t))}class AP{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ST{constructor(t,e){this.component=t,this.route=e}}function bj(i,t,e){const o=i._root;return u0(o,t?t._root:null,e,[o.value])}function DT(i,t,e){const o=function(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(i)}function u0(i,t,e,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=r0(t);return i.children.forEach(f=>{(function(i,t,e,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=i.value,f=t?t.value:null,m=e?e.getContext(i.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const y=function(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!wh(i.url,t.url);case"pathParamsOrQueryParamsChange":return!wh(i.url,t.url)||!Xs(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sR(i,t)||!Xs(i.queryParams,t.queryParams);case"paramsChange":default:return!sR(i,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);y?s.canActivateChecks.push(new AP(o)):(c.data=f.data,c._resolvedData=f._resolvedData),u0(i,t,c.component?m?m.children:null:e,o,s),y&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new ST(m.outlet.component,f))}else f&&c0(t,m,s),s.canActivateChecks.push(new AP(o)),u0(i,null,c.component?m?m.children:null:e,o,s)})(f,c[f.value.outlet],e,o.concat([f.value]),s),delete c[f.value.outlet]}),Lr(c,(f,m)=>c0(f,e.getContext(m),s)),s}function c0(i,t,e){const o=r0(i),s=i.value;Lr(o,(c,f)=>{c0(c,s.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new ST(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class kj{}function IP(i){return new Vt.y(t=>t.error(i))}class Nj{constructor(t,e,o,s,c,f){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const t=wT(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,_t);if(null===e)return null;const o=new mT([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ol(o,e),c=new dP(this.url,s);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,o=cP(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const c of Object.keys(e.children)){const f=e.children[c],m=CP(t,c),y=this.processSegmentGroup(m,f,c);if(null===y)return null;o.push(...y)}const s=xP(o);return function(i){i.sort((t,e)=>t.value.outlet===_t?-1:e.value.outlet===_t?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,o,s){for(const c of t){const f=this.processSegmentAgainstRoute(c,e,o,s);if(null!==f)return f}return DP(e,o,s)?[]:null}processSegmentAgainstRoute(t,e,o,s){if(t.redirectTo||!SP(t,e,o,s))return null;let c,f=[],m=[];if("**"===t.path){const A=o.length>0?QN(o).parameters:{};c=new mT(o,A,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kP(t),Bo(t),t.component,t,RP(e),OP(e)+o.length,FP(t))}else{const A=bT(e,t,o);if(!A.matched)return null;f=A.consumedSegments,m=o.slice(A.lastChild),c=new mT(f,A.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kP(t),Bo(t),t.component,t,RP(e),OP(e)+f.length,FP(t))}const y=function(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:C}=wT(e,f,m,y.filter(A=>void 0===A.redirectTo),this.relativeLinkResolution);if(0===C.length&&b.hasChildren()){const A=this.processChildren(y,b);return null===A?null:[new ol(c,A)]}if(0===y.length&&0===C.length)return[new ol(c,[])];const D=Bo(t)===s,T=this.processSegment(y,b,C,D?_t:s);return null===T?null:[new ol(c,T)]}}function Vj(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function xP(i){const t=[],e=new Set;for(const o of i){if(!Vj(o)){t.push(o);continue}const s=t.find(c=>o.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...o.children),e.add(s)):t.push(o)}for(const o of e){const s=xP(o.children);t.push(new ol(o.value,s))}return t.filter(o=>!e.has(o))}function RP(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function OP(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function kP(i){return i.data||{}}function FP(i){return i.resolve||{}}function fR(i){return Rn(t=>{const e=i(t);return e?(0,Jt.D)(e).pipe((0,Le.U)(()=>t)):(0,Ne.of)(t)})}class $j extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const pR=new d.OlP("ROUTES");class NP{constructor(t,e,o,s){this.loader=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe((0,Le.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=c.create(t);return new cR(KN(f.injector.get(pR,void 0,d.XFs.Self|d.XFs.Optional)).map(dR),f)}),nl(c=>{throw e._loader$=void 0,c}));return e._loader$=new a3.c(s,()=>new je.xQ).pipe((0,d3.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Jt.D)(this.loader.load(t)):ea(t()).pipe((0,mn.zg)(e=>e instanceof d.YKP?(0,Ne.of)(e):(0,Jt.D)(this.compiler.compileModuleAsync(e))))}}class Yj{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nm,this.attachRef=null}}class nm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Yj,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Zj{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Kj(i){throw i}function Qj(i,t,e){return t.parse("/")}function PP(i,t){return(0,Ne.of)(null)}const Jj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class i{constructor(e,o,s,c,f,m,y,b){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=s,this.location=c,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je.xQ,this.errorHandler=Kj,this.malformedUriErrorHandler=Qj,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:PP,afterPreactivation:PP},this.urlHandlingStrategy=new Zj,this.routeReuseStrategy=new $j,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(d.h0i),this.console=f.get(d.c2e);const T=f.get(d.R0b);this.isNgZoneEnabled=T instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=new bh(new Et([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new NP(m,y,A=>this.triggerEvent(new zN(A)),A=>this.triggerEvent(new $N(A))),this.routerState=uP(this.currentUrlTree,this.rootComponentType),this.transitions=new hi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(Ft(s=>0!==s.id),(0,Le.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Rn(s=>{let c=!1,f=!1;return(0,Ne.of)(s).pipe((0,ir.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rn(m=>{const y=!this.navigated||m.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return(0,Ne.of)(m).pipe(Rn(C=>{const D=this.transitions.getValue();return o.next(new Jx(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),D!==this.transitions.getValue()?Ro.E:Promise.resolve(C)}),function(i,t,e,o){return Rn(s=>function(i,t,e,o,s){return new _j(i,t,e,o,s).apply()}(i,t,e,s.extractedUrl,o).pipe((0,Le.U)(c=>Object.assign(Object.assign({},s),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ir.b)(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function(i,t,e,o,s){return(0,mn.zg)(c=>function(i,t,e,o,s="emptyOnly",c="legacy"){try{const f=new Nj(i,t,e,o,s,c).recognize();return null===f?IP(new kj):(0,Ne.of)(f)}catch(f){return IP(f)}}(i,t,c.urlAfterRedirects,e(c.urlAfterRedirects),o,s).pipe((0,Le.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ir.b)(C=>{"eager"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(C.urlAfterRedirects,C),this.browserUrlTree=C.urlAfterRedirects);const D=new f3(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);o.next(D)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:T,source:A,restoredState:R,extras:V}=m,Z=new Jx(D,this.serializeUrl(T),A,R);o.next(Z);const le=uP(T,this.rootComponentType).snapshot;return(0,Ne.of)(Object.assign(Object.assign({},m),{targetSnapshot:le,urlAfterRedirects:T,extras:Object.assign(Object.assign({},V),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,this.browserUrlTree=m.urlAfterRedirects,m.resolve(null),Ro.E}),fR(m=>{const{targetSnapshot:y,id:b,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:T,replaceUrl:A}}=m;return this.hooks.beforePreactivation(y,{navigationId:b,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!T,replaceUrl:!!A})}),(0,ir.b)(m=>{const y=new p3(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}),(0,Le.U)(m=>Object.assign(Object.assign({},m),{guards:bj(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function(i,t){return(0,mn.zg)(e=>{const{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?(0,Ne.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,t,e,o){return(0,Jt.D)(i).pipe((0,mn.zg)(s=>function(i,t,e,o,s){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Ne.of)(!0);const f=c.map(m=>{const y=DT(m,t,s);let b;if(function(i){return i&&cc(i.canDeactivate)}(y))b=ea(y.canDeactivate(i,t,e,o));else{if(!cc(y))throw new Error("Invalid CanDeactivate guard");b=ea(y(i,t,e,o))}return b.pipe(za())});return(0,Ne.of)(f).pipe(a0())}(s.component,s.route,e,t,o)),za(s=>!0!==s,!0))}(f,o,s,i).pipe((0,mn.zg)(m=>m&&function(i){return"boolean"==typeof i}(m)?function(i,t,e,o){return(0,Jt.D)(t).pipe(vl(s=>$o(function(i,t){return null!==i&&t&&t(new y3(i)),(0,Ne.of)(!0)}(s.route.parent,o),function(i,t){return null!==i&&t&&t(new b3(i)),(0,Ne.of)(!0)}(s.route,o),function(i,t,e){const o=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(f)).filter(f=>null!==f).map(f=>Ux(()=>{const m=f.guards.map(y=>{const b=DT(y,f.node,e);let C;if(function(i){return i&&cc(i.canActivateChild)}(b))C=ea(b.canActivateChild(o,i));else{if(!cc(b))throw new Error("Invalid CanActivateChild guard");C=ea(b(o,i))}return C.pipe(za())});return(0,Ne.of)(m).pipe(a0())}));return(0,Ne.of)(c).pipe(a0())}(i,s.path,e),function(i,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Ne.of)(!0);const s=o.map(c=>Ux(()=>{const f=DT(c,t,e);let m;if(function(i){return i&&cc(i.canActivate)}(f))m=ea(f.canActivate(t,i));else{if(!cc(f))throw new Error("Invalid CanActivate guard");m=ea(f(t,i))}return m.pipe(za())}));return(0,Ne.of)(s).pipe(a0())}(i,s.route,e))),za(s=>!0!==s,!0))}(o,c,i,t):(0,Ne.of)(m)),(0,Le.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,ir.b)(m=>{if(Ch(m.guardsResult)){const b=Xx(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw b.url=m.guardsResult,b}const y=new g3(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(y)}),Ft(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),fR(m=>{if(m.guards.canActivateChecks.length)return(0,Ne.of)(m).pipe((0,ir.b)(y=>{const b=new m3(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),Rn(y=>{let b=!1;return(0,Ne.of)(y).pipe(function(i,t){return(0,mn.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:s}}=e;if(!s.length)return(0,Ne.of)(e);let c=0;return(0,Jt.D)(s).pipe(vl(f=>function(i,t,e,o){return function(i,t,e,o){const s=Object.keys(i);if(0===s.length)return(0,Ne.of)({});const c={};return(0,Jt.D)(s).pipe((0,mn.zg)(f=>function(i,t,e,o){const s=DT(i,t,o);return ea(s.resolve?s.resolve(t,e):s(t,e))}(i[f],t,e,o).pipe((0,ir.b)(m=>{c[f]=m}))),Qx(1),(0,mn.zg)(()=>Object.keys(c).length===s.length?(0,Ne.of)(c):Ro.E))}(i._resolve,i,t,o).pipe((0,Le.U)(c=>(i._resolvedData=c,i.data=Object.assign(Object.assign({},i.data),cP(i,e).resolve),null)))}(f.route,o,i,t)),(0,ir.b)(()=>c++),Qx(1),(0,mn.zg)(f=>c===s.length?(0,Ne.of)(e):Ro.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ir.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,ir.b)(y=>{const b=new _3(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),fR(m=>{const{targetSnapshot:y,id:b,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:T,replaceUrl:A}}=m;return this.hooks.afterPreactivation(y,{navigationId:b,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!T,replaceUrl:!!A})}),(0,Le.U)(m=>{const y=function(i,t,e){const o=_T(i,t._root,e?e._root:void 0);return new lP(o,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:y})}),(0,ir.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((i,t,e)=>(0,Le.U)(o=>(new tj(t,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,ir.b)({next(){c=!0},complete(){c=!0}}),dN(()=>{if(!c&&!f){const m=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,m)):this.cancelNavigationTransition(s,m)}this.currentNavigation=null}),nl(m=>{if(f=!0,function(i){return i&&i[WN]}(m)){const y=Ch(m.url);y||(this.navigated=!0,this.restoreHistory(s,!0));const b=new qN(s.id,this.serializeUrl(s.extractedUrl),m.message);o.next(b),y?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree);this.scheduleNavigation(C,"imperative",null,{skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const y=new h3(s.id,this.serializeUrl(s.extractedUrl),m);o.next(y);try{s.resolve(this.errorHandler(m))}catch(b){s.reject(b)}}return Ro.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:s,state:c,urlTree:f}=o,m={replaceUrl:!0};if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(m.state=y)}this.scheduleNavigation(f,s,c,m)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const s=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!s||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){wP(e),this.config=e.map(dR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:s,queryParams:c,fragment:f,queryParamsHandling:m,preserveFragment:y}=o,b=s||this.routerState.root,C=y?this.currentUrlTree.fragment:f;let D=null;switch(m){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=c||null}return null!==D&&(D=this.removeEmptyProps(D)),function(i,t,e,o,s){if(0===e.length)return aR(t.root,t.root,t,o,s);const c=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new gP(!0,0,i);let t=0,e=!1;const o=i.reduce((s,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return Lr(c.outlets,(y,b)=>{m[b]="string"==typeof y?y.split("/"):y}),[...s,{outlets:m}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===f?(c.split("/").forEach((m,y)=>{0==y&&"."===m||(0==y&&""===m?e=!0:".."===m?t++:""!=m&&s.push(m))}),s):[...s,c]},[]);return new gP(e,t,o)}(e);if(c.toRoot())return aR(t.root,new Et([],{}),t,o,s);const f=function(i,t,e){if(i.isAbsolute)return new lR(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new lR(c,c===t.root,0)}const o=yT(i.commands[0])?0:1;return function(i,t,e){let o=i,s=t,c=e;for(;c>s;){if(c-=s,o=o.parent,!o)throw new Error("Invalid number of '../'");s=o.segments.length}return new lR(o,!1,s-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(c,t,i),m=f.processChildren?vT(f.segmentGroup,f.index,c.commands):mP(f.segmentGroup,f.index,c.commands);return aR(f.segmentGroup,m,t,o,s)}(b,this.currentUrlTree,e,D,null!=C?C:null)}navigateByUrl(e,o={skipLocationChange:!1}){const s=Ch(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(s){o=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return o}isActive(e,o){let s;if(s=!0===o?Object.assign({},Jj):!1===o?Object.assign({},Xj):o,Ch(e))return XN(this.currentUrlTree,e,s);const c=this.parseUrl(e);return XN(this.currentUrlTree,c,s)}removeEmptyProps(e){return Object.keys(e).reduce((o,s)=>{const c=e[s];return null!=c&&(o[s]=c),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new e0(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,s,c,f){var m,y;if(this.disposed)return Promise.resolve(!1);const b=this.getTransition(),C="imperative"!==o&&"imperative"===(null==b?void 0:b.source),A=(this.lastSuccessfulId===b.id||this.currentNavigation?b.rawUrl:b.urlAfterRedirects).toString()===e.toString();if(C&&A)return Promise.resolve(!0);let R,V,Z;f?(R=f.resolve,V=f.reject,Z=f.promise):Z=new Promise((we,Oe)=>{R=we,V=Oe});const le=++this.navigationId;let me;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),me=s&&s.\u0275routerPageId?s.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):me=0,this.setTransition({id:le,targetPageId:me,source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:R,reject:V,promise:Z,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Z.catch(we=>Promise.reject(we))}setBrowserUrl(e,o){const s=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl?this.location.replaceState(s,"",c):this.location.go(s,"",c)}restoreHistory(e,o=!1){var s,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const s=new qN(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.DyG),d.LFG(eR),d.LFG(nm),d.LFG(ut),d.LFG(d.zs3),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),_R=(()=>{class i{constructor(e,o,s,c,f){this.parentContexts=e,this.location=o,this.resolver=s,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.name=c||_t,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,y=new nH(e,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(nm),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},i.\u0275dir=d.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class nH{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===tm?this.route:t===nm?this.childContexts:this.parent.get(t,e)}}class LP{}class VP{preload(t,e){return(0,Ne.of)(null)}}let BP=(()=>{class i{constructor(e,o,s,c,f){this.router=e,this.injector=c,this.preloadingStrategy=f,this.loader=new NP(o,s,b=>e.triggerEvent(new zN(b)),b=>e.triggerEvent(new $N(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ft(e=>e instanceof e0),vl(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(d.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const s=[];for(const c of o)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;s.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?s.push(this.preloadConfig(e,c)):c.children&&s.push(this.processRoutes(e,c.children));return(0,Jt.D)(s).pipe((0,gr.J)(),(0,Le.U)(c=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Ne.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,mn.zg)(c=>(o._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Hi),d.LFG(d.v3s),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(LP))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})(),yR=(()=>{class i{constructor(e,o,s={}){this.router=e,this.viewportScroller=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Jx?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof e0&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof YN&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new YN(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Hi),d.LFG(gm),d.LFG(void 0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const Eh=new d.OlP("ROUTER_CONFIGURATION"),UP=new d.OlP("ROUTER_FORROOT_GUARD"),oH=[ut,{provide:eR,useClass:rP},{provide:Hi,useFactory:function(i,t,e,o,s,c,f,m={},y,b){const C=new Hi(null,i,t,e,o,s,c,KN(f));return y&&(C.urlHandlingStrategy=y),b&&(C.routeReuseStrategy=b),function(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy)}(m,C),m.enableTracing&&C.events.subscribe(D=>{var T,A;null===(T=console.group)||void 0===T||T.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(A=console.groupEnd)||void 0===A||A.call(console)}),C},deps:[eR,nm,ut,d.zs3,d.v3s,d.Sil,pR,Eh,[class{},new d.FiY],[class{},new d.FiY]]},nm,{provide:tm,useFactory:function(i){return i.routerState.root},deps:[Hi]},{provide:d.v3s,useClass:d.EAV},BP,VP,class{preload(t,e){return e().pipe(nl(()=>(0,Ne.of)(null)))}},{provide:Eh,useValue:{enableTracing:!1}}];function sH(){return new d.PXZ("Router",Hi)}let jP=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[oH,HP(e),{provide:UP,useFactory:uH,deps:[[Hi,new d.FiY,new d.tp0]]},{provide:Eh,useValue:o||{}},{provide:De,useFactory:lH,deps:[q,[new d.tBr(Te),new d.FiY],Eh]},{provide:yR,useFactory:aH,deps:[Hi,gm,Eh]},{provide:LP,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:VP},{provide:d.PXZ,multi:!0,useFactory:sH},[vR,{provide:d.ip1,multi:!0,useFactory:fH,deps:[vR]},{provide:GP,useFactory:pH,deps:[vR]},{provide:d.tb,multi:!0,useExisting:GP}]]}}static forChild(e){return{ngModule:i,providers:[HP(e)]}}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(UP,8),d.LFG(Hi,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function aH(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new yR(i,t,e)}function lH(i,t,e={}){return e.useHash?new hn(i,t):new St(i,t)}function uH(i){return"guarded"}function HP(i){return[{provide:d.deG,multi:!0,useValue:i},{provide:pR,multi:!0,useValue:i}]}let vR=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je.xQ}appInitializer(){return this.injector.get(O,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const s=new Promise(m=>o=m),c=this.injector.get(Hi),f=this.injector.get(Eh);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),o(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Ne.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),c.initialNavigation()):o(!0),s})}bootstrapListener(e){const o=this.injector.get(Eh),s=this.injector.get(BP),c=this.injector.get(yR),f=this.injector.get(Hi),m=this.injector.get(d.z2F);e===m.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&f.initialNavigation(),s.setUpPreloading(),c.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.zs3))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function fH(i){return i.appInitializer.bind(i)}function pH(i){return i.bootstrapListener.bind(i)}const GP=new d.OlP("Router Initializer");function qP(...i){return t=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),t.lift(new mH(i,e))}}class mH{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new _H(t,this.observables,this.project))}}class _H extends TF{constructor(t,e,o){super(t),this.observables=e,this.project=o,this.toRespond=[];const s=e.length;this.values=new Array(s);for(let c=0;c<s;c++)this.toRespond.push(c);for(let c=0;c<s;c++)this.add(MF(this,e[c],void 0,c))}notifyNext(t,e,o){this.values[o]=e;const s=this.toRespond;if(s.length>0){const c=s.indexOf(o);-1!==c&&s.splice(c,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const d0={};function sl(i,t){if(d0[i]=(d0[i]||0)+1,"function"==typeof t)return bR(i,(...o)=>Object.assign(Object.assign({},t(...o)),{type:i}));switch(t?t._as:"empty"){case"empty":return bR(i,()=>({type:i}));case"props":return bR(i,o=>Object.assign(Object.assign({},o),{type:i}));default:throw new Error("Unexpected config.")}}function bR(i,t){return Object.defineProperty(t,"type",{value:i,writable:!1})}const zP="@ngrx/store/init";let im=(()=>{class i extends hi{constructor(){super({type:zP})}next(e){if("function"==typeof e)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===e)throw new TypeError("Actions must be objects");if(void 0===e.type)throw new TypeError("Actions must have a type property");super.next(e)}complete(){}ngOnDestroy(){super.complete()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const bH=[im],$P=new d.OlP("@ngrx/store Internal Root Guard"),YP=new d.OlP("@ngrx/store Internal Initial State"),wR=new d.OlP("@ngrx/store Initial State"),WP=new d.OlP("@ngrx/store Reducer Factory"),ZP=new d.OlP("@ngrx/store Internal Reducer Factory Provider"),KP=new d.OlP("@ngrx/store Initial Reducers"),CR=new d.OlP("@ngrx/store Internal Initial Reducers"),QP=new d.OlP("@ngrx/store Store Features"),JP=new d.OlP("@ngrx/store Internal Store Reducers"),ER=new d.OlP("@ngrx/store Internal Feature Reducers"),XP=new d.OlP("@ngrx/store Internal Feature Configs"),eL=new d.OlP("@ngrx/store Internal Store Features"),tL=new d.OlP("@ngrx/store Internal Feature Reducers Token"),nL=new d.OlP("@ngrx/store Feature Reducers"),rL=new d.OlP("@ngrx/store User Provided Meta Reducers"),TT=new d.OlP("@ngrx/store Meta Reducers"),iL=new d.OlP("@ngrx/store Internal Resolved Meta Reducers"),oL=new d.OlP("@ngrx/store User Runtime Checks Config"),sL=new d.OlP("@ngrx/store Internal User Runtime Checks Config"),f0=new d.OlP("@ngrx/store Internal Runtime Checks"),SR=new d.OlP("@ngrx/store Check if Action types are unique");function DR(i,t={}){const e=Object.keys(i),o={};for(let c=0;c<e.length;c++){const f=e[c];"function"==typeof i[f]&&(o[f]=i[f])}const s=Object.keys(o);return function(f,m){f=void 0===f?t:f;let y=!1;const b={};for(let C=0;C<s.length;C++){const D=s[C],A=f[D],R=(0,o[D])(A,m);b[D]=R,y=y||R!==A}return y?b:f}}function TR(...i){return function(t){if(0===i.length)return t;const e=i[i.length-1];return i.slice(0,-1).reduceRight((s,c)=>c(s),e(t))}}function aL(i,t){return Array.isArray(t)&&t.length>0&&(i=TR.apply(null,[...t,i])),(e,o)=>{const s=i(e);return(c,f)=>s(c=void 0===c?o:c,f)}}class MR extends Vt.y{}class lL extends im{}let MT=(()=>{class i extends hi{constructor(e,o,s,c){super(c(s,o)),this.dispatcher=e,this.initialState=o,this.reducers=s,this.reducerFactory=c}get currentReducers(){return this.reducers}addFeature(e){this.addFeatures([e])}addFeatures(e){const o=e.reduce((s,{reducers:c,reducerFactory:f,metaReducers:m,initialState:y,key:b})=>{const C="function"==typeof c?function(i){const t=Array.isArray(i)&&i.length>0?TR(...i):e=>e;return(e,o)=>(e=t(e),(s,c)=>e(s=void 0===s?o:s,c))}(m)(c,y):aL(f,m)(c,y);return s[b]=C,s},{});this.addReducers(o)}removeFeature(e){this.removeFeatures([e])}removeFeatures(e){this.removeReducers(e.map(o=>o.key))}addReducer(e,o){this.addReducers({[e]:o})}addReducers(e){this.reducers=Object.assign(Object.assign({},this.reducers),e),this.updateReducers(Object.keys(e))}removeReducer(e){this.removeReducers([e])}removeReducers(e){e.forEach(o=>{this.reducers=function(i,t){return Object.keys(i).filter(e=>e!==t).reduce((e,o)=>Object.assign(e,{[o]:i[o]}),{})}(this.reducers,o)}),this.updateReducers(e)}updateReducers(e){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:e})}ngOnDestroy(){this.complete()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(lL),d.LFG(wR),d.LFG(KP),d.LFG(WP))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const SH=[MT,{provide:MR,useExisting:MT},{provide:lL,useExisting:im}];let AT=(()=>{class i extends je.xQ{ngOnDestroy(){this.complete()}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=d.n5z(i)))(o||i)}}(),i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const DH=[AT];class uL extends Vt.y{}let cL=(()=>{class i extends hi{constructor(e,o,s,c){super(c);const b=e.pipe((0,Jr.QV)(aS.N)).pipe(qP(o)).pipe(Dl(TH,{state:c}));this.stateSubscription=b.subscribe(({state:C,action:D})=>{this.next(C),s.next(D)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(im),d.LFG(MR),d.LFG(AT),d.LFG(wR))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i.INIT=zP,i})();function TH(i={state:void 0},[t,e]){const{state:o}=i;return{state:e(o,t),action:t}}const MH=[cL,{provide:uL,useExisting:cL}];let cs=(()=>{class i extends Vt.y{constructor(e,o,s){super(),this.actionsObserver=o,this.reducerManager=s,this.source=e}select(e,...o){return IH.call(null,e,...o)(this)}lift(e){const o=new i(this,this.actionsObserver,this.reducerManager);return o.operator=e,o}dispatch(e){this.actionsObserver.next(e)}next(e){this.actionsObserver.next(e)}error(e){this.actionsObserver.error(e)}complete(){this.actionsObserver.complete()}addReducer(e,o){this.reducerManager.addReducer(e,o)}removeReducer(e){this.reducerManager.removeReducer(e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(uL),d.LFG(im),d.LFG(MT))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const AH=[cs];function IH(i,t,...e){return function(s){let c;if("string"==typeof i){const f=[t,...e].filter(Boolean);c=s.pipe(function(...i){const t=i.length;if(0===t)throw new Error("list of properties cannot be empty.");return e=>(0,Le.U)(function(i,t){return o=>{let s=o;for(let c=0;c<t;c++){const f=null!=s?s[i[c]]:void 0;if(void 0===f)return;s=f}return s}}(i,t))(e)}(i,...f))}else{if("function"!=typeof i)throw new TypeError(`Unexpected type '${typeof i}' in select operator, expected 'string' or 'function'`);c=s.pipe((0,Le.U)(f=>i(f,t)))}return c.pipe(Tl())}}const AR="https://ngrx.io/guide/store/configuration/runtime-checks";function hL(i){return void 0===i}function fL(i){return null===i}function pL(i){return Array.isArray(i)}function gL(i){return"object"==typeof i&&null!==i}function IR(i){return"function"==typeof i}function xR(i,t){return i===t}function LH(i,t,e){for(let o=0;o<i.length;o++)if(!e(i[o],t[o]))return!0;return!1}function RR(i,t=xR,e=xR){let c,o=null,s=null;return{memoized:function(){if(void 0!==c)return c.result;if(!o)return s=i.apply(null,arguments),o=arguments,s;if(!LH(arguments,o,t))return s;const C=i.apply(null,arguments);return o=arguments,e(s,C)?s:(s=C,C)},reset:function(){o=null,s=null},setResult:function(C){c={result:C}},clearResult:function(){c=void 0}}}function al(...i){return function(i,t={stateFn:VH}){return function(...e){let o=e;if(Array.isArray(o[0])){const[C,...D]=o;o=[...C,...D]}const s=o.slice(0,o.length-1),c=o[o.length-1],f=s.filter(C=>C.release&&"function"==typeof C.release),m=i(function(...C){return c.apply(null,C)}),y=RR(function(C,D){return t.stateFn.apply(null,[C,s,D,m])});return Object.assign(y.memoized,{release:function(){y.reset(),m.reset(),f.forEach(C=>C.release())},projector:m.memoized,setResult:y.setResult,clearResult:y.clearResult})}}(RR)(...i)}function VH(i,t,e,o){if(void 0===e){const c=t.map(f=>f(i));return o.memoized.apply(null,c)}const s=t.map(c=>c(i,e));return o.memoized.apply(null,[...s,e])}function OR(i){Object.freeze(i);const t=IR(i);return Object.getOwnPropertyNames(i).forEach(e=>{if(!e.startsWith("\u0275")&&function(i,t){return Object.prototype.hasOwnProperty.call(i,t)}(i,e)&&(!t||"caller"!==e&&"callee"!==e&&"arguments"!==e)){const o=i[e];(gL(o)||IR(o))&&!Object.isFrozen(o)&&OR(o)}}),i}function kR(i,t=[]){return(hL(i)||fL(i))&&0===t.length?{path:["root"],value:i}:Object.keys(i).reduce((o,s)=>{if(o)return o;const c=i[s];return function(i){return IR(i)&&i.hasOwnProperty("\u0275cmp")}(c)?o:!(hL(c)||fL(c)||function(i){return"number"==typeof i}(c)||function(i){return"boolean"==typeof i}(c)||function(i){return"string"==typeof i}(c)||pL(c))&&(function(i){if(!function(i){return gL(i)&&!pL(i)}(i))return!1;const t=Object.getPrototypeOf(i);return t===Object.prototype||null===t}(c)?kR(c,[...t,s]):{path:[...t,s],value:c})},!1)}function vL(i,t){if(!1===i)return;const e=i.path.join("."),o=new Error(`Detected unserializable ${t} at "${e}". ${AR}#strict${t}serializability`);throw o.value=i.value,o.unserializablePath=e,o}function zH(i){return(0,d.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},i):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function $H({strictActionSerializability:i,strictStateSerializability:t}){return e=>i||t?function(i,t){return function(e,o){t.action(o)&&vL(kR(o),"action");const s=i(e,o);return t.state()&&vL(kR(s),"state"),s}}(e,{action:o=>i&&!FR(o),state:()=>t}):e}function YH({strictActionImmutability:i,strictStateImmutability:t}){return e=>i||t?function(i,t){return function(e,o){const s=t.action(o)?OR(o):o,c=i(e,s);return t.state()?OR(c):c}}(e,{action:o=>i&&!FR(o),state:()=>t}):e}function FR(i){return i.type.startsWith("@ngrx")}function WH({strictActionWithinNgZone:i}){return t=>i?function(i,t){return function(e,o){if(t.action(o)&&!d.R0b.isInAngularZone())throw new Error(`Action '${o.type}' running outside NgZone. ${AR}#strictactionwithinngzone`);return i(e,o)}}(t,{action:e=>i&&!FR(e)}):t}function ZH(i){return[{provide:sL,useValue:i},{provide:oL,useFactory:KH,deps:[sL]},{provide:f0,deps:[oL],useFactory:zH},{provide:TT,multi:!0,deps:[f0],useFactory:YH},{provide:TT,multi:!0,deps:[f0],useFactory:$H},{provide:TT,multi:!0,deps:[f0],useFactory:WH}]}function bL(){return[{provide:SR,multi:!0,deps:[f0],useFactory:QH}]}function KH(i){return i}function QH(i){if(!i.strictActionTypeUniqueness)return;const t=Object.entries(d0).filter(([,e])=>e>1).map(([e])=>e);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(e=>`"${e}"`).join(", ")}. ${AR}#strictactiontypeuniqueness`)}let IT=(()=>{class i{constructor(e,o,s,c,f,m){}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(im),d.LFG(MR),d.LFG(AT),d.LFG(cs),d.LFG($P,8),d.LFG(SR,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),NR=(()=>{class i{constructor(e,o,s,c,f){this.features=e,this.featureReducers=o,this.reducerManager=s;const m=e.map((y,b)=>{const D=o.shift()[b];return Object.assign(Object.assign({},y),{reducers:D,initialState:wL(y.initialState)})});s.addFeatures(m)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(eL),d.LFG(nL),d.LFG(MT),d.LFG(IT),d.LFG(SR,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),JH=(()=>{class i{static forRoot(e,o={}){return{ngModule:IT,providers:[{provide:$P,useFactory:rG,deps:[[cs,new d.FiY,new d.tp0]]},{provide:YP,useValue:o.initialState},{provide:wR,useFactory:wL,deps:[YP]},{provide:CR,useValue:e},{provide:JP,useExisting:e instanceof d.OlP?e:CR},{provide:KP,deps:[d.zs3,CR,[new d.tBr(JP)]],useFactory:XH},{provide:rL,useValue:o.metaReducers?o.metaReducers:[]},{provide:iL,deps:[TT,rL],useFactory:nG},{provide:ZP,useValue:o.reducerFactory?o.reducerFactory:DR},{provide:WP,deps:[ZP,iL],useFactory:aL},bH,SH,DH,MH,AH,ZH(o.runtimeChecks),bL()]}}static forFeature(e,o,s={}){return{ngModule:NR,providers:[{provide:XP,multi:!0,useValue:e instanceof Object?{}:s},{provide:QP,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:s instanceof d.OlP||!s.reducerFactory?DR:s.reducerFactory,metaReducers:s instanceof d.OlP||!s.metaReducers?[]:s.metaReducers,initialState:s instanceof d.OlP||!s.initialState?void 0:s.initialState}},{provide:eL,deps:[d.zs3,XP,QP],useFactory:eG},{provide:ER,multi:!0,useValue:e instanceof Object?e.reducer:o},{provide:tL,multi:!0,useExisting:o instanceof d.OlP?o:ER},{provide:nL,multi:!0,deps:[d.zs3,ER,[new d.tBr(tL)]],useFactory:tG},bL()]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function XH(i,t){return t instanceof d.OlP?i.get(t):t}function eG(i,t,e){return e.map((o,s)=>{if(t[s]instanceof d.OlP){const c=i.get(t[s]);return{key:o.key,reducerFactory:c.reducerFactory?c.reducerFactory:DR,metaReducers:c.metaReducers?c.metaReducers:[],initialState:c.initialState}}return o})}function tG(i,t){return t.map(o=>o instanceof d.OlP?i.get(o):o)}function wL(i){return"function"==typeof i?i():i}function nG(i,t){return i.concat(t)}function rG(i){if(i)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function om(...i){return{reducer:i.pop(),types:i.map(o=>o.type)}}const zt={addSet:sl("[APP] Add Set",{_as:"props",_p:void 0}),deleteSet:sl("[APP] Delete Set",{_as:"props",_p:void 0}),fetchSets:sl("[APP] Fetch Sets"),init:sl("[APP] Init"),updateFilters:sl("[APP] Update Filters",{_as:"props",_p:void 0}),updateSet:sl("[APP] Update Set",{_as:"props",_p:void 0}),updateSetStore:sl("[APP] Update Set Store",{_as:"props",_p:void 0}),updateStorage:sl("[APP] Update Storage")},xT=function(i){return al(t=>{const e=t[i];return(0,d.X6Q)()&&!(i in t)&&console.warn(`@ngrx/store: The feature name "${i}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${i}', ...) or StoreModule.forFeature('${i}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),e},t=>t)}("setState"),RT=al(xT,({sets:i})=>i),PR=(al(xT,({error:i})=>i),al(xT,({filters:i})=>i)),fG=al(PR,i=>!!Object.keys(i).length),pG=(al(xT,({loading:i})=>i),al(RT,i=>i.length)),gG=al(RT,i=>i.reduce((t,{price:e})=>e&&+e?+e+t:t,0)),OT="brickset_api_key",p0="rebrickable_api_key";let g0=(()=>{class i{constructor(e){this.isSupported=!1,this.storage=e.localStorage;try{null!=this.storage&&(this.storage.setItem("TEST",'"TEST"'),this.storage.removeItem("TEST"),this.isSupported=!0)}catch(o){}}getStore(e){if(!this.isSupported)return null;try{return JSON.parse(this.storage.getItem(e))}catch(o){return null}}removeStore(e){if(this.isSupported)try{this.storage.removeItem(e)}catch(o){}}setStore(e,o){if(!this.isSupported)return!1;o=null!=o?JSON.stringify(o):null;try{this.storage.setItem(e,o)}catch(s){return!1}return!0}}return i.\u0275fac=function(e){return new(e||i)(d.LFG("Window"))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),CL=(()=>{class i{constructor(e,o){this.http=e,this.storageService=o}brickset(e){return this.http.get("/assets/test-data.json").pipe((0,Le.U)(o=>o.find(s=>(null==s?void 0:s.number)===e)))}import(){}rebrickable(e){const o=`https://rebrickable.com/api/v3/lego/sets/${e}`,s=new jr({Accept:"application/json",Authorization:`key ${this.storageService.getStore(p0)}`});return this.http.get(o,{headers:s})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(Ec),d.LFG(g0))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function wG(i,t){1&i&&(d.TgZ(0,"span"),d._uU(1,"This field is mandatory."),d.qZA())}function CG(i,t){if(1&i&&(d.TgZ(0,"mat-error"),d.YNc(1,wG,2,0,"span",5),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",null==e.setForm||null==e.setForm.controls||null==e.setForm.controls.number||null==e.setForm.controls.number.errors?null:e.setForm.controls.number.errors.required)}}let EG=(()=>{class i{constructor(e,o){this.apiService=e,this.formBuilder=o,this.editSet={},this.saveSet=new d.vpe,this.setForm=this.formBuilder.group({bricksetImage:"",bricksetUrl:"",name:"",number:[null,[ss.required]],opened:[!1,[]],pieces:"",price:"",rebrickableImage:"",rebrickableUrl:"",subtheme:"",theme:"",value:"",year:""})}ngOnInit(){this.editSet&&this.setForm.patchValue(this.editSet)}import(e){"brickset"===e&&this.apiService.brickset(this.editSet.number).subscribe(o=>{this.setForm.patchValue((i=>{var t;return{bricksetImage:(null===(t=null==i?void 0:i.image)||void 0===t?void 0:t.imageURL)||"",bricksetUrl:(null==i?void 0:i.bricksetURL)||"",name:(null==i?void 0:i.name)||"",pieces:(null==i?void 0:i.pieces)||"",subtheme:(null==i?void 0:i.subtheme)||"",theme:(null==i?void 0:i.theme)||"",year:(null==i?void 0:i.year)||""}})(o))})}submit(){this.setForm.valid&&this.saveSet.emit(this.setForm.value)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(CL),d.Y36(VD))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-set-form"]],inputs:{editSet:"editSet"},outputs:{saveSet:"saveSet"},decls:64,vars:2,consts:[[1,"content-wrapper"],[1,"form-wrapper"],[3,"formGroup","submit"],["color","accent"],["formControlName","number","matInput",""],[4,"ngIf"],["formControlName","opened"],["formControlName","name","matInput",""],["formControlName","pieces","matInput",""],["formControlName","year","matInput",""],["formControlName","theme","matInput",""],["formControlName","subtheme","matInput",""],["formControlName","price","matInput",""],["formControlName","value","matInput",""],["formControlName","bricksetImage","matInput",""],["formControlName","bricksetUrl","matInput",""],["formControlName","rebrickableImage","matInput",""],["formControlName","rebrickableUrl","matInput",""],[1,"button-container"],["mat-button","","type","button",3,"click"],["mat-stroked-button","","type","button",3,"click"],["color","primary","mat-raised-button","","type","submit"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"form",2),d.NdJ("submit",function(){return o.submit()}),d.TgZ(3,"mat-form-field",3),d.TgZ(4,"mat-label"),d._uU(5,"Set Number"),d.qZA(),d._UZ(6,"input",4),d.YNc(7,CG,2,1,"mat-error",5),d.qZA(),d.TgZ(8,"mat-slide-toggle",6),d._uU(9,"Opened"),d.qZA(),d.TgZ(10,"mat-form-field",3),d.TgZ(11,"mat-label"),d._uU(12,"Set Name"),d.qZA(),d._UZ(13,"input",7),d.qZA(),d.TgZ(14,"mat-form-field",3),d.TgZ(15,"mat-label"),d._uU(16,"Number of Pieces"),d.qZA(),d._UZ(17,"input",8),d.qZA(),d.TgZ(18,"mat-form-field",3),d.TgZ(19,"mat-label"),d._uU(20,"Year Released"),d.qZA(),d._UZ(21,"input",9),d.qZA(),d.TgZ(22,"mat-form-field",3),d.TgZ(23,"mat-label"),d._uU(24,"Theme"),d.qZA(),d._UZ(25,"input",10),d.qZA(),d.TgZ(26,"mat-form-field",3),d.TgZ(27,"mat-label"),d._uU(28,"Subtheme"),d.qZA(),d._UZ(29,"input",11),d.qZA(),d.TgZ(30,"mat-form-field",3),d.TgZ(31,"mat-label"),d._uU(32,"Price Paid"),d.qZA(),d._UZ(33,"input",12),d.qZA(),d.TgZ(34,"mat-form-field",3),d.TgZ(35,"mat-label"),d._uU(36,"Estimated Value"),d.qZA(),d._UZ(37,"input",13),d.qZA(),d.TgZ(38,"mat-form-field",3),d.TgZ(39,"mat-label"),d._uU(40,"Brickset Image"),d.qZA(),d._UZ(41,"input",14),d.qZA(),d.TgZ(42,"mat-form-field",3),d.TgZ(43,"mat-label"),d._uU(44,"Brickset URL"),d.qZA(),d._UZ(45,"input",15),d.qZA(),d.TgZ(46,"mat-form-field",3),d.TgZ(47,"mat-label"),d._uU(48,"Rebrickable Image"),d.qZA(),d._UZ(49,"input",16),d.qZA(),d.TgZ(50,"mat-form-field",3),d.TgZ(51,"mat-label"),d._uU(52,"Rebrickable URL"),d.qZA(),d._UZ(53,"input",17),d.qZA(),d.TgZ(54,"div",18),d.TgZ(55,"button",19),d.NdJ("click",function(){return o.import("brickset")}),d._uU(56,"Import Brickset"),d.qZA(),d.TgZ(57,"button",20),d.NdJ("click",function(){return o.saveSet.emit()}),d._uU(58,"Cancel"),d.qZA(),d.TgZ(59,"button",21),d.TgZ(60,"mat-icon"),d._uU(61,"save"),d.qZA(),d.TgZ(62,"span"),d._uU(63," Save"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("formGroup",o.setForm),d.xp6(5),d.Q6J("ngIf",(null==o.setForm||null==o.setForm.controls||null==o.setForm.controls.number?null:o.setForm.controls.number.touched)&&(null==o.setForm||null==o.setForm.controls||null==o.setForm.controls.number?null:o.setForm.controls.number.invalid)))},directives:[CD,db,Ws,Yb,uc,Za,Kb,Zu,Po,Kr,LN,tl,Zb,zF],styles:[""]}),i})(),EL=(()=>{class i{constructor(e,o){this.data=e,this.dialogRef=o}onSaveSet(e){e?this.dialogRef.close({set:e}):this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Gx),d.Y36(Wb))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-set-dialog"]],decls:1,vars:1,consts:[[3,"editSet","saveSet"]],template:function(e,o){1&e&&(d.TgZ(0,"app-set-form",0),d.NdJ("saveSet",function(c){return o.onSaveSet(c)}),d.qZA()),2&e&&d.Q6J("editSet",o.data.set)},directives:[EG],styles:[""]}),i})();function SG(i,t){if(1&i&&(d.TgZ(0,"p"),d._uU(1),d.qZA()),2&i){const e=t.ngIf,o=d.oxw();d.xp6(1),d.Oqu(o.stringify(e))}}function DG(i,t){1&i&&d._UZ(0,"mat-spinner")}let TG=(()=>{class i{constructor(e){this.data=e}stringify(e){return JSON.stringify(e)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Gx))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-json-dialog"]],decls:9,vars:4,consts:[[1,"content-wrapper"],[4,"ngIf","ngIfElse"],["loading",""],["align","center","mat-dialog-actions",""],["mat-button","","mat-dialog-close",""]],template:function(e,o){if(1&e&&(d.TgZ(0,"div",0),d.YNc(1,SG,2,1,"p",1),d.ALo(2,"async"),d.YNc(3,DG,1,0,"ng-template",null,2,d.W1O),d.qZA(),d._UZ(5,"mat-divider"),d.TgZ(6,"div",3),d.TgZ(7,"button",4),d._uU(8,"Close"),d.qZA(),d.qZA()),2&e){const s=d.MAs(4);d.xp6(1),d.Q6J("ngIf",d.lcZ(2,2,o.data.json$))("ngIfElse",s)}},directives:[Kr,uN,zx,tl,qx,kU],pipes:[Rh],styles:[".table[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]{min-height:400px}mat-spinner[_ngcontent-%COMP%]{margin:0 auto}p[_ngcontent-%COMP%]{word-break:break-all}"]}),i})(),LR=(()=>{class i{constructor(e){this.fireAuth=e,this.user$=this.fireAuth.user}login(e,o){return this.fireAuth.signInWithEmailAndPassword(e,o)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(is))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function MG(i,t){1&i&&(d.TgZ(0,"mat-chip"),d._uU(1,"Opened"),d.qZA())}function AG(i,t){1&i&&(d.TgZ(0,"mat-chip",10),d._uU(1,"Unopened"),d.qZA())}function IG(i,t){if(1&i&&d._UZ(0,"img",11),2&i){const e=t.ngIf,o=d.oxw(2);d.Q6J("src",e,d.LSH)("title",o.getTitle(o.set))}}function xG(i,t){if(1&i){const e=d.EpF();d.ynx(0),d.TgZ(1,"button",12),d.NdJ("click",function(){d.CHM(e);const s=d.oxw(2);return s.edit.emit(s.set)}),d.TgZ(2,"mat-icon"),d._uU(3,"edit"),d.qZA(),d.TgZ(4,"span"),d._uU(5,"Edit"),d.qZA(),d.qZA(),d.TgZ(6,"button",12),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).duplicate()}),d.TgZ(7,"mat-icon"),d._uU(8,"content_copy"),d.qZA(),d.TgZ(9,"span"),d._uU(10,"Duplicate"),d.qZA(),d.qZA(),d.BQk()}}function RG(i,t){1&i&&(d.TgZ(0,"a",13),d.TgZ(1,"mat-icon"),d._uU(2,"link"),d.qZA(),d.TgZ(3,"span"),d._uU(4,"BrickSet"),d.qZA(),d.qZA()),2&i&&d.Q6J("href",t.ngIf,d.LSH)}function OG(i,t){1&i&&(d.TgZ(0,"a",13),d.TgZ(1,"mat-icon"),d._uU(2,"link"),d.qZA(),d.TgZ(3,"span"),d._uU(4,"Rebrickable"),d.qZA(),d.qZA()),2&i&&d.Q6J("href",t.ngIf,d.LSH)}function kG(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"mat-form-field",14),d.TgZ(1,"mat-label"),d._uU(2,"Price"),d.qZA(),d._UZ(3,"input",15),d.TgZ(4,"button",16),d.NdJ("click",function(){return d.CHM(e),d.oxw(2).savePrice()}),d.TgZ(5,"mat-icon"),d._uU(6,"save"),d.qZA(),d.qZA(),d.qZA()}if(2&i){const e=d.oxw(2);d.xp6(3),d.Q6J("formControl",e.price),d.xp6(1),d.Q6J("disabled",!e.price)}}function FG(i,t){if(1&i&&(d.TgZ(0,"mat-card",1),d.TgZ(1,"mat-card-title"),d._uU(2),d.qZA(),d.TgZ(3,"mat-card-subtitle"),d.TgZ(4,"span"),d._uU(5),d.qZA(),d.TgZ(6,"mat-chip-list"),d.YNc(7,MG,2,0,"mat-chip",2),d.YNc(8,AG,2,0,"ng-template",null,3,d.W1O),d.qZA(),d.qZA(),d.YNc(10,IG,1,2,"img",4),d.TgZ(11,"mat-card-actions"),d.TgZ(12,"button",5),d.TgZ(13,"mat-icon"),d._uU(14,"more_vert"),d.qZA(),d.qZA(),d.TgZ(15,"mat-menu",null,6),d.YNc(17,xG,11,0,"ng-container",7),d.ALo(18,"async"),d.YNc(19,RG,5,1,"a",8),d.YNc(20,OG,5,1,"a",8),d.qZA(),d.YNc(21,kG,7,2,"mat-form-field",9),d.qZA(),d.qZA()),2&i){const e=d.MAs(9),o=d.MAs(16),s=d.oxw();d.xp6(2),d.AsE("",s.set.number," -- ",s.set.name,""),d.xp6(3),d.AsE("",s.set.theme," / ",s.set.subtheme,""),d.xp6(2),d.Q6J("ngIf",s.set.opened)("ngIfElse",e),d.xp6(3),d.Q6J("ngIf",s.set.bricksetImage),d.xp6(2),d.Q6J("matMenuTriggerFor",o),d.xp6(5),d.Q6J("ngIf",d.lcZ(18,12,s.user$)),d.xp6(2),d.Q6J("ngIf",s.set.bricksetUrl),d.xp6(1),d.Q6J("ngIf",s.set.rebrickableUrl),d.xp6(1),d.Q6J("ngIf",!s.set.price)}}let NG=(()=>{class i{constructor(e,o,s,c,f){this.apiService=e,this.authService=o,this.dialog=s,this.storageService=c,this.store=f,this.edit=new d.vpe,this.bricksetApiKey=this.storageService.getStore(OT),this.price=new Vi,this.rebrickableApiKey=this.storageService.getStore(p0),this.user$=this.authService.user$}get setNumber(){var e,o,s;return(null===(e=this.set)||void 0===e?void 0:e.number.includes("-"))?null===(o=this.set)||void 0===o?void 0:o.number:`${null===(s=this.set)||void 0===s?void 0:s.number}-1`}duplicate(){const e=Object.assign({},this.set);delete e.id,this.store.dispatch(zt.addSet({set:e}))}getTitle(e){return e.price?`Price Paid: $${e.price}`:""}savePrice(){this.store.dispatch(zt.updateSet({id:this.set.id,set:{id:this.set.id,number:this.set.number,price:this.price.value}}))}showDialog(e){this.dialog.open(TG,{data:{json$:this.apiService[e](this.setNumber)},width:"960px"})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(CL),d.Y36(LR),d.Y36(Xg),d.Y36(g0),d.Y36(cs))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-set-card"]],inputs:{set:"set"},outputs:{edit:"edit"},decls:1,vars:1,consts:[["class","item",4,"ngIf"],[1,"item"],[4,"ngIf","ngIfElse"],["unopened",""],["mat-card-image","",3,"src","title",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["cardMenu","matMenu"],[4,"ngIf"],["mat-menu-item","",3,"href",4,"ngIf"],["color","accent",4,"ngIf"],["color","accent","selected",""],["mat-card-image","",3,"src","title"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"href"],["color","accent"],["matInput","",3,"formControl"],["mat-icon-button","","matSuffix","",3,"disabled","click"]],template:function(e,o){1&e&&d.YNc(0,FG,22,14,"mat-card",0),2&e&&d.Q6J("ngIf",o.set)},directives:[Kr,tB,Q2,J2,iN,X2,tl,RN,Zb,TN,oT,eB,Jb,Yb,uc,Kb,Za,Zu,Dn,Bx],pipes:[Rh],styles:["[_nghost-%COMP%]{display:block;width:400px}.item[_ngcontent-%COMP%]{margin-bottom:10px;cursor:pointer}mat-card-actions[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between}mat-card-subtitle[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between}mat-form-field[_ngcontent-%COMP%]{width:120px}.action-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),i})();function PG(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"app-set-card",2),d.NdJ("edit",function(s){return d.CHM(e),d.oxw().onEdit(s)}),d.qZA()}2&i&&d.Q6J("set",t.$implicit)}const LG=[{component:(()=>{class i{constructor(e,o){this.dialog=e,this.store=o,this.sets$=kx([this.store.select(RT),this.store.select(PR)]).pipe((0,Le.U)(([s,c])=>s.filter((i=>({name:t})=>!i.name||(null==t?void 0:t.toLowerCase().includes(i.name.toLowerCase())))(c)).filter((i=>({opened:t})=>"opened"===i.opened?!0===t:"unopened"!==i.opened||!1===t)(c)).filter((i=>({price:t})=>"priced"===i.priced?!!t:"unpriced"!==i.priced||!t)(c)).filter((i=>({number:t})=>!i.setNumber||t===i.setNumber)(c))))}onEdit(e){this.dialog.open(EL,{data:{set:e,enableDelete:!0},width:"540px"}).afterClosed().subscribe(o=>{(null==o?void 0:o.set)?this.store.dispatch(zt.updateSet({id:`${e.id}`,set:o.set})):(null==o?void 0:o.delete)&&this.store.dispatch(zt.deleteSet({id:`${e.id}`}))})}trackById(e,{id:o}){return o}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Xg),d.Y36(cs))},i.\u0275cmp=d.Xpm({type:i,selectors:[["ng-component"]],decls:3,vars:4,consts:[[1,"content-wrapper"],[3,"set","edit",4,"ngFor","ngForOf","ngForTrackBy"],[3,"set","edit"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.YNc(1,PG,1,1,"app-set-card",1),d.ALo(2,"async"),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngForOf",d.lcZ(2,2,o.sets$))("ngForTrackBy",o.trackById))},directives:[Lt,NG],pipes:[Rh],styles:["app-set[_ngcontent-%COMP%]{margin-bottom:30px}.button-wrapper[_ngcontent-%COMP%]{margin-bottom:40px}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;max-width:1400px;margin:auto}"]}),i})(),path:"list"},{path:"**",redirectTo:"list"}];let VG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[jP.forRoot(LG)],jP]}),i})();function BG(i,t){1&i&&(d.TgZ(0,"span"),d._uU(1,"This field is mandatory."),d.qZA())}function UG(i,t){1&i&&(d.TgZ(0,"span"),d._uU(1,"This field is invalid."),d.qZA())}function jG(i,t){if(1&i&&(d.TgZ(0,"mat-error"),d.YNc(1,BG,2,0,"span",4),d.YNc(2,UG,2,0,"span",4),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",null==e.authForm||null==e.authForm.controls||null==e.authForm.controls.email||null==e.authForm.controls.email.errors?null:e.authForm.controls.email.errors.required),d.xp6(1),d.Q6J("ngIf",null==e.authForm||null==e.authForm.controls||null==e.authForm.controls.email||null==e.authForm.controls.email.errors?null:e.authForm.controls.email.errors.email)}}function HG(i,t){1&i&&(d.TgZ(0,"span"),d._uU(1,"This field is mandatory."),d.qZA())}function GG(i,t){if(1&i&&(d.TgZ(0,"mat-error"),d.YNc(1,HG,2,0,"span",4),d.qZA()),2&i){const e=d.oxw();d.xp6(1),d.Q6J("ngIf",null==e.authForm||null==e.authForm.controls||null==e.authForm.controls.password||null==e.authForm.controls.password.errors?null:e.authForm.controls.password.errors.required)}}let qG=(()=>{class i{constructor(e,o,s){this.authService=e,this.dialogRef=o,this.formBuilder=s,this.hide=!0,this.authForm=this.formBuilder.group({email:[null,[ss.required,ss.email]],password:[null,[ss.required]]})}submit(){var e,o,s;(null===(e=this.authForm)||void 0===e?void 0:e.valid)&&this.authService.login(null===(o=this.authForm.get("email"))||void 0===o?void 0:o.value,null===(s=this.authForm.get("password"))||void 0===s?void 0:s.value).then(({user:c})=>{c&&this.dialogRef.close()})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(LR),d.Y36(Wb),d.Y36(VD))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-auth-dialog"]],decls:21,vars:5,consts:[[1,"content-wrapper"],[1,"form-wrapper"],[3,"formGroup","submit"],["formControlName","email","matInput","","required",""],[4,"ngIf"],["formControlName","password","matInput","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["align","center","mat-dialog-actions",""],["mat-button","","mat-dialog-close",""],["color","primary","mat-raised-button","","type","submit"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"form",2),d.NdJ("submit",function(){return o.submit()}),d.TgZ(3,"mat-form-field"),d.TgZ(4,"mat-label"),d._uU(5," E-mail "),d.qZA(),d._UZ(6,"input",3),d.YNc(7,jG,3,2,"mat-error",4),d.qZA(),d.TgZ(8,"mat-form-field"),d.TgZ(9,"mat-label"),d._uU(10," Password "),d.qZA(),d._UZ(11,"input",5),d.TgZ(12,"button",6),d.NdJ("click",function(){return o.hide=!o.hide}),d.TgZ(13,"mat-icon"),d._uU(14),d.qZA(),d.qZA(),d.YNc(15,GG,2,1,"mat-error",4),d.qZA(),d.TgZ(16,"div",7),d.TgZ(17,"button",8),d._uU(18,"Cancel"),d.qZA(),d.TgZ(19,"button",9),d._uU(20,"Log In"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("formGroup",o.authForm),d.xp6(5),d.Q6J("ngIf",(null==o.authForm||null==o.authForm.controls||null==o.authForm.controls.email?null:o.authForm.controls.email.touched)&&(null==o.authForm||null==o.authForm.controls||null==o.authForm.controls.email?null:o.authForm.controls.email.invalid)),d.xp6(4),d.Q6J("type",o.hide?"password":"text"),d.xp6(3),d.Oqu(o.hide?"visibility_off":"visibility"),d.xp6(1),d.Q6J("ngIf",(null==o.authForm||null==o.authForm.controls||null==o.authForm.controls.password?null:o.authForm.controls.password.touched)&&(null==o.authForm||null==o.authForm.controls||null==o.authForm.controls.password?null:o.authForm.controls.password.invalid)))},directives:[CD,db,Ws,Yb,uc,Za,Kb,Zu,Po,Pg,tl,Bx,Zb,zx,qx,zF],styles:[".content-wrapper[_ngcontent-%COMP%]{text-align:center}.form-continer[_ngcontent-%COMP%]{width:400px;margin:200px auto 0}"]}),i})(),zG=(()=>{class i{constructor(e,o){this.matBottomSheetRef=e,this.store=o,this.nameFilter=new Vi,this.numberFilter=new Vi,this.openedFilter=new Vi,this.priceFilter=new Vi,this.store.select(PR).pipe(dn(1)).subscribe(s=>{this.nameFilter.setValue(s.name),this.numberFilter.setValue(s.setNumber),this.openedFilter.setValue(s.opened),this.priceFilter.setValue(s.priced)})}applyFilters(){this.store.dispatch(zt.updateFilters({filters:{name:this.nameFilter.value,opened:this.openedFilter.value,priced:this.priceFilter.value,setNumber:this.numberFilter.value}})),this.matBottomSheetRef.dismiss()}clearFilters(){this.store.dispatch(zt.updateFilters({filters:{}})),this.matBottomSheetRef.dismiss()}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(Lx),d.Y36(cs))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-filter-sheet"]],decls:39,vars:4,consts:[[3,"formControl"],["value",""],["value","priced"],["value","unpriced"],["value","opened"],["value","unopened"],["color","accent"],["matInput","",3,"formControl"],[1,"button-container"],["mat-raised-button","",3,"click"],["color","primary","mat-raised-button","",3,"click"]],template:function(e,o){1&e&&(d.TgZ(0,"section"),d.TgZ(1,"h3"),d._uU(2,"Filter by Priced"),d.qZA(),d.TgZ(3,"mat-button-toggle-group",0),d.TgZ(4,"mat-button-toggle",1),d._uU(5,"All"),d.qZA(),d.TgZ(6,"mat-button-toggle",2),d._uU(7,"Priced"),d.qZA(),d.TgZ(8,"mat-button-toggle",3),d._uU(9,"Unpriced"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"section"),d.TgZ(11,"h3"),d._uU(12,"Filter by Opened"),d.qZA(),d.TgZ(13,"mat-button-toggle-group",0),d.TgZ(14,"mat-button-toggle",1),d._uU(15,"All"),d.qZA(),d.TgZ(16,"mat-button-toggle",4),d._uU(17,"Opened"),d.qZA(),d.TgZ(18,"mat-button-toggle",5),d._uU(19,"Unopened"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"section"),d.TgZ(21,"h3"),d._uU(22,"Filter by Set Number"),d.qZA(),d.TgZ(23,"mat-form-field",6),d.TgZ(24,"mat-label"),d._uU(25,"Set Number"),d.qZA(),d._UZ(26,"input",7),d.qZA(),d.qZA(),d.TgZ(27,"section"),d.TgZ(28,"h3"),d._uU(29,"Filter by Name"),d.qZA(),d.TgZ(30,"mat-form-field",6),d.TgZ(31,"mat-label"),d._uU(32,"Set Name"),d.qZA(),d._UZ(33,"input",7),d.qZA(),d.qZA(),d.TgZ(34,"div",8),d.TgZ(35,"button",9),d.NdJ("click",function(){return o.clearFilters()}),d._uU(36,"Clear Filters"),d.qZA(),d.TgZ(37,"button",10),d.NdJ("click",function(){return o.applyFilters()}),d._uU(38,"Apply Filters"),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("formControl",o.priceFilter),d.xp6(10),d.Q6J("formControl",o.openedFilter),d.xp6(13),d.Q6J("formControl",o.numberFilter),d.xp6(7),d.Q6J("formControl",o.nameFilter))},directives:[UF,Zu,Dn,jF,Yb,uc,Kb,Za,tl],styles:["section[_ngcontent-%COMP%]{margin-bottom:20px}"]}),i})();function $G(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(e),d.oxw().data.brickset.saved=!1}),d.TgZ(1,"mat-icon"),d._uU(2,"edit"),d.qZA(),d.qZA()}}function YG(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(e),d.oxw().deleteBricksetApiKey()}),d.TgZ(1,"mat-icon"),d._uU(2,"clear"),d.qZA(),d.qZA()}}function WG(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(e),d.oxw().saveBricksetApiKey()}),d.TgZ(1,"mat-icon"),d._uU(2,"save"),d.qZA(),d.TgZ(3,"span"),d._uU(4," Save"),d.qZA(),d.qZA()}}function ZG(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(e),d.oxw().data.rebrickable.saved=!1}),d.TgZ(1,"mat-icon"),d._uU(2,"edit"),d.qZA(),d.qZA()}}function KG(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(e),d.oxw().deleteRebrickableApiKey()}),d.TgZ(1,"mat-icon"),d._uU(2,"clear"),d.qZA(),d.qZA()}}function QG(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"button",5),d.NdJ("click",function(){return d.CHM(e),d.oxw().saveRebrickableApiKey()}),d.TgZ(1,"mat-icon"),d._uU(2,"save"),d.qZA(),d.TgZ(3,"span"),d._uU(4," Save"),d.qZA(),d.qZA()}}let JG=(()=>{class i{constructor(e){this.storageService=e;const o=this.storageService.getStore(OT),s=this.storageService.getStore(p0);this.data={brickset:{saved:!!o,value:o},rebrickable:{saved:!!s,value:s}}}deleteBricksetApiKey(){this.storageService.removeStore(OT),this.data.brickset={saved:!1,value:""}}deleteRebrickableApiKey(){this.storageService.removeStore(p0),this.data.rebrickable={saved:!1,value:""}}saveBricksetApiKey(){const e=this.data.brickset.value;e&&this.storageService.setStore(OT,e)&&(this.data.brickset={saved:!0,value:e})}saveRebrickableApiKey(){const e=this.data.rebrickable.value;e&&this.storageService.setStore(p0,e)&&(this.data.rebrickable={saved:!0,value:e})}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(g0))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-api-key-dialog"]],decls:21,vars:10,consts:[[1,"content-wrapper"],["matInput","","type","text",3,"ngModel","disabled","ngModelChange"],["mat-button","","matSuffix","",3,"click",4,"ngIf"],["align","center","mat-dialog-actions",""],["cdkFocusInitial","","mat-button","","mat-dialog-close",""],["mat-button","","matSuffix","",3,"click"]],template:function(e,o){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h2"),d._uU(2,"Api Keys"),d.qZA(),d.TgZ(3,"mat-form-field"),d.TgZ(4,"mat-label"),d._uU(5,"Brickset"),d.qZA(),d.TgZ(6,"input",1),d.NdJ("ngModelChange",function(c){return o.data.brickset.value=c}),d.qZA(),d.YNc(7,$G,3,0,"button",2),d.YNc(8,YG,3,0,"button",2),d.qZA(),d.YNc(9,WG,5,0,"button",2),d._UZ(10,"mat-divider"),d.TgZ(11,"mat-form-field"),d.TgZ(12,"mat-label"),d._uU(13,"Rebrickable"),d.qZA(),d.TgZ(14,"input",1),d.NdJ("ngModelChange",function(c){return o.data.rebrickable.value=c}),d.qZA(),d.YNc(15,ZG,3,0,"button",2),d.YNc(16,KG,3,0,"button",2),d.qZA(),d.YNc(17,QG,5,0,"button",2),d.TgZ(18,"div",3),d.TgZ(19,"button",4),d._uU(20,"Close"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(6),d.Q6J("ngModel",o.data.brickset.value)("disabled",o.data.brickset.saved),d.xp6(1),d.Q6J("ngIf",o.data.brickset.saved),d.xp6(1),d.Q6J("ngIf",o.data.brickset.saved),d.xp6(1),d.Q6J("ngIf",!o.data.brickset.saved),d.xp6(5),d.Q6J("ngModel",o.data.rebrickable.value)("disabled",o.data.rebrickable.saved),d.xp6(1),d.Q6J("ngIf",o.data.rebrickable.saved),d.xp6(1),d.Q6J("ngIf",o.data.rebrickable.saved),d.xp6(1),d.Q6J("ngIf",!o.data.rebrickable.saved))},directives:[Yb,uc,Kb,Za,Zu,wD,Kr,uN,zx,tl,qx,Bx,Zb],styles:[""]}),i})();function XG(i,t){if(1&i){const e=d.EpF();d.ynx(0),d.TgZ(1,"button",4),d.NdJ("click",function(){return d.CHM(e),d.oxw().newSet()}),d.TgZ(2,"mat-icon"),d._uU(3,"add"),d.qZA(),d.TgZ(4,"span"),d._uU(5,"Add Set"),d.qZA(),d.qZA(),d.TgZ(6,"button",4),d.NdJ("click",function(){return d.CHM(e),d.oxw().refreshData()}),d.TgZ(7,"mat-icon"),d._uU(8,"refresh"),d.qZA(),d.TgZ(9,"span"),d._uU(10,"Refresh Data"),d.qZA(),d.qZA(),d.BQk()}}function e6(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"button",4),d.NdJ("click",function(){return d.CHM(e),d.oxw().clearFilters()}),d.TgZ(1,"mat-icon"),d._uU(2,"clear_all"),d.qZA(),d.TgZ(3,"span"),d._uU(4,"Clear Filters"),d.qZA(),d.qZA()}}function t6(i,t){if(1&i&&(d.ynx(0),d.TgZ(1,"h2"),d._uU(2),d.ALo(3,"currency"),d.ALo(4,"async"),d.qZA(),d._UZ(5,"span",6),d.BQk()),2&i){const e=d.oxw();d.xp6(2),d.hij("Total Price: ",d.lcZ(3,1,d.lcZ(4,3,e.totalPrice$)),"")}}function n6(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"div"),d.TgZ(1,"button",9),d.NdJ("click",function(){return d.CHM(e),d.oxw().openApiKeyDialog()}),d.TgZ(2,"mat-icon"),d._uU(3,"vpn_key"),d.qZA(),d.TgZ(4,"span"),d._uU(5," Manage API Keys"),d.qZA(),d.qZA(),d.TgZ(6,"span"),d._uU(7,"You are logged in"),d.qZA(),d.qZA()}}function r6(i,t){if(1&i){const e=d.EpF();d.TgZ(0,"button",9),d.NdJ("click",function(){return d.CHM(e),d.oxw().login()}),d.TgZ(1,"mat-icon"),d._uU(2,"login"),d.qZA(),d.TgZ(3,"mat-label"),d._uU(4," Sign In"),d.qZA(),d.qZA()}}let i6=(()=>{class i{constructor(e,o,s,c,f){this.authService=e,this.dialog=o,this.matBottomSheet=s,this.storageService=c,this.store=f,this.bricksetApiKey=this.storageService.getStore("brickset_api_key"),this.canClearFilters$=this.store.select(fG),this.rebrickableApiKey=this.storageService.getStore("rebrickable_api_key"),this.totalCount$=this.store.select(pG),this.totalPrice$=this.store.select(gG),this.user$=this.authService.user$}clearFilters(){this.store.dispatch(zt.updateFilters({filters:{}}))}login(){this.dialog.open(qG,{width:"360px"})}newSet(){this.dialog.open(EL,{data:{set:{}},width:"540px"}).afterClosed().subscribe(({set:e})=>{this.store.dispatch(zt.addSet({set:e}))})}openApiKeyDialog(){this.dialog.open(JG,{width:"540px;"})}refreshData(){this.store.dispatch(zt.fetchSets())}showFilters(){this.matBottomSheet.open(zG)}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(LR),d.Y36(Xg),d.Y36(P2),d.Y36(g0),d.Y36(cs))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-header"]],decls:28,vars:17,consts:[["color","primary"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],[4,"ngIf"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"click",4,"ngIf"],[1,"toolbar-spacer"],[4,"ngIf","ngIfElse"],["noauth",""],["mat-button","",3,"click"]],template:function(e,o){if(1&e&&(d.TgZ(0,"mat-toolbar",0),d.TgZ(1,"button",1),d.TgZ(2,"mat-icon"),d._uU(3,"dashboard"),d.qZA(),d.qZA(),d.TgZ(4,"mat-menu",null,2),d.YNc(6,XG,11,0,"ng-container",3),d.ALo(7,"async"),d.TgZ(8,"button",4),d.NdJ("click",function(){return o.showFilters()}),d.TgZ(9,"mat-icon"),d._uU(10,"filter_list"),d.qZA(),d.TgZ(11,"span"),d._uU(12,"Filters"),d.qZA(),d.qZA(),d.YNc(13,e6,5,0,"button",5),d.ALo(14,"async"),d.qZA(),d.TgZ(15,"span"),d._uU(16,"My Legos"),d.qZA(),d._UZ(17,"span",6),d.TgZ(18,"h2"),d._uU(19),d.ALo(20,"async"),d.qZA(),d._UZ(21,"span",6),d.YNc(22,t6,6,5,"ng-container",3),d.ALo(23,"async"),d.YNc(24,n6,8,0,"div",7),d.ALo(25,"async"),d.YNc(26,r6,5,0,"ng-template",null,8,d.W1O),d.qZA()),2&e){const s=d.MAs(5),c=d.MAs(27);d.xp6(1),d.Q6J("matMenuTriggerFor",s),d.xp6(5),d.Q6J("ngIf",d.lcZ(7,7,o.user$)),d.xp6(7),d.Q6J("ngIf",d.lcZ(14,9,o.canClearFilters$)),d.xp6(6),d.hij("Total Sets: ",d.lcZ(20,11,o.totalCount$),""),d.xp6(3),d.Q6J("ngIf",d.lcZ(23,13,o.user$)),d.xp6(2),d.Q6J("ngIf",d.lcZ(25,15,o.user$))("ngIfElse",c)}},directives:[i3,tl,RN,Zb,TN,Kr,Jb,uc],pipes:[Rh,zT],styles:["mat-toolbar[_ngcontent-%COMP%]{margin-bottom:20px}mat-toolbar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-left:10px}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),i})(),o6=(()=>{class i{constructor(e){this.store=e}ngOnInit(){this.store.dispatch(zt.init())}}return i.\u0275fac=function(e){return new(e||i)(d.Y36(cs))},i.\u0275cmp=d.Xpm({type:i,selectors:[["app-root"]],decls:2,vars:0,template:function(e,o){1&e&&(d._UZ(0,"app-header"),d._UZ(1,"router-outlet"))},directives:[i6,_R],styles:[""]}),i})(),s6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[cT,ui]]}),i})(),a6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[cT,mo,LD,ui]]}),i})();class u6{call(t,e){return e.subscribe(new c6(t))}}class c6 extends sn.L{_next(t){}}class h6{call(t,e){return e.subscribe(new f6(t))}}class f6 extends sn.L{constructor(t){super(t)}_next(t){this.destination.next(Qb.P.createNext(t))}_error(t){const e=this.destination;e.next(Qb.P.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(Qb.P.createComplete()),t.complete()}}function SL(i,t,e,o){return s=>s.lift(new p6(i,t,e,o))}class p6{constructor(t,e,o,s){this.keySelector=t,this.elementSelector=e,this.durationSelector=o,this.subjectSelector=s}call(t,e){return e.subscribe(new g6(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class g6 extends sn.L{constructor(t,e,o,s,c){super(t),this.keySelector=e,this.elementSelector=o,this.durationSelector=s,this.subjectSelector=c,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(o){return void this.error(o)}this._group(t,e)}_group(t,e){let o=this.groups;o||(o=this.groups=new Map);let c,s=o.get(e);if(this.elementSelector)try{c=this.elementSelector(t)}catch(f){this.error(f)}else c=t;if(!s){s=this.subjectSelector?this.subjectSelector():new je.xQ,o.set(e,s);const f=new DL(e,s,this);if(this.destination.next(f),this.durationSelector){let m;try{m=this.durationSelector(new DL(e,s))}catch(y){return void this.error(y)}this.add(m.subscribe(new m6(e,s,this)))}}s.closed||s.next(c)}_error(t){const e=this.groups;e&&(e.forEach((o,s)=>{o.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((e,o)=>{e.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class m6 extends sn.L{constructor(t,e,o){super(e),this.key=t,this.group=e,this.parent=o}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class DL extends Vt.y{constructor(t,e,o){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=o}_subscribe(t){const e=new ur.w,{refCountSubscription:o,groupSubject:s}=this;return o&&!o.closed&&e.add(new _6(o)),e.add(s.subscribe(t)),e}}class _6 extends ur.w{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;!t.closed&&!this.closed&&(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}function TL(i,t){return t?e=>e.pipe(TL((o,s)=>(0,Jt.D)(i(o,s)).pipe((0,Le.U)((c,f)=>t(o,c,s,f))))):e=>e.lift(new y6(i))}class y6{constructor(t){this.project=t}call(t,e){return e.subscribe(new v6(t,this.project))}}class v6 extends kr.Ds{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const o=this.index++;try{e=this.project(t,o)}catch(s){return void this.destination.error(s)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new kr.IY(this),o=this.destination;o.add(e);const s=(0,kr.ft)(t,e);s!==e&&o.add(s)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class w6{call(t,e){return e.subscribe(new C6(t))}}class C6 extends sn.L{constructor(t){super(t)}_next(t){t.observe(this.destination)}}const ML={dispatch:!0,useEffectsErrorHandler:!0},kT="__@ngrx/effects_create__";function Sh(i,t){const e=i(),o=Object.assign(Object.assign({},ML),t);return Object.defineProperty(e,kT,{value:o}),e}function E6(i){return Object.getOwnPropertyNames(i).filter(o=>!(!i[o]||!i[o].hasOwnProperty(kT))&&i[o][kT].hasOwnProperty("dispatch")).map(o=>Object.assign({propertyName:o},i[o][kT]))}function VR(i){return Object.getPrototypeOf(i)}const FT="__@ngrx/effects__";function S6(i){return TR(T6,VR)(i)}function T6(i){return function(i){return i.constructor.hasOwnProperty(FT)}(i)?i.constructor[FT]:[]}function M6(i,t,e){const o=VR(i).constructor.name,s=function(i){return[S6,E6].reduce((e,o)=>e.concat(o(i)),[])}(i).map(({propertyName:c,dispatch:f,useEffectsErrorHandler:m})=>{const y="function"==typeof i[c]?i[c]():i[c],b=m?e(y,t):y;return!1===f?b.pipe(function(t){return t.lift(new u6)}):b.pipe(function(t){return t.lift(new h6)}).pipe((0,Le.U)(D=>({effect:i[c],notification:D,propertyName:c,sourceName:o,sourceInstance:i})))});return(0,si.T)(...s)}function xL(i,t,e=10){return i.pipe(nl(o=>(t&&t.handleError(o),e<=1?i:xL(i,t,e-1))))}let RL=(()=>{class i extends Vt.y{constructor(e){super(),e&&(this.source=e)}lift(e){const o=new i;return o.source=this,o.operator=e,o}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(AT))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function Dh(...i){return Ft(t=>i.some(e=>"string"==typeof e?e===t.type:e.type===t.type))}function V6(i){return BR(i,"ngrxOnInitEffects")}function BR(i,t){return i&&t in i&&"function"==typeof i[t]}const OL=new d.OlP("@ngrx/effects Internal Root Guard"),NT=new d.OlP("@ngrx/effects User Provided Effects"),UR=new d.OlP("@ngrx/effects Internal Root Effects"),kL=new d.OlP("@ngrx/effects Root Effects"),FL=new d.OlP("@ngrx/effects Internal Feature Effects"),NL=new d.OlP("@ngrx/effects Feature Effects"),PL=new d.OlP("@ngrx/effects Effects Error Handler");let jR=(()=>{class i extends je.xQ{constructor(e,o){super(),this.errorHandler=e,this.effectsErrorHandler=o}addEffects(e){this.next(e)}toActions(){return this.pipe(SL(VR),(0,mn.zg)(e=>e.pipe(SL(B6))),(0,mn.zg)(e=>{const o=e.pipe(TL(c=>function(i,t){return e=>{const o=M6(e,i,t);return function(i){return BR(i,"ngrxOnRunEffects")}(e)?e.ngrxOnRunEffects(o):o}}(this.errorHandler,this.effectsErrorHandler)(c)),(0,Le.U)(c=>(function(i,t){if("N"===i.notification.kind){const e=i.notification.value;!function(i){return"function"!=typeof i&&i&&i.type&&"string"==typeof i.type}(e)&&t.handleError(new Error(`Effect ${function({propertyName:i,sourceInstance:t,sourceName:e}){const o="function"==typeof t[i];return`"${e}.${String(i)}${o?"()":""}"`}(i)} dispatched an invalid action: ${function(i){try{return JSON.stringify(i)}catch(t){return i}}(e)}`))}}(c,this.errorHandler),c.notification)),Ft(c=>"N"===c.kind&&null!=c.value),function(t){return t.lift(new w6)}),s=e.pipe(dn(1),Ft(V6),(0,Le.U)(c=>c.ngrxOnInitEffects()));return(0,si.T)(o,s)}))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(d.qLn),d.LFG(PL))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();function B6(i){return function(i){return BR(i,"ngrxOnIdentifyEffects")}(i)?i.ngrxOnIdentifyEffects():""}let HR=(()=>{class i{constructor(e,o){this.effectSources=e,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(jR),d.LFG(cs))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const LL="@ngrx/effects/init";sl(LL);let VL=(()=>{class i{constructor(e,o,s,c,f,m,y){this.sources=e,o.start(),c.forEach(b=>e.addEffects(b)),s.dispatch({type:LL})}addEffects(e){this.sources.addEffects(e)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(jR),d.LFG(HR),d.LFG(cs),d.LFG(kL),d.LFG(IT,8),d.LFG(NR,8),d.LFG(OL,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),j6=(()=>{class i{constructor(e,o,s,c){o.forEach(f=>f.forEach(m=>e.addEffects(m)))}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(VL),d.LFG(NL),d.LFG(IT,8),d.LFG(NR,8))},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})(),H6=(()=>{class i{static forFeature(e=[]){return{ngModule:j6,providers:[e,{provide:FL,multi:!0,useValue:e},{provide:NT,multi:!0,useValue:[]},{provide:NL,multi:!0,useFactory:BL,deps:[d.zs3,FL,NT]}]}}static forRoot(e=[]){return{ngModule:VL,providers:[{provide:PL,useValue:xL},HR,jR,RL,e,{provide:UR,useValue:[e]},{provide:OL,useFactory:q6,deps:[[HR,new d.FiY,new d.tp0],[UR,new d.PiD]]},{provide:NT,multi:!0,useValue:[]},{provide:kL,useFactory:BL,deps:[d.zs3,UR,NT]}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({}),i})();function BL(i,t,e){const o=[];for(const s of t)o.push(...s);for(const s of e)o.push(...s);return function(i,t){return t.map(e=>i.get(e))}(i,o)}function q6(i,t){if((1!==t.length||0!==t[0].length)&&i)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}class $6{constructor(t){this.value=t}call(t,e){return e.subscribe(new Y6(t,this.value))}}class Y6 extends sn.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}let W6=(()=>{class i{constructor(e){this.firestore=e}addSet(e){this.firestore.collection("set").add(e)}deleteSet(e){this.firestore.collection("set").doc(e).delete()}getAll$(){return this.firestore.collection("set").valueChanges({idField:"id"})}updateSet(e,o){this.firestore.collection("set").doc(e).update(o)}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(zp))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Z6=(()=>{class i{constructor(e,o,s,c,f){this.actions$=e,this.dataService=o,this.matSnackBar=s,this.storageService=c,this.store=f,this.addSet$=Sh(()=>this.actions$.pipe(Dh(zt.addSet),(0,ir.b)(({set:m})=>{this.dataService.addSet(m),this.matSnackBar.open(`${m.name} Added!`,"OK",{duration:3e3,horizontalPosition:"right",verticalPosition:"top"})})),{dispatch:!1}),this.deleteSet$=Sh(()=>this.actions$.pipe(Dh(zt.deleteSet),(0,ir.b)(({id:m})=>{this.dataService.deleteSet(m)})),{dispatch:!1}),this.fetchSets$=Sh(()=>this.actions$.pipe(Dh(zt.fetchSets),(0,mn.zg)(()=>this.dataService.getAll$().pipe((0,Le.U)(m=>zt.updateSetStore({sets:m})))))),this.init$=Sh(()=>this.actions$.pipe(Dh(zt.init),Rn(()=>{const m=this.storageService.getStore("sets");return(0,Ne.of)(m?zt.updateSetStore({sets:m}):zt.fetchSets())}))),this.updateSet$=Sh(()=>this.actions$.pipe(Dh(zt.updateSet),(0,Le.U)(({id:m,set:y})=>(this.dataService.updateSet(m,y),this.matSnackBar.open(`Set ${y.number} Updated!`,"OK",{duration:3e3,horizontalPosition:"right",verticalPosition:"top"}),zt.updateStorage())))),this.updateSetStore$=Sh(()=>this.actions$.pipe(Dh(zt.updateSetStore),function(i){return t=>t.lift(new $6(i))}(zt.updateStorage()))),this.updateStorage$=Sh(()=>this.actions$.pipe(Dh(zt.updateStorage),qP(this.store.select(RT)),(0,ir.b)(([,m])=>{this.storageService.setStore("sets",m)})),{dispatch:!1})}}return i.\u0275fac=function(e){return new(e||i)(d.LFG(RL),d.LFG(W6),d.LFG(XU),d.LFG(g0),d.LFG(cs))},i.\u0275prov=d.Yz7({token:i,factory:i.\u0275fac}),i})();const K6=function(i,...t){const e=new Map;for(const o of t)for(const s of o.types){const c=e.get(s);e.set(s,c?(m,y)=>o.reducer(c(m,y),y):o.reducer)}return function(o=i,s){const c=e.get(s.type);return c?c(o,s):o}}({error:"",filters:{},loading:!1,sets:[]},om(zt.addSet,(i,{set:t})=>Object.assign(Object.assign({},i),{sets:[...i.sets,t]})),om(zt.deleteSet,(i,{id:t})=>{const e=i.sets.filter(({id:o})=>t!==o);return Object.assign(Object.assign({},i),{sets:e})}),om(zt.fetchSets,i=>Object.assign(Object.assign({},i),{sets:[]})),om(zt.updateFilters,(i,{filters:t})=>Object.assign(Object.assign({},i),{filters:t})),om(zt.updateSet,(i,{id:t,set:e})=>{const o=i.sets.map(s=>t===s.id?Object.assign(Object.assign({},s),e):s);return Object.assign(Object.assign({},i),{sets:o})}),om(zt.updateSetStore,(i,{sets:t})=>Object.assign(Object.assign({},i),{sets:t})));function Q6(i,t){return K6(i,t)}let J6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i}),i.\u0275inj=d.cJS({imports:[[H6.forRoot([Z6]),JH.forRoot({setState:Q6})]]}),i})(),X6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=d.oAB({type:i,bootstrap:[o6]}),i.\u0275inj=d.cJS({providers:[{provide:"Window",useValue:window}],imports:[[Gn.hO.initializeApp(GN_firebase),Nu,cT,VG,J6,s6,ek,Dm,nw,s3,a6]]}),i})();(0,d.G48)(),vc().bootstrapModule(X6).catch(i=>console.error(i))},4762:(Be,fe,k)=>{"use strict";k.d(fe,{ZT:()=>Q,pi:()=>ce,mG:()=>q,Jh:()=>B,XA:()=>F,CR:()=>z,ev:()=>he});var d=function(K,ee){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ne,J){ne.__proto__=J}||function(ne,J){for(var ye in J)Object.prototype.hasOwnProperty.call(J,ye)&&(ne[ye]=J[ye])})(K,ee)};function Q(K,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function ne(){this.constructor=K}d(K,ee),K.prototype=null===ee?Object.create(ee):(ne.prototype=ee.prototype,new ne)}var ce=function(){return(ce=Object.assign||function(ee){for(var ne,J=1,ye=arguments.length;J<ye;J++)for(var ie in ne=arguments[J])Object.prototype.hasOwnProperty.call(ne,ie)&&(ee[ie]=ne[ie]);return ee}).apply(this,arguments)};function q(K,ee,ne,J){return new(ne||(ne=Promise))(function(ie,ze){function Ze(ct){try{qe(J.next(ct))}catch(Ie){ze(Ie)}}function Kt(ct){try{qe(J.throw(ct))}catch(Ie){ze(Ie)}}function qe(ct){ct.done?ie(ct.value):function(ie){return ie instanceof ne?ie:new ne(function(ze){ze(ie)})}(ct.value).then(Ze,Kt)}qe((J=J.apply(K,ee||[])).next())})}function B(K,ee){var J,ye,ie,ze,ne={label:0,sent:function(){if(1&ie[0])throw ie[1];return ie[1]},trys:[],ops:[]};return ze={next:Ze(0),throw:Ze(1),return:Ze(2)},"function"==typeof Symbol&&(ze[Symbol.iterator]=function(){return this}),ze;function Ze(qe){return function(ct){return function(qe){if(J)throw new TypeError("Generator is already executing.");for(;ne;)try{if(J=1,ye&&(ie=2&qe[0]?ye.return:qe[0]?ye.throw||((ie=ye.return)&&ie.call(ye),0):ye.next)&&!(ie=ie.call(ye,qe[1])).done)return ie;switch(ye=0,ie&&(qe=[2&qe[0],ie.value]),qe[0]){case 0:case 1:ie=qe;break;case 4:return ne.label++,{value:qe[1],done:!1};case 5:ne.label++,ye=qe[1],qe=[0];continue;case 7:qe=ne.ops.pop(),ne.trys.pop();continue;default:if(!(ie=(ie=ne.trys).length>0&&ie[ie.length-1])&&(6===qe[0]||2===qe[0])){ne=0;continue}if(3===qe[0]&&(!ie||qe[1]>ie[0]&&qe[1]<ie[3])){ne.label=qe[1];break}if(6===qe[0]&&ne.label<ie[1]){ne.label=ie[1],ie=qe;break}if(ie&&ne.label<ie[2]){ne.label=ie[2],ne.ops.push(qe);break}ie[2]&&ne.ops.pop(),ne.trys.pop();continue}qe=ee.call(K,ne)}catch(ct){qe=[6,ct],ye=0}finally{J=ie=0}if(5&qe[0])throw qe[1];return{value:qe[0]?qe[1]:void 0,done:!0}}([qe,ct])}}}function F(K){var ee="function"==typeof Symbol&&Symbol.iterator,ne=ee&&K[ee],J=0;if(ne)return ne.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&J>=K.length&&(K=void 0),{value:K&&K[J++],done:!K}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(K,ee){var ne="function"==typeof Symbol&&K[Symbol.iterator];if(!ne)return K;var ye,ze,J=ne.call(K),ie=[];try{for(;(void 0===ee||ee-- >0)&&!(ye=J.next()).done;)ie.push(ye.value)}catch(Ze){ze={error:Ze}}finally{try{ye&&!ye.done&&(ne=J.return)&&ne.call(J)}finally{if(ze)throw ze.error}}return ie}function he(K,ee,ne){if(ne||2===arguments.length)for(var ie,J=0,ye=ee.length;J<ye;J++)(ie||!(J in ee))&&(ie||(ie=Array.prototype.slice.call(ee,0,J)),ie[J]=ee[J]);return K.concat(ie||ee)}}},Be=>{Be(Be.s=1265)}]);